(window.webpackJsonp=window.webpackJsonp||[]).push([[17,4],{"./assets/action/buttonActions.ts":function(e,t,n){"use strict";var r=n("./assets/lib/ajax.ts"),o=n("./assets/const/API.ts"),i=n("./node_modules/antd/es/message/index.js"),a=n("./assets/lib/handy.ts"),s=n("./node_modules/braft-editor/dist/index.js"),l=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};const u=n("./node_modules/urijs/src/URI.js"),c=n("./node_modules/shortid/index.js");var f=n("./assets/action/freshTableList.ts"),d=n("./common/SYSTEM.js"),p=n.n(d),h=n("./assets/action/informServer.ts"),m=n("./node_modules/antd/es/modal/index.js"),y=n("./assets/reducer/index.ts"),v=n("./assets/const/SITE_INFO.ts"),g=n("./assets/lib/distribution.ts"),b=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};const _=n("./node_modules/shortid/index.js"),A=n("./node_modules/lc-ajax/index.js"),E=n("./node_modules/urijs/src/URI.js"),S="/"+p.a.urlVersion.value,w=[];w.push({name:"toggleContentEditModal",action:function(e){return b(this,void 0,void 0,function*(){const t=this.props.fields.find(e=>e.isPrimaryKey).keyName,n=e[t];let f,d;n?(yield this.props.dispatch({type:"table.setValue",key:"editingId",value:n}),function(e,t){l(this,void 0,void 0,function*(){console.log("record: ",t);const n=e.dispatch;if(!e.editingId)return;const l=e.fields.find(e=>e.isPrimaryKey).detailConfig;let f=o.a.getOneFromTable.url;l&&l.api&&(f=l.api);const d=new u(f);if(l){const e=l.argMap;Object.keys(e).forEach(n=>{const r=e[n];console.log("key: ",n),d.setQuery(n,t[r])})}else d.setQuery("tableName",e.tableName),d.setQuery("dbName",e.dbName),d.setQuery("keyName",e.dbName),d.setQuery("keyValue",e.editingId);let p=e.fields;p.forEach(e=>{e.keyName&&("wysiwyg"===e.type?n({type:"fields.setValue",value:s.EditorState.createFrom(),key:e.keyName}):n({type:"fields.setValue",value:null,key:e.keyName}))});const h=d.toString();let m;if(l&&l.isRedirect){const e=new u(o.a.serverRequest.url);e.setQuery("url",h),m=yield r.a.get(e.toString())}else m=yield r.a.get(h);if(200!==m.code)return void i.a.error("获取内容失败");let y=m.value;y?(p.forEach(e=>{const t=e.keyName;let r;if(r=a.a.isValuePath(e.keyName)?a.a.getValueByPath(y,e.keyName):y[t],t)if(["image","images","file"].includes(e.type)){if(!r)return;if("string"==typeof r)r=[r];else if(!Array.isArray(r))throw new Error("Can not normalize this value of file.");const o=r.map(t=>{const n=new u(t),r=c.generate();return{uid:r,url:t,name:"file"===e.type?n.filename():r,status:"done"}});n({type:"fields.setValue",value:o,key:t})}else if("wysiwyg"===e.type){const e=document.createElement("template");e.innerHTML=r;const o=e.content.querySelectorAll("img");[].forEach.call(o,function(e){if(!e.src){const t=e.getAttribute("data-src");t&&e.setAttribute("src",t)}}),r=e.innerHTML,n({type:"fields.setValue",value:s.EditorState.createFrom(r),key:t})}else n({type:"fields.setValue",value:r,key:t})}),n({type:"table.setValue",value:y,key:"originalFields"}),n({type:"table.setValue",value:e.fields,key:"fields"})):i.a.error("接口返回空的内容")})}(this.props,e),f="编辑",d=!0):(console.log("add new content"),this.props.fields.forEach(e=>{if(void 0!==e.defaultValue)e.keyName&&y.default.dispatch({type:"fields.setValue",value:e.defaultValue,key:e.keyName});else if(e.source){const t=e.source,n=(new E).query(!0);let r;if("url"!==t.from)throw new Error("This is not a valid source property, please check document.");r=t.keyName?n[t.keyName]:n[e.keyName],console.log("source value: ",r),y.default.dispatch({type:"fields.setValue",value:r,key:e.keyName})}else y.default.dispatch({type:"fields.setValue",value:void 0,key:e.keyName})}),f="新建",d=!1),this.props.dispatch({type:"modal.toggle",modalName:"contentEditModal",options:{modalTitle:f,isEditing:d}}),this.props.dispatch({type:"table.setValue",value:{isEdited:!1}})})}}),w.push({name:"deleteItem",action:function(e){return b(this,void 0,void 0,function*(){const t=this.props.fields.find(e=>!!e.isPrimaryKey),n=t.deleteConfig||{},a=n&&n.deleteText||"删除后不能恢复，确定？";if(!1===window.confirm(a))return;let s=o.a.deleteOneFromTable.url;n.api&&(s=n.api);const l={};n.argMap?Object.keys(n.argMap).forEach(t=>{const r=n.argMap[t];let o="";if("string"==typeof r?o=r:(o=r.keyName,"string"===r.type&&(e[o]=e[o]+"")),n.method&&"GET"===n.method.toUpperCase()){const n=new E(s);n.setQuery(t,e[o]),s=n.toString()}else l[t]=e[o]}):(l.dbName=this.props.dbName,l.tableName=this.props.tableName,l.keyValue=e[t.keyName]);let u=A.post;if(n.method&&"GET"===n.method.toUpperCase()&&(u=r.a.get),n.isRedirect){const e=new E(o.a.serverRequest.url);e.setQuery("url",s),s=e.toString()}let c="json";"URLENCODED"===n.enctype&&(c="URLENCODED");const f=yield u(s,l,{},c);200===f.code?(i.a.success("删除成功"),setTimeout(()=>this.freshList(),1),h.a.call(this)):i.a.error("删除失败："+f.message)})}}),w.push({name:"manageItem",action:function(e){return b(this,void 0,void 0,function*(){const t=this.props.fields.find(e=>!!e.isPrimaryKey),n=e[t.keyName];this.props.history.push(S+"/page/distribution/channel/distribution-manage?keyValue="+encodeURIComponent(n))})}}),w.push({name:"blockItemFromDis",action:function(e){return b(this,void 0,void 0,function*(){yield r.a.post(o.a.blockDistribution.url,{item:e});const t=new E;t.setQuery("page",1),yield this.props.setValue("page",1),this.props.history.push(t.pathname()+t.search())})}}),w.push({name:"pushUpItemFromDis",action:function(e){return b(this,void 0,void 0,function*(){const t=yield r.a.post(o.a.pushUpDistribution.url,{item:e});if(200===t.code){const e=new E;yield this.props.setValue("page",1),e.setQuery("page",1),this.props.history.push(e.pathname()+e.search())}else i.a.error(t.message)})}}),w.push({name:"deleteItemFromDis",action:function(e){return b(this,void 0,void 0,function*(){const t=yield r.a.post(o.a.removeTableRecord.url,{tableName:"T_CONTENT_DIS_FLITER",fields:{FDISID:e.disId,FCONTENT_ID:e.id}});if(200===t.code){const e=new E;e.setQuery("page",1),this.props.history.push(e.pathname()+e.search())}else i.a.error(t.message)})}}),w.push({name:"pullDownFromDis",action:function(e){return b(this,void 0,void 0,function*(){const t=yield r.a.post(o.a.updateTableRow.url,{tableName:"T_CONTENT_DIS_FLITER",fields:{FCONTENT_ID:e.id,FORDER:1}});if(200===t.code){const e=new E;e.setQuery("page",1),this.props.history.push(e.pathname()+e.search())}else i.a.error(t.message)})}}),w.push({name:"setItemStyleFromDis",action:function(e){return b(this,void 0,void 0,function*(){this.props.dispatch({type:"disManage.setValue",key:"isEditDisplayModalOpen",value:!0});const t=yield r.a.post(o.a.queryOne.url,{tableName:"T_CONTENT_DIS_DISPLAY",fields:{FCONTENT_ID:e.id}});if(200===t.code){const n=t.value;n.FID||(n.FDISID=e.disId,n.FCONTENT_ID=e.id,n.FDISPLAY_STYLE=e.displayStyle,n.FOPEN_TYPE=e.openType,n.FOPEN_URL=e.openUrl),delete n.FPOSITION,delete n.FUPDATE_TIME,delete n.FCREATE_TIME,this.props.dispatch({type:"disManage.setValue",key:"editingStyle",value:n})}})}}),w.push({name:"openCrawlTester",action:function(){this.props.dispatch({type:"modal.toggle",key:"crawlTest",isOpen:!0,options:{}})}}),w.push({name:"openVideoInput",action:function(){return b(this,void 0,void 0,function*(){yield y.default.dispatch({type:"videoInput.setValue",key:"isOpen",value:!0})})}}),w.push({name:"import",action:function({tableName:e}){return b(this,void 0,void 0,function*(){e=e||this.props.tableName;let t=document.getElementById("import-data");t||((t=document.createElement("input")).setAttribute("id","import-data"),t.setAttribute("type","file"),t.setAttribute("accept",".json"),t.style.display="none",document.body.appendChild(t)),t.onchange=(()=>{const n=t.files;if(n.length){const r=n[0],a=new FormData;a.append("data.json",r),a.append("tableName",e);const s=new XMLHttpRequest;s.open("POST",o.a.importData.url),s.onload=(()=>{t.value="";const e=JSON.parse(s.responseText);200===e.code?(i.a.success("上传成功."),f.a.call(this)):i.a.error(e.message)}),s.send(a)}console.log(n)}),t.click()})}}),w.push({name:"export",action:function({tableName:e}){return b(this,void 0,void 0,function*(){e=e||this.props.tableName;const t=new E(o.a.exportData.url);t.origin(window.location.origin),t.setQuery("tableName",e),window.location.assign(t.toString())})}}),w.push({name:"makeUrl",action:function(e){return b(this,void 0,void 0,function*(){yield y.default.dispatch({type:"modal.toggle",key:"makeUrl",isOpen:!0,options:e})})}}),w.push({name:"makeScheme",action:function(e){return b(this,void 0,void 0,function*(){yield y.default.dispatch({type:"modal.toggle",key:"makeScheme",isOpen:!0,options:e})})}}),w.push({name:"distribute",action:function(e){return b(this,void 0,void 0,function*(){yield y.default.dispatch({type:"modal.toggle",key:"distribute",isOpen:!0,options:e})})}});const k=function(e,t){return b(this,void 0,void 0,function*(){const n=new E(t);n.setQuery("id",e.id);const a=new E(o.a.serverRequest.url);a.setQuery("url",n.toString());const s=yield r.a.get(a.toString());200===s.code?(i.a.success("操作成功！"),this.freshList()):i.a.error(s.message)})};function I({status:e,contentId:t,cpId:n,cpEntityId:a}){return b(this,void 0,void 0,function*(){const s=new E("http://om.iflow.meizu.com/service/biz/contents/status");s.setQuery("status",e),s.setQuery("contentId",t),s.setQuery("cpEntityId",a),s.setQuery("cpId",n);const l=new E(o.a.serverRequest.url);l.setQuery("url",s.toString());const u=yield r.a.get(l.toString());200===u.code?(i.a.success("操作成功"),this.freshList()):i.a.error(u.message)})}w.push({name:"deleteSpecialContent",action:function(e){k.call(this,e,v.a.domain+"/service/article/special/del")}}),w.push({name:"offShelf",action:function(e){k.call(this,e,v.a.domain+"/service/article/notrelease")}}),w.push({name:"onShelf",action:function(e){return b(this,void 0,void 0,function*(){k.call(this,e,v.a.domain+"/service/article/release")})}}),w.push({name:"filter",action:function(e){return b(this,void 0,void 0,function*(){k.call(this,e,v.a.domain+"/service/article/special/add")})}}),w.push({name:"manageFunctionRule",action:function(e){return b(this,void 0,void 0,function*(){const t=this.props.fields.find(e=>e.isPrimaryKey);this.props.history.push(S+"/page/analysis/transfer/rule-manage?FFUNCTION_ID="+encodeURIComponent(e[t.keyName]))})}}),w.push({name:"stopDistribute",action:function(e){return b(this,void 0,void 0,function*(){console.log("item: ",e),m.a.confirm({title:"提示",content:"暂停下发后，此 CP 的内容即时停止下发，下个自然月开始自动启动下发",onOk:()=>b(this,void 0,void 0,function*(){const t=new E(o.a.serverRequest.url);t.setQuery("url","https://sge.meizu.com/msr/cpgroup/offline");const n=yield A.post(t.toString(),{cps:e.FCPID},{},"URLENCODED");if(200===n.code){200===(yield r.a.post(o.a.updateTableRow.url,{tableName:"T_CONTENT_VIEW_STATUS",fields:{FCPID:e.FCPID,FSTAT_DATE:e.FSTAT_DATE,FSTATUS:4}})).code?(i.a.success("操作成功"),f.a.call(this)):i.a.error("推荐平台操作成功，状态写入失败")}else-100===n.code?m.a.confirm({title:"",content:"无法获取当前账户的UAC信息或当前账户权限不足，请点击确定跳转到“通用权限平台”登录，查看“系统功能权限->cp下线”是否已授权，如已授权则返回当前页面，刷新后操作。",onOk:()=>{window.open("https://sct.meizu.com/?ssCode=sge","_blank")}}):i.a.error(n.message)})})})}}),w.push({name:"downloadCSV",action:function(){return b(this,void 0,void 0,function*(){f.a.call(this,{exposeType:"csv"})})}}),w.push({name:"searchAuthor",action:function(e){const t=e.FNAME;this.props.history.push("/v2/page/content-manage/article?author="+t)}}),w.push({name:"visitContent",action:function(e){return b(this,void 0,void 0,function*(){const t=window.open("");if([3,11].includes(e.type)){let n="";const a=window.location.protocol+"//om.iflow.meizu.com/service/article/playurl",s=new E(a);s.setQuery("cpEntityId",e.cpEntityId||e.uniqueId),s.setQuery("cpId",e.cpId||e.resourceType);const l=new E(o.a.serverRequest.url);l.setQuery("url",s.toString());const u=yield r.a.get(l.toString());if(200===u.code){const e=u.value;Array.isArray(e)&&e.length&&(n=e[0].mainUrl)}if(n||(n=e.link||e.h5Url),n){if("mp4"===new E(n).suffix()){const e=new E("/v2/html/videoPlayer");e.setQuery("videoUrl",n),t.location.href=e.toString()}else t.location.href=n}else i.a.error("找不到播放地址")}else{if(e.link)return void(t.location.href=e.link);if(e.h5Url)return void(t.location.href=e.h5Url)}})}}),w.push({name:"viewAuthorArticleList",action:function(e){return b(this,void 0,void 0,function*(){y.default.dispatch({type:"modal.toggle",modalName:"authorArticlesPreview",options:e})})}}),w.push({name:"selectAnalysisRule",action:function(e){y.default.dispatch({type:"modal.toggle",modalName:"selectAnalysisRule",options:e})}}),w.push({name:"publicArticle",action:function(){m.a.confirm({title:"发布",content:"编辑后的内容未经过审核，是否发布？",onOk:()=>b(this,void 0,void 0,function*(){yield this.submit(),w.find(e=>"onShelf"===e.name).action.call(this,this.props.formFields)}),okText:"确定",cancelText:"取消"})}}),w.push({name:"publicVideo",action:function(){m.a.confirm({title:"发布",content:"编辑后的内容未经过审核，是否发布？",onOk:()=>b(this,void 0,void 0,function*(){yield y.default.dispatch({type:"fields.setValue",value:{status:1}}),this.submit()}),okText:"确定",cancelText:"取消"})}}),w.push({name:"videoOffShelf",action:function(e){I.call(this,{status:2,contentId:e.contentId,cpId:e.cpId,cpEntityId:e.cpEntityId})}}),w.push({name:"videoOnShelf",action:function(e){I.call(this,{status:1,contentId:e.contentId,cpId:e.cpId,cpEntityId:e.cpEntityId})}});w.push({name:"crawlUrl",action:function(e){return b(this,void 0,void 0,function*(){const t=JSON.parse(JSON.stringify(this.props.fields)),n=t.find(t=>t.keyName===e.keyName),a=n.buttons.find(e=>"crawlUrl"===e.actionName);a.isLoading=!0,a.loadingTime=60,a.tempName="";const s=function(e){y.default.dispatch({type:"table.setValue",value:e})};s({fields:t});const l=function(e){clearInterval(e),a.isLoading=!1,a.tempName=null,s({fields:t})},u=setInterval(()=>{const n=this.props.fields.find(t=>t.keyName===e.keyName).buttons.find(e=>"crawlUrl"===e.actionName);n.isLoading&&n.loadingTime?(a.loadingTime=a.loadingTime-1,a.tempName=a.loadingTime,s({fields:t})):l(u)},1e3),c=yield r.a.post(o.a.crawlUrl.url,{url:this.props.formFields[n.keyName]});if(200===c.code){const e=c.value,n=JSON.parse(JSON.stringify(this.props.formFields)),r=function(e,t){n[e]=t};r("author",e.author),r("content",e.content),t.find(e=>"content"===e.keyName)._key=_.generate(),r("title",e.title),r("contentTitle",e.title),r("cpSource",e.source),r("imgUrls",e.imgMap.map(e=>(e.uid=_.generate(),e.name=e.id,e.status="done",e.thumbUrl=e.url,e))),r("keywords",e.keywords.join(",")),s({fields:t}),y.default.dispatch({type:"fields",value:n}),i.a.success("抓取成功")}else i.a.error(c.message);a.isLoading=!1,s({fields:t})})}}),w.push({name:"copy",action:function(e){const t=this.props.formFields[e.keyName],n=document.createElement("input");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),n.parentElement.removeChild(n)}}),w.push({name:"previewVideo",action:function(e){const t=this.props.formFields[e.keyName];window.open(t,"_blank")}}),w.push({name:"openBatchSet",action:function(e){y.default.dispatch({type:"modal.toggle",modalName:"batchSet",options:e})}}),w.push({name:"newGrabApi",action:function(e){const t=(new E).query(!0).cpId;this.props.history.push("/v2/page/analysis/cp-transfer/cp-api-list/cp-api-manage?cpId="+t)}});const C=function({tableName:e,fields:t}){return b(this,void 0,void 0,function*(){const n=yield r.a.post(o.a.updateTableRow.url,{tableName:e,fields:t});200===n.code?(i.a.success("数据保存成功"),this.props.freshList.call(this)):i.a.error("操作失败: "+n.message)})};w.push({name:"offlineCP",action:function(e){return i.a.error("该功能正在开发中")}}),w.push({name:"onlineCP",action:function(e){return i.a.error("该功能正在开发中")}}),w.push({name:"algorithmContentOnline",action:function(e){C.call(this,{tableName:"T_CONTENT_DIS",fields:{FID:e.FID,FSTATUS:1}}),g.a.freshCache.call(this,e.FID)}}),w.push({name:"algorithmContentOffline",action:function(e){C.call(this,{tableName:"T_CONTENT_DIS",fields:{FID:e.FID,FSTATUS:4}}),g.a.freshCache.call(this,e.FID)}});t.a=w},"./assets/action/freshTableList.ts":function(e,t,n){"use strict";var r=n("./assets/lib/ajax.ts"),o=n("./assets/const/API.ts"),i=n("./node_modules/antd/es/message/index.js"),a=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};n("./common/filter/index.js");const s=n("./node_modules/urijs/src/URI.js");t.a=function(e={}){return a(this,void 0,void 0,function*(){const t=e.exposeType,n=this.props;if(!n.tableName||!n.dbName)throw new Error("Can not find dbName and tableName.");const a=(new s).query(!0),l=n.page||1,u=n.pageSize||10;let c=n.dispatch;const f=o.a.queryTable.url,d={dbName:n.dbName,tableName:n.tableName,offset:(l-1)*u,pageSize:u},p={};if(n.queryFields.forEach(e=>{[null,void 0,""].includes(e.value)||(e.searchMode&&"LIKE"===e.searchMode.toUpperCase()?p[e.keyName]=`%${e.value}%`:p[e.keyName]=e.value)}),Object.keys(a).forEach(e=>{const t=n.fields.find(t=>t.keyName===e);t&&(p[e]=a[e],"number"===t.valueType&&(p[e]=+p[e]))}),Object.keys(p).length&&(d.filter=p),a.sortBy){const e=a.sortOrder||"ASC";d.sortBy=a.sortBy,d.sortOrder=e}if(t){d.exposeType=t;const e=new s(f);Object.keys(d).forEach(t=>{d[t]&&"object"==typeof d[t]?e.setQuery(t,encodeURIComponent(JSON.stringify(d[t]))):e.setQuery(t,d[t])}),window.location.assign(e.toString())}else{c({type:"table.setValue",value:[],key:"list"}),c({type:"table.setValue",value:0,key:"total"}),c({type:"table.setValue",value:!0,key:"isLoading"});const e=yield r.a.post(f,d);if(c({type:"table.setValue",value:!1,key:"isLoading"}),200===e.code&&e.value){const t=e.value;Array.isArray(t.list)&&(c({type:"table.setValue",value:t.list,key:"list"}),c({type:"table.setValue",value:t.total,key:"total"}))}else i.a.error(e.message)}})}},"./assets/action/informServer.ts":function(e,t,n){"use strict";var r=n("./node_modules/antd/es/message/index.js"),o=n("./assets/lib/ajax.ts"),i=n("./assets/const/API.ts"),a=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};const s=n("./node_modules/urijs/src/URI.js");t.a=function(){return a(this,void 0,void 0,function*(){const e=this.props.fields.find(e=>e.isPrimaryKey);if(e&&e.informServer){const t=new s(e.informServer.api),n=new s(i.a.serverRequest.url);n.setQuery("url",t.toString());const a=yield o.a.get(n.toString());200===a.code?r.a.success("刷新缓存成功"):r.a.error("刷新缓存失败，JAVA服务器返回信息："+a.message)}})}},"./assets/action/miscellaneous.ts":function(e,t,n){"use strict";var r=n("./assets/lib/ajax.ts"),o=n("./assets/const/API.ts"),i=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};const a=n("./node_modules/urijs/src/URI.js"),s={freeOrNotCP:[],chargeCP:[],maxExposeAmount:0,isRes:!1,channelOptions:[]},l=[{name:"initOMParameter",action:function(){return i(this,void 0,void 0,function*(){if(!0===s.isRes)return;const e=yield r.a.post(o.a.queryOne.url,{tableName:"T_OM_PARAMETER",selectFields:[{keyName:"FVALUE"}],filter:{FTYPE:"cp",FKEY:"view_count_limit"}});if(200===e.code){if(!e.value.FVALUE)return void console.error("配置平台未填写“收费CP”和“CP浏览量最大值”");s.isRes=!0;const t={};e.value.FVALUE.replace(/[\{\}]/,"").split(",").map(e=>e.trim()).forEach(e=>{const n=e.split(":").map(e=>e.trim().replace(/\'/g,""));t[n[0]]=+n[1]}),s.maxExposeAmount=+t[-1];const n=[],r=Object.keys(t),o=[];for(const e of r)"-1"!==e&&o.push(e);const i=o.join(",");n.push({name:"是",value:i}),s.freeOrNotCP=n,s.chargeCP=o.map(e=>+e),console.log("cache: ",s)}})}},{name:"maxExposeAmount",action:function(){return s.maxExposeAmount}},{name:"freeOrNotCP",action:function(){return s.freeOrNotCP}},{name:"sum-row",action:function(e){return e&&"sum"===e.key?"sum-row":""}},{name:"isFreeOrNotRow",action:function(e){const t=(new a).query(!0);if(!t)return"";let n=t.filter;if(!n)return"";if("string"==typeof n&&(n=JSON.parse(decodeURIComponent(n))),n.FCPID)return"";{const t=s.chargeCP,n=e.FCPID;return t.includes(n)?"green":""}}}];l.push({name:"highlightAddedDistribution",action:function(e){return 0!==e.fliterOrder?"green":""}}),l.push({name:"changeVideoStatus",action:function(){return i(this,void 0,void 0,function*(){yield this.props.dispatch({type:"fields.setValue",value:{status:2}})})}}),l.push({name:"initChannelList",action:function(){return i(this,void 0,void 0,function*(){const e=yield r.a.get(o.a.queryTable.url,{tableName:"T_CHANNEL"});if(200===e.code){const t=e.value.list||[],n=[];return s.subChannelOptions=t.map(e=>(!1===n.some(t=>t.value===e.FCHANNEL_ID)&&n.push({name:e.FNAME,value:e.FCHANNEL_ID}),{name:e.FCNAME,value:e.FID,row:e})),void(s.channelOptions=n)}throw new Error("Can not fetch channel list: "+JSON.stringify(e))})}}),l.push({name:"channelOptions",action:function(){return s.channelOptions}}),l.push({name:"subChannelOptions",action:function(){return s.subChannelOptions}}),t.a=l},"./assets/component/table/List.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-loadable/lib/index.js"),i=n.n(o),a=n("./node_modules/antd/es/spin/index.js"),s=n("./node_modules/antd/es/table/index.js"),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/react-router/es/withRouter.js"),c=n("./assets/action/miscellaneous.ts"),f=n("./assets/action/buttonActions.ts"),d=n("./assets/lib/handy.ts"),p=n("./node_modules/antd/es/menu/index.js"),h=n("./node_modules/antd/es/button/index.js"),m=n("./node_modules/antd/es/tooltip/index.js"),y=n("./node_modules/antd/es/dropdown/index.js"),v=n("./node_modules/antd/es/rate/index.js"),g=n("./node_modules/react-router-dom/es/Link.js"),b=n("./assets/const/MISC.ts");const _=n("./node_modules/lc-time-format/index.js"),A=n("./node_modules/urijs/src/URI.js"),E=n("./assets/img/default.jpg");var S=function(e,t,n,o){let i,a="";if(d.a.isValuePath(o.keyName)&&(e=d.a.getValueByPath(t,o.keyName)),o.isShowRawValue)a=i=e;else if("select"===o.type){if("bit"===o.valueType){if((e=+e)<0)throw new Error("Value type is bit. The value should not negative.");e=d.a.transferIntToBitIndex(e)}if("multiple"===o.mode)a=i=e.map(e=>{const t=o.options.find(t=>t.value===e);return!!t&&t.name}).filter(e=>!1!==e).join(o.joinSymbol||",");else{const t=o.options.find(t=>"number"==typeof t.value?t.value===+e:t.value===e);t?a=i=t.name:i="-"}}else if(["update-time","create-time","date","time"].includes(o.type))i=_(new Date(e),"Y-M-D H:N:S");else if("button"===o.type){const e=o.buttonType||"link",a=[],s=[];for(const i of o.buttons){let o=!0;if(void 0!==i.isShow&&("string"==typeof i.isShow?o=i.isShow(t):i.isShow.keyName?Array.isArray(i.isShow.keyValue)?!1===i.isShow.keyValue.includes(t[i.isShow.keyName])&&(o=!1):i.isShow.keyValue!==t[i.isShow.keyName]&&(o=!1):o=!!i.isShow),i.isShow&&i.isShow.isNotEqual&&(o=!o),!o)continue;const l={className:"link"};if(l.key=i.name,l.type=i.type||e,i.actionName){const e=f.a.find(e=>e.name===i.actionName);l.onClick=e.action.bind(this,t)}if(!0===i.isDisabled&&(l.disabled=!0),i.isDropdown)s.push(r.createElement(p.a.Item,{key:i.actionName+"-"+n},i.name));else if(i.link){const e=new A(i.link.href);Object.keys(i.link.argMap).forEach(n=>{const r=i.link.argMap[n];e.setQuery(n,t[r])});const n=e.toString();a.push(r.createElement(h.a,Object.assign({},l),r.createElement(g.a,{key:i.name,to:n},i.name)))}else{const e=r.createElement(h.a,Object.assign({},l),i.name);i.tooltip?a.push(r.createElement(m.a,{key:i.name,title:i.tooltip.title},e)):a.push(e)}}if(s.length){const n=r.createElement(p.a,{onClick:this.overlayClick.bind(this,t)},s),i={};i.type=o.dropdownType||e,i.icon="ellipsis",a.push(r.createElement(y.a,{key:"dropdown-menu",trigger:["click"],overlay:n},r.createElement(h.a,Object.assign({},i))))}i=r.createElement(h.a.Group,null,a)}else"image"===o.type?e?(o.split&&(e=e.split(",")[0]),i=r.createElement("img",{src:e})):i=o.isBlank?r.createElement("img",{src:b.a}):r.createElement("img",{src:E}):"rate"===o.type?i="text"===o.listType?e:r.createElement(v.a,{disabled:!0,defaultValue:e}):a=i=e;if("string"==typeof i&&o.link){const e={target:"_blank"};if(o.link.target&&(e.target=o.link.target),o.link.query){let n=o.link.prefix,r=new A(n);o.link.query&&r.setQuery(o.link.query.key,t[o.link.query.value]),e.href=r.toString()}else o.link.keyName&&(e.href=t[o.link.keyName]);i=r.createElement("a",Object.assign({},e),i)}let s={style:{}};o.width&&("number"==typeof o.width?s.style.width=o.width+"px":s.style.width=o.width),s.className="field-value",o.hasTooltip||o.tooltip||(s.title=a),"sum"===t.key&&o.maxRed&&c.a.find(e=>e.name===o.maxRed).action()<e&&(s.className+=" max-red");if(o.click){const e=f.a.find(e=>e.name===o.click.actionName);s.onClick=e.action.bind(this,t),s.className+=" clickable"}if(i=r.createElement("span",Object.assign({},s),i),!0===o.hasTooltip||o.tooltip)if(o.tooltip){let e="";o.tooltip.title?e=o.tooltip.title:o.tooltip.keyName&&(e=t[o.tooltip.keyName]),e&&(i=r.createElement(m.a,{arrowPointAtCenter:!0,title:e},r.createElement("span",{className:"clickable"},i)))}else i=r.createElement(m.a,{arrowPointAtCenter:!0,title:a},i);return i},w=n("./assets/lib/page.ts"),k=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};const I=n("./node_modules/urijs/src/URI.js"),C=i()({loader:()=>Promise.all([n.e(3),n.e(5),n.e(36),n.e(35)]).then(n.bind(null,"./assets/component/Modal/EditFormModal.tsx")),loading:()=>r.createElement("div",null,"loading...")});const x=Object(l.b)(e=>{let t=e.table;return t.formFields=e.fields,t},e=>({setValue:(t,n)=>e({type:"table.setValue",value:n,key:t}),setEditFormValue:(t,n)=>e({type:"editForm.setValue",value:n,key:t}),dispatch:e}))(class extends r.Component{constructor(e){super(e),this.showList=[],this.primaryField={},this.pageChange=(e=>{const t=new I;t.setQuery("page",e),this.props.history.push(t.pathname()+"?"+t.query())}),this.pageSizeChange=((e,t)=>{const n=new I;n.setQuery("pageSize",t),n.setQuery("page",1),this.props.history.push(n.pathname()+"?"+n.query())}),this.tableChange=((e,t,n)=>k(this,void 0,void 0,function*(){if("fake"===this.listConfig.pager)return this.props.setValue("pageSize",e.pageSize),void this.props.setValue("page",e.current);const t=new I,r=t.query(!0);if((+r.pageSize||10)!==e.pageSize)return yield this.props.setValue("pageSize",e.pageSize),yield this.props.setValue("page",e.current),"redux"===this.props.queryType?this.freshList():(t.setQuery("page",1),t.setQuery("pageSize",e.pageSize),void this.historyPush(t));if((this.props.page||+r.page||1)!==e.current)return yield this.props.setValue("page",e.current),"redux"===this.props.queryType?this.freshList():(t.setQuery("page",e.current),void this.historyPush(t));const o=r.sortBy,i=r.sortOrder;if(o!==n.field||i!==n.order){if(!n.field)return t.removeQuery(["sortBy","sortOrder"]),void this.historyPush(t);t.setQuery("sortBy",n.field);let e="";return"descend"===n.order&&(e="DESC"),"ascend"===n.order&&(e="ASC"),t.setQuery("sortOrder",e),void this.historyPush(t)}})),this.freshList=e.freshList,w.a.onPageFinished=(()=>k(this,void 0,void 0,function*(){if(console.log("list page finished."),this.freshList&&this.freshList(),this.primaryField=this.props.fields.find(e=>!!e.isPrimaryKey),this.listConfig=this.primaryField.listConfig||{},!this.primaryField)throw new Error("Must provide primary key definition.")}))}shouldComponentUpdate(e){return this.props.isLoading!==e.isLoading||!1===w.a.isSwitching&&!1===e.isLoading}componentDidMount(){return k(this,void 0,void 0,function*(){const e=(new I).query(!0);yield this.props.setValue("pageSize",+e.pageSize||10),yield this.props.setValue("page",+e.page||1);const t=window.location.pathname,n=this.props.history.listen(()=>k(this,void 0,void 0,function*(){if(t!==window.location.pathname)return n(),void console.log("path name has been change. no freshing list follow.");const e=(new I).query(!0);e.page&&e.pageSize&&(this.props.page!==+e.page&&(yield this.props.setValue("page",+e.page)),this.props.pageSize!==+e.pageSize&&(yield this.props.setValue("pageSize",+e.pageSize))),this.freshList()}))})}fieldChange(e,t){this.props.setFieldsValue(e.keyName,t.target.value)}sort(e){return k(this,void 0,void 0,function*(){const t=this.props.sortBy,n=this.props.sortOrder,r=e.keyName;if(t)if(t===r){const e=n?"DESC"===n?"ASC":"DESC":"ASC";yield this.props.setValue("sortOrder",e)}else yield this.props.setValue("sortOrder","DESC"),yield this.props.setValue("sortBy",r);else yield this.props.setValue("sortOrder","DESC"),yield this.props.setValue("sortBy",r);this.freshList()})}historyPush(e){this.props.history.push(e.pathname()+"?"+e.query())}overlayClick(e,t){const n=t.key.split("-"),r=n[0];n[1],f.a.find(e=>e.name===r).action.call(this,e)}render(){if(w.a.isSwitching)return"";const e=(new I).query(!0),t=this.props.fields,n={},o=t.filter(e=>!0!==e.unlistable).map(t=>{let n=t.keyName||t.name;const r={title:t.name,dataIndex:n,render:(e,n,r)=>S.call(this,e,n,r,t),key:t.name||t.keyName};return t.sortable&&(r.sorter=!0),e.sortBy===t.keyName&&("ASC"===e.sortOrder?r.sortOrder="ascend":"DESC"===e.sortOrder?r.sortOrder="descend":r.sortOrder=!1),t.width&&(r.width=t.width),r}),i=this.props.list.slice();let l;!1===this.listConfig.pager?l=!1:"more"===this.listConfig.pager?l=!1:["fake",void 0].includes(this.listConfig.pager)&&(l={total:this.props.total,pageSize:this.props.pageSize,showQuickJumper:!0,current:this.props.page,showSizeChanger:!0});const u=t.filter(e=>!!e.isSum);if(u.length){const e={key:"sum"};e[t.find(e=>void 0===e.unlistable).keyName]="汇总";for(const t of i)for(const n of u)void 0===e[n.keyName]&&(e[n.keyName]=0),e[n.keyName]+=t[n.keyName]||0;i.push(e)}return n.pagination=l,n.columns=o,n.dataSource=i,n.size="middle",n.className="table-list",n.loading=this.props.isLoading,n.onChange=this.tableChange,n.rowKey=this.primaryField.keyName,n.rowClassName=this.primaryField&&this.primaryField.rowClassName?(e,t)=>c.a.find(e=>e.name===this.primaryField.rowClassName.action).action.call(this,e):"",n.bordered=!0,"more"===this.listConfig.pager&&i.length&&!0!==this.props.noMore&&(n.footer=(()=>{let e="更多";n.loading&&(e=r.createElement(a.a,null));const t={className:"more"};return t.onClick=(()=>k(this,void 0,void 0,function*(){yield this.props.setValue("page",this.props.page+1),this.freshList.call(this)})),r.createElement("div",Object.assign({},t),e)})),r.createElement("div",{className:"content-list"},r.createElement(s.a,Object.assign({},n)),r.createElement(C,{freshList:this.freshList}))}}),N=Object(u.a)(x);t.a=N},"./assets/const/API.ts":function(e,t,n){"use strict";const r="/"+n("./common/SYSTEM.js").urlVersion.value+"/api",o={tableQuery:{url:"/table/list",description:"查询mysql表数据，该接口将会失效"},queryTable:{url:"/table/query",description:"查询mysql表数据，优先使用这个",type:"all"},queryOne:{url:"/table/query-one",description:"跟queryTable差不多，但只获取一个"},removeTableRecord:{url:"/table/remove",description:"删除指定fields的数据，可以删除一个或多个"},getByKeyName:{url:"/table/getByKeyName",description:"通过keyName字段去查询表中数据"},tableDistinctQuery:{url:"/table/distinct",description:"滤重方式查询mysql的某个字段"},getOneFromTable:{url:"/table/one",description:"通过主键ID的值，从mysql表中获取单条数据"},updateTableRow:{url:"/table/upsert",description:"更新或新增mysql表中的某条数据，仅支持POST方式"},duplicateRow:{url:"/table/duplicateOne",description:"复制一条纪录到同一个表"},multiTableUpsert:{url:"/table/multi-upsert",description:"可以单次提交多个mysql表的更新或新增"},multiTableSave:{url:"/table/multi-save",description:"可以提交多个表的更新操作，包括新增、删除、更新"},reUploadImage:{url:"/common/re-upload",description:"转发上传图片到java服务器"},serverRequest:{url:"/common/redirect",description:"由于权限和跨域的原因，浏览器不能直接请求某个API，需要用这个API来帮忙请求。"},deleteOneFromTable:{url:"/table/deleteOne",description:"从 mysql 表中删除某条数据"},saveDistribution:{url:"/distribution/save",description:"保存分发运营配置"},pushUpDistribution:{url:"/distribution/pushUp",description:"置顶某条内容"},blockDistribution:{url:"/distribution/block",description:"屏蔽某条内容"},getDistributionStyle:{url:"/distribution/getStyle",description:"获取某条位置的样式"},saveDistributionStyle:{url:"/distribution/saveStyle",description:"保存某条位置的样式"},freshDistributionCache:{url:"/distribution/freshCache",description:"刷新缓存"},crawlUrl:{url:"/crawl/getContent",description:"抓取某个页面的内容，返回json数据",type:"POST"},exportData:{url:"/table/export",description:"下载SQL数据",type:"GET"},importData:{url:"/table/import",description:"上传SQL数据",type:"POST"},saveImage:{url:"/crawl/save-image",description:"保存图片到魅族服务器",type:"POST"}};Object.keys(o).forEach(e=>o[e].url=r+o[e].url),t.a=o},"./assets/const/MISC.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});const r="YYYY-MM-DD HH:mm:ss",o="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},"./assets/img/default.jpg":function(e,t,n){e.exports=n.p+"assets/23dec7018c923dc139b7dad1148ff02d.jpg"},"./assets/lib/Component.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/react/index.js"),o=n("./assets/lib/handy.ts");class i extends r.Component{constructor(e){super(e),o.a.setTitle(e)}}},"./assets/lib/distribution.ts":function(e,t,n){"use strict";var r=n("./node_modules/antd/es/message/index.js"),o=n("./assets/const/API.ts"),i=n("./assets/lib/ajax.ts"),a=n("./assets/lib/handy.ts"),s=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};const l=n("./common/enum/ALGORITHM.js"),u=n("./node_modules/urijs/src/URI.js"),c=n("./node_modules/shortid/index.js"),f={getDefaultCondition(e){return s(this,void 0,void 0,function*(){let t=[];const n=yield i.a.get(o.a.getByKeyName.url,{dbName:"MEIZU_CONTENTS",tableName:"T_CONTENT_DIS_CONDITION",keyValue:e.FID,keyName:"FDISID"});if(Array.isArray(n.value)){t=n.value.map(e=>{0===e.FCPID&&(e.FCPID=null);const t=e.FSUB_CATEGORY;return e.FSUB_CATEGORY={value:t,options:[]},e._action="set",e._key=c.generate(),e});for(let e of t)e.FCATEGORY&&(e.FSUB_CATEGORY.options=yield this.getSubCategory(e.FCATEGORY))}return t})},getFirstCategory(){return s(this,void 0,void 0,function*(){let e=[];const t=yield i.a.get(o.a.tableDistinctQuery.url,{dbName:"MEIZU_CONTENTS",tableName:"T_CONTENT_CATEGORY",keyName:"FCATEGORY"});return 200===t.code&&Array.isArray(t.value)&&(e=t.value.map(e=>({name:e.FCATEGORY,value:e.FCATEGORY}))).push({name:"无",value:null}),e})},getSubCategory(e){return s(this,void 0,void 0,function*(){const t=yield i.a.get(o.a.getByKeyName.url,{dbName:"MEIZU_CONTENTS",tableName:"T_CONTENT_CATEGORY",keyName:"FCATEGORY",keyValue:e});if(200===t.code){if(Array.isArray(t.value)){const e=t.value.map(e=>({name:e.FSUB_CATEGORY,value:e.FSUB_CATEGORY}));return e.push({name:"无",value:null}),e}return[]}r.a.error(t.message)})},getConditions(e){return s(this,void 0,void 0,function*(){e=e||this.props.selectedAlgorithm;const t=(new u).query(!0).disId,n=yield i.a.get(o.a.getByKeyName.url,{dbName:"MEIZU_CONTENTS",tableName:"T_CONTENT_DIS_CONDITION",keyValue:t,keyName:"FDISID"});if(200===n.code){if(Array.isArray(n.value)){const a=n.value.filter(e=>!e.FALGOVER).map(e=>({category:e.FCATEGORY||null,cpId:0===e.FCPID?null:e.FCPID,subCategory:e.FSUB_CATEGORY||null,type:void 0===e.FTYPE?null:e.FTYPE,id:e.FID})),s=n.value.filter(e=>!!e.FALGOVER),u={},c={tableName:"T_CONTENT_DIS_CONDITION",rows:[]};for(const e of l){const n=e.value;if(!n)continue;const r=s.find(e=>e.FALGOVER===n);if(!r||[null,void 0,""].includes(r.FCATEGORYID)){const o=yield f.getCategory.call(this,n);if(!1===Array.isArray(o))throw new Error("Can not find categories, can not set default category id.");const i=o.find(e=>"推荐"===e.name);let a=null,s="";i&&(a=i.id,s=i.name);const l={_action:"set",FCATEGORYID:a,FDISID:t,FCATEGORY:s,FSUB_CATEGORY:"",FALGOVER:n,FCPID:e.cpId};r&&(l.FID=r.FID),c.rows.push(l)}}if(c.rows.length){const t=[c],n=yield i.a.post(o.a.multiTableSave.url,{tables:t});return 200!==n.code?void r.a.error("设置默认分类失败:"+n.message):(console.log("refresh conditions value after setting default category value."),yield f.getConditions.call(this,e))}for(const e of l){const t=e.value;if(!t)continue;const n=s.find(e=>e.FALGOVER===t);u[t]={category:n.FCATEGORYID||null,type:void 0===n.FTYPE?null:n.FTYPE,id:n.FID}}console.log("cpConditions: ",u),yield this.props.dispatch({type:"contentAlgorithm.setValue",value:{serverConditions:n.value,conditions:a,cpConditions:u}})}}else r.a.error("获取当前过滤条件错误："+n.message)})},getCategory(e){return s(this,void 0,void 0,function*(){const t=e||"noAlgorithm";if(this.props.category[t])return this.props.category[t];let n;if("noAlgorithm"===t){const e=yield i.a.post(o.a.queryTable.url,{tableName:"T_CONTENT_CATEGORY"});if(200!==e.code)return void r.a.error("获取无算法的分类失败："+e.message);const t=new Set;for(const n of e.value.list)t.add(n.FCATEGORY);this.props.dispatch({type:"contentAlgorithm.setValue",key:"firstCategory",value:[...t]}),n=e.value.list}else{const t=new u("http://om.iflow.meizu.com/service/dis/condition");t.setQuery("algover",e);const a=yield i.a.get(o.a.serverRequest.url,{url:t.toString()});if(200!==a.code)return void r.a.error("获取分类列表失败："+a.message);n=a.value.categories.map(e=>(e.id=(e.id||"")+"",e))}const s=a.a.copyObj(this.props.category);return s[t]=n,yield this.props.dispatch({type:"contentAlgorithm.setValue",key:"category",value:s}),s[t]})},freshCache(e){return s(this,void 0,void 0,function*(){let t=yield i.a.post(o.a.freshDistributionCache.url,{disId:e});200===t.code?r.a.success("刷新成功"):r.a.error(t.message)})}};t.a=f},"./assets/lib/page.ts":function(e,t,n){"use strict";var r=n("./assets/reducer/index.ts"),o=n("./assets/action/miscellaneous.ts"),i=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};const a=n("./common/filter/index.js"),s=(n("./node_modules/shortid/index.js"),n("./node_modules/urijs/src/URI.js")),l={isSwitching:!1,initFieldOptions(e){for(const t of e)if("string"==typeof t.options){const e=o.a.find(e=>e.name===t.options);t.options=e.action()}},setPageConfig:function(e){return i(this,void 0,void 0,function*(){if(this.isSwitching=!0,yield r.default.dispatch({type:"table.setValue",value:{isLoading:!0}}),e.init)for(const t of e.init){yield o.a.find(e=>e.name===t).action()}const t=(new s).query(!0),n=e.dbName||"MEIZU_CONTENTS",i=e.tableName||"",u=e.fields||[],c=e.isAbleAddItem||!1,f=e.listUrl||"",d=e.editModalWidth||720,p=e.queryType||"url";let h=e.queryFields;this.initFieldOptions(u),yield r.default.dispatch({type:"table.setValue",value:{dbName:n,tableName:i,fields:u,isAbleAddItem:c,list:[],listUrl:f}});let m=t.filter;if("string"==typeof m?m=JSON.parse(decodeURIComponent(m)):m||(m={}),h||(i?h=a[i]:console.log("no filter defined.")),h){h=JSON.parse(JSON.stringify(h)),this.initFieldOptions(h);const e=Object.keys(m);for(const t of h){const n=t.keyName;if(n)if(e.includes(n))t.value=m[n];else if(void 0!==t.defaultValue&&(t.value=t.defaultValue,"select"===t.type)){if(t.options.find(e=>e.value===t.defaultValue));else if("number"==typeof t.defaultValue)t.value=t.options[t.defaultValue].value;else if(!0===Array.isArray(t.defaultValue));else if(null!==t.defaultValue)throw console.log("filter field: ",t),new Error("can not recognize this default value.")}}}else h=[];yield r.default.dispatch({type:"table.setValue",value:{queryType:p,queryFields:h,editModalWidth:d}}),l.onPageFinished(),this.isSwitching=!1})},onPageFinished:function(){console.log("page finished.")}};t.a=l},"./assets/page/DistributionManage.tsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./assets/lib/Component.ts"),a=n("./node_modules/react-redux/es/index.js"),s=n("./assets/component/table/List.tsx"),l=n("./node_modules/antd/es/message/index.js"),u=n("./node_modules/antd/es/form/index.js"),c=n("./node_modules/antd/es/select/index.js"),f=n("./node_modules/babel-runtime/helpers/extends.js"),d=n.n(f),p=n("./node_modules/babel-runtime/helpers/defineProperty.js"),h=n.n(p),m=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),y=n.n(m),v=n("./node_modules/babel-runtime/helpers/createClass.js"),g=n.n(v),b=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),_=n.n(b),A=n("./node_modules/babel-runtime/helpers/inherits.js"),E=n.n(A),S=n("./node_modules/prop-types/index.js"),w=n.n(S),k=n("./node_modules/classnames/index.js"),I=n.n(k),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),C(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.forceRender||this.props.isActive||e.isActive}},{key:"render",value:function(){var e;if(this._isActived=this.props.forceRender||this._isActived||this.props.isActive,!this._isActived)return null;var t=this.props,n=t.prefixCls,r=t.isActive,i=t.children,a=t.destroyInactivePanel,s=t.forceRender,l=t.role,u=I()((x(e={},n+"-content",!0),x(e,n+"-content-active",r),x(e,n+"-content-inactive",!r),e)),c=s||r||!a?o.a.createElement("div",{className:n+"-content-box"},i):null;return o.a.createElement("div",{className:u,role:l},c)}}]),t}();N.propTypes={prefixCls:w.a.string,isActive:w.a.bool,children:w.a.any,destroyInactivePanel:w.a.bool,forceRender:w.a.bool,role:w.a.string};var T=N,O=n("./node_modules/rc-animate/es/Animate.js"),M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var F=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=R(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleItemClick=function(){r.props.onItemClick&&r.props.onItemClick()},r.handleKeyPress=function(e){"Enter"!==e.key&&13!==e.keyCode&&13!==e.which||r.handleItemClick()},R(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),D(t,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.id,i=t.style,a=t.prefixCls,s=t.header,l=t.headerClass,u=t.children,c=t.isActive,f=t.showArrow,d=t.destroyInactivePanel,p=t.disabled,h=t.accordion,m=t.forceRender,y=t.expandIcon,v=I()(a+"-header",j({},l,l)),g=I()((j(e={},a+"-item",!0),j(e,a+"-item-active",c),j(e,a+"-item-disabled",p),e),n),b=null;return f&&"function"==typeof y&&(b=o.a.createElement(y,M({},this.props))),o.a.createElement("div",{className:g,style:i,id:r},o.a.createElement("div",{className:v,onClick:this.handleItemClick,role:h?"tab":"button",tabIndex:p?-1:0,"aria-expanded":""+c,onKeyPress:this.handleKeyPress},f&&(b||o.a.createElement("i",{className:"arrow"})),s),o.a.createElement(O.a,{showProp:"isActive",exclusive:!0,component:"",animation:this.props.openAnimation},o.a.createElement(T,{prefixCls:a,isActive:c,destroyInactivePanel:d,forceRender:m,role:h?"tabpanel":null},u)))}}]),t}();F.propTypes={className:w.a.oneOfType([w.a.string,w.a.object]),id:w.a.string,children:w.a.any,openAnimation:w.a.object,prefixCls:w.a.string,header:w.a.oneOfType([w.a.string,w.a.number,w.a.node]),headerClass:w.a.string,showArrow:w.a.bool,isActive:w.a.bool,onItemClick:w.a.func,style:w.a.object,destroyInactivePanel:w.a.bool,disabled:w.a.bool,accordion:w.a.bool,forceRender:w.a.bool,expandIcon:w.a.func},F.defaultProps={showArrow:!0,isActive:!1,destroyInactivePanel:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var B=F,L=n("./node_modules/css-animation/es/index.js");function U(e,t,n,r){var o=void 0;return Object(L.a)(e,n,{start:function(){t?(o=e.offsetHeight,e.style.height=0):e.style.height=e.offsetHeight+"px"},active:function(){e.style.height=(t?o:0)+"px"},end:function(){e.style.height="",r()}})}var z=function(e){return{enter:function(t,n){return U(t,!0,e+"-anim",n)},leave:function(t,n){return U(t,!1,e+"-anim",n)}}},P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){var t=e;return Array.isArray(t)||(t=t?[t]:[]),t}var q=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props,o=r.activeKey,i=r.defaultActiveKey;return"activeKey"in n.props&&(i=o),n.state={openAnimation:n.props.openAnimation||z(n.props.prefixCls),activeKey:H(i)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),P(t,[{key:"componentWillReceiveProps",value:function(e){"activeKey"in e&&this.setState({activeKey:H(e.activeKey)}),"openAnimation"in e&&this.setState({openAnimation:e.openAnimation})}},{key:"onClickItem",value:function(e){var t=this.state.activeKey;if(this.props.accordion)t=t[0]===e?[]:[e];else{var n=(t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))).indexOf(e);n>-1?t.splice(n,1):t.push(e)}this.setActiveKey(t)}},{key:"getItems",value:function(){var e=this,t=this.state.activeKey,n=this.props,i=n.prefixCls,a=n.accordion,s=n.destroyInactivePanel,l=n.expandIcon,u=[];return r.Children.forEach(this.props.children,function(n,r){if(n){var c=n.key||String(r),f=n.props,d=f.header,p=f.headerClass,h=f.disabled,m=!1;m=a?t[0]===c:t.indexOf(c)>-1;var y={key:c,header:d,headerClass:p,isActive:m,prefixCls:i,destroyInactivePanel:s,openAnimation:e.state.openAnimation,accordion:a,children:n.props.children,onItemClick:h?null:function(){return e.onClickItem(c)},expandIcon:l};u.push(o.a.cloneElement(n,y))}}),u}},{key:"setActiveKey",value:function(e){"activeKey"in this.props||this.setState({activeKey:e}),this.props.onChange(this.props.accordion?e[0]:e)}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,i=t.style,a=t.accordion,s=I()((V(e={},n,!0),V(e,r,!!r),e));return o.a.createElement("div",{className:s,style:i,role:a?"tablist":null},this.getItems())}}]),t}();q.propTypes={children:w.a.any,prefixCls:w.a.string,activeKey:w.a.oneOfType([w.a.string,w.a.arrayOf(w.a.string)]),defaultActiveKey:w.a.oneOfType([w.a.string,w.a.arrayOf(w.a.string)]),openAnimation:w.a.object,onChange:w.a.func,accordion:w.a.bool,className:w.a.string,style:w.a.object,destroyInactivePanel:w.a.bool,expandIcon:w.a.func},q.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},q.Panel=B;var Y=q,Q=(q.Panel,n("./node_modules/antd/es/_util/openAnimation.js")),K=function(e){function t(){return y()(this,t),_()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,o=void 0===n?"":n,i=e.showArrow,a=void 0===i||i,s=I()(h()({},t+"-no-arrow",!a),o);return r.createElement(Y.Panel,d()({},this.props,{className:s}))}}]),t}(r.Component),G=n("./node_modules/antd/es/icon/index.js"),W=function(e){function t(){y()(this,t);var e=_()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.renderExpandIcon=function(){return r.createElement(G.a,{type:"right",className:"arrow"})},e}return E()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,o=void 0===n?"":n,i=e.bordered,a=I()(h()({},t+"-borderless",!i),o);return r.createElement(Y,d()({},this.props,{className:a,expandIcon:this.renderExpandIcon}))}}]),t}(r.Component),J=W;W.Panel=K,W.defaultProps={prefixCls:"ant-collapse",bordered:!0,openAnimation:d()({},Q.a,{appear:function(){}})};var X=J,Z=n("./node_modules/antd/es/button/index.js"),$=n("./node_modules/antd/es/input/index.js"),ee=n("./assets/lib/ajax.ts"),te=n("./assets/const/API.ts"),ne=n("./assets/lib/distribution.ts"),re=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};const oe=n("./node_modules/urijs/src/URI.js"),ie=n("./node_modules/shortid/index.js");var ae=function(){return re(this,void 0,void 0,function*(){const e=[],t=(new oe).query(!0),n=this.props.page||1,r=this.props.pageSize||10,o=t.keyValue?+t.keyValue:null;if(!o)throw l.a.error("没有分发ID."),new Error("Can not fresh without dis id.");e.push("start="+(n-1)*r),e.push("limit="+r);let i=JSON.parse(JSON.stringify(this.props.disInfo)),a=JSON.parse(JSON.stringify(this.props.conditions));const s=()=>{this.props.dispatch({type:"table.setValue",value:!1,key:"isLoading"})};if((()=>{this.props.dispatch({type:"table.setValue",value:[],key:"list"}),this.props.dispatch({type:"table.setValue",value:0,key:"total"}),this.props.dispatch({type:"table.setValue",value:!0,key:"isLoading"})})(),!i.FID||i.FID!==o){console.log("first load dis info.");const e=yield ee.a.get(te.a.getOneFromTable.url,{dbName:"MEIZU_CONTENTS",tableName:"T_CONTENT_DIS",keyName:"FID",keyValue:o});200===e.code&&(i=e.value,this.props.dispatch({type:"disManage.setValue",key:"disInfo",value:i}),this.props.dispatch({type:"breadcrumb.setValue",key:"extraLinks",value:[{name:i.FNAME+`(ID: ${i.FID})`,link:"",key:ie.generate()}]})),i.FID&&(a=yield ne.a.getDefaultCondition(i),this.props.dispatch({type:"disManage.setValue",key:"conditions",value:a}))}if(!i.FID)return console.log("no dis id, no fresh."),void s();Array.isArray(a)||console.warn("distribution condition is not a array type value. please check this out if somewhere go wrong.");const u=a.filter(e=>"delete"!==e._action).map(e=>({cpId:e.FCPID,type:e.FTYPE,category:e.FCATEGORY,subCategory:e.FSUB_CATEGORY.value})),c={disId:i.FID,displayStyle:i.FDISPLAY_STYLE,openType:i.FOPEN_TYPE,openUrl:null,orderType:i.FORDER,disCount:i.FDIS_COUNT,page:1,conditions:u};console.log("preview param: ",c),e.push("param="+encodeURIComponent(JSON.stringify(c)));let f=te.a.serverRequest.url+"?url="+encodeURIComponent("http://om.iflow.meizu.com/service/dis/list?"+e.join("&"));const d=yield ee.a.get(f);if(200===d.code){if(d.value&&Array.isArray(d.value.newsVo)){const e=d.value.newsVo.map((e,t)=>(e.id=e.id+"",e.cpId=e.cpId+"",e.disId=i.FID,e.position=t,e));this.props.dispatch({type:"table.setValue",value:e,key:"list"}),this.props.dispatch({type:"table.setValue",value:d.value.total,key:"total"})}}else l.a.error("获取列表失败："+d.message);s()})},se=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};const le=n("./node_modules/shortid/index.js"),ue=(n("./common/enum/CP_SOURCES.js"),n("./common/enum/CONTENT_TYPES.js")),ce=n("./common/enum/DISTRIBUTION_ORDER.js"),fe=n("./common/enum/DISTRIBUTION_STYLES.js"),de=n("./common/enum/DISTRIBUTION_CHANNEL.js"),pe=n("./common/enum/DISTRIBUTION_OPEN_TYPE.js"),he=n("./common/enum/DISTRIBUTION_CP.js");var me=Object(a.b)(function(e){const t=e.disManage;return t.page=e.table.page,t.pageSize=e.table.pageSize,e.disManage},function(e){return{setDisManage(t,n){e({type:"disManage.setValue",key:t,value:n})},dispatch:e}})(class extends r.Component{constructor(e){super(e),this.firstCategorySelect=((e,t)=>se(this,void 0,void 0,function*(){let n=JSON.parse(JSON.stringify(this.props.conditions));for(let r of n)r._key===e._key&&(r.FSUB_CATEGORY.options=t?yield ne.a.getSubCategory(t):[],r.FCATEGORY=t,r.FSUB_CATEGORY.value=void 0);this.props.setDisManage("conditions",n)})),this.freshList=ae.bind(this)}componentDidMount(){return se(this,void 0,void 0,function*(){const e=yield ne.a.getFirstCategory();this.props.setDisManage("firstCategory",e)})}selectSubCategory(e,t){let n=JSON.parse(JSON.stringify(this.props.conditions));for(let r of n)r._key===e._key&&(r.FSUB_CATEGORY.value=t);this.props.setDisManage("conditions",n)}selectCondition(e,t,n){let r=JSON.parse(JSON.stringify(this.props.conditions));for(let o of r)o._key===e._key&&(o[t]=n);this.props.setDisManage("conditions",r)}addCondition(){let e=JSON.parse(JSON.stringify(this.props.conditions));e.push({FID:"",FCPID:void 0,FCATEGORY:void 0,FDISID:this.props.disInfo.FID,FSUB_CATEGORY:{value:void 0,options:[]},FTYPE:void 0,_action:"add",_key:le.generate()}),this.props.setDisManage("conditions",e)}deleteCondition(e){let t=JSON.parse(JSON.stringify(this.props.conditions));t=t.map(t=>(t._key===e._key&&(t._action="delete"),t)),this.props.setDisManage("conditions",t)}disInfoChange(e,t){let n;n=null===t?t:"object"==typeof t?t.target.value:t,console.log(t),console.log(e);const r=JSON.parse(JSON.stringify(this.props.disInfo));r[e]=n,console.log("dis info: ",r),this.props.setDisManage("disInfo",r)}normalizeDistribution(){const e=JSON.parse(JSON.stringify(this.props.disInfo));return delete e.FCREATE_TIME,delete e.FUPDATE_TIME,e}saveDis(){return se(this,void 0,void 0,function*(){const e={list:[]},t=JSON.parse(JSON.stringify(this.props.conditions));for(let e of t)e.FCATEGORY||(e.FCATEGORY=""),e.FSUB_CATEGORY=e.FSUB_CATEGORY.value||"",delete e.FUPDATE_TIME,delete e.FCREATE_TIME,delete e.isNew,delete e._key,0!==e.FTYPE&&(e.FTYPE||(e.FTYPE=null));e.list.push({dbName:"MEIZU_CONTENTS",tables:[{tableName:"T_CONTENT_DIS",rows:[this.normalizeDistribution()]},{tableName:"T_CONTENT_DIS_CONDITION",rows:t}]});const n=yield ee.a.post(te.a.saveDistribution.url,e);200===n.code?l.a.success("保存成功"):l.a.error(n.message),yield this.freshList()})}adaptSelectValue(e){return[null,""].includes(e)?void 0:e}render(){const e=u.a.Item,t=c.a.Option,n=(X.Panel,this.props.disInfo);let o="-",i=de.find(e=>e.value===n.FCHANNEL_ID);i&&(o=i.name);const a=he.map(e=>r.createElement(t,{value:e.value,key:e.value},e.name));a.push(r.createElement(t,{key:le.generate(),value:null},"全部"));const s=this.props.firstCategory.map(e=>r.createElement(t,{key:e.value,value:e.value},e.name)),l=ue.map(e=>r.createElement(t,{key:e.value,value:e.value},e.name));l.push(r.createElement(t,{key:le.generate(),value:null},"全部"));const f=this.props.conditions.filter(e=>"delete"!==e._action).map((n,o,i)=>{const f=n.FSUB_CATEGORY.options.map(e=>r.createElement(t,{key:e.value,value:e.value},e.name)),d=o===i.length-1;return n.FCPID=this.adaptSelectValue(n.FCPID),n.FCATEGORY=this.adaptSelectValue(n.FCATEGORY),n.FSUB_CATEGORY.value=this.adaptSelectValue(n.FSUB_CATEGORY.value),n.FTYPE=this.adaptSelectValue(n.FTYPE),r.createElement(u.a,{className:"conditions",layout:"inline",key:n._key},r.createElement(e,{label:"内容来源"},r.createElement(c.a,{style:{width:200},value:void 0===n.FCPID?null:n.FCPID,onChange:this.selectCondition.bind(this,n,"FCPID"),placeholder:"请选择"},a)),r.createElement(e,{label:"一级分类"},r.createElement(c.a,{style:{width:200},onChange:this.firstCategorySelect.bind(this,n),value:n.FCATEGORY,placeholder:"请选择"},s)),n.FCATEGORY&&r.createElement(e,{label:"二级分类"},r.createElement(c.a,{style:{width:200},value:n.FSUB_CATEGORY.value,onChange:this.selectSubCategory.bind(this,n),placeholder:"请选择"},f)),r.createElement(e,{label:"内容类型"},r.createElement(c.a,{style:{width:200},onChange:this.selectCondition.bind(this,n,"FTYPE"),value:void 0===n.FTYPE?null:n.FTYPE,placeholder:"请选择"},l)),r.createElement(e,null,r.createElement(Z.a,{onClick:this.deleteCondition.bind(this,n),shape:"circle",icon:"minus"})),!0===d&&r.createElement(e,null,r.createElement(Z.a,{onClick:this.addCondition.bind(this),shape:"circle",icon:"plus"})))});0===f.length&&f.push(r.createElement(e,{key:le.generate()},r.createElement(Z.a,{onClick:this.addCondition.bind(this),shape:"circle",icon:"plus"})));const d=fe.map(e=>r.createElement(t,{value:e.value,key:e.value},e.name)),p=ce.map(e=>r.createElement(t,{value:e.value,key:e.value},e.name)),h=pe.map(e=>r.createElement(t,{value:e.value,key:e.value},e.name));return r.createElement("div",{className:"dis-filter"},r.createElement("div",{className:"block-title"},r.createElement(G.a,{type:"bars"}),"过滤条件"),f,r.createElement("div",{className:"block-title"},r.createElement(G.a,{type:"bars"}),"下发配置"),r.createElement(u.a,{layout:"inline"},r.createElement(e,{label:"列表样式"},r.createElement(c.a,{onChange:this.disInfoChange.bind(this,"FDISPLAY_STYLE"),placeholder:"请选择",style:{width:100},value:n.FDISPLAY_STYLE},d)),r.createElement(e,{label:"排序方式"},r.createElement(c.a,{onChange:this.disInfoChange.bind(this,"FORDER"),placeholder:"请选择",style:{width:100},value:n.FORDER},p)),r.createElement(e,{label:"详情样式"},r.createElement(c.a,{onChange:this.disInfoChange.bind(this,"FOPEN_TYPE"),placeholder:"请选择",style:{width:100},value:n.FOPEN_TYPE||void 0},h)),r.createElement(e,{label:"下发数量"},r.createElement($.a,{onChange:this.disInfoChange.bind(this,"FDIS_COUNT"),style:{width:100},placeholder:"请填写",value:n.FDIS_COUNT})),r.createElement(e,{label:"是否分页"},r.createElement(c.a,{onChange:this.disInfoChange.bind(this,"FPAGE"),style:{width:100},placeholder:"请选择",value:n.FPAGE},r.createElement(t,{value:1},"分页"),r.createElement(t,{value:0},"不分页"))),r.createElement(e,{className:"dis-actions"},r.createElement(Z.a,{onClick:this.freshList,className:"ant-btn-gray"},"预览"),r.createElement(Z.a,{type:"primary",onClick:this.saveDis.bind(this)},"保存"),r.createElement(Z.a,{type:"primary",onClick:ne.a.freshCache.bind(this,n.FID)},"发布"))))}}),ye=n("./node_modules/antd/es/modal/index.js"),ve=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};const ge=n("./common/enum/DISTRIBUTION_STYLES.js"),be=n("./common/enum/DISTRIBUTION_OPEN_TYPE.js"),_e=u.a.Item,Ae=c.a.Option;var Ee=Object(a.b)(function(e){const t=e.disManage;return t.page=e.table.page,t.pageSize=e.table.pageSize,e.disManage})(class extends r.Component{constructor(e){super(e),this.closeModal=(()=>{this.props.dispatch({type:"disManage.setValue",key:"isEditDisplayModalOpen",value:!1})}),this.submit=(()=>ve(this,void 0,void 0,function*(){const e=this.props.editingStyle,t=yield ee.a.post(te.a.updateTableRow.url,{tableName:"T_CONTENT_DIS_DISPLAY",fields:e});t&&(200===t.code?(l.a.success("保存成功"),this.closeModal(),this.freshList()):l.a.error(t.message))})),this.freshList=ae.bind(this)}fieldChange(e,t){let n=t;t.target&&void 0!==t.target.value&&(n=t.target.value);const r=JSON.parse(JSON.stringify(this.props.editingStyle));r[e]=n,this.props.dispatch({type:"disManage.setValue",key:"editingStyle",value:r})}render(){const e=this.props.editingStyle,t=this.props.isEditDisplayModalOpen,n=ge.map(e=>r.createElement(Ae,{key:e.value,value:e.value},e.name)),o=be.map(e=>r.createElement(Ae,{key:e.value,value:e.value},e.name));return r.createElement(ye.a,{visible:t,onCancel:this.closeModal,onOk:this.submit,okText:"保存",cancelText:"取消",title:"修改样式"},r.createElement(u.a,null,r.createElement(_e,{label:"分发ID"},r.createElement($.a,{value:e.FDISID,disabled:!0})),r.createElement(_e,{label:"文章ID"},r.createElement($.a,{value:e.FCONTENT_ID,disabled:!0})),r.createElement(_e,{label:"内容样式"},r.createElement(c.a,{value:e.FDISPLAY_STYLE,onChange:this.fieldChange.bind(this,"FDISPLAY_STYLE"),placeholder:"请选择"},n)),r.createElement(_e,{label:"详情打开方式"},r.createElement(c.a,{value:e.FOPEN_TYPE,onChange:this.fieldChange.bind(this,"FOPEN_TYPE"),placeholder:"请选择"},o)),3===e.FOPEN_TYPE&&r.createElement(_e,{label:"详情打开地址"},r.createElement($.a,{value:e.FOPEN_URL,onChange:this.fieldChange.bind(this,"FOPEN_URL")}))))}}),Se=n("./assets/lib/page.ts");n("./assets/sass/page/disManage.scss");const we=n("./common/listFields/DIS_MANAGE_PREVIEW.js");t.default=Object(a.b)(function(e){const t=e.table;return t.disInfo=e.disManage.disInfo,t.conditions=e.disManage.conditions,t},function(e){return{setTableValue:(t,n)=>{e({type:"table.setValue",key:t,value:n})},setDisManageValue:(t,n)=>{e({type:"disManage.setValue",key:t,value:n})},dispatch:e}})(class extends i.a{constructor(e){super(e),Se.a.setPageConfig({fields:we})}componentWillUnmount(){this.props.setDisManageValue("disInfo",{}),this.props.dispatch({type:"breadcrumb.setValue",key:"extraLinks",value:[]})}render(){return r.createElement("div",{className:"distribution-manage-page"},r.createElement(me,null),r.createElement(s.a,{freshList:ae}),r.createElement(Ee,{freshList:ae.bind(this)}))}})},"./assets/sass/page/disManage.scss":function(e,t,n){},"./common/URL.js":function(e,t,n){const r=n("./common/SYSTEM.js");e.exports={userLogin:{name:"用户登录",value:"https://login.flyme.cn/login/login.html"},userLogout:{name:"用户退出登录",value:"https://login.flyme.cn/sso/logout"},getUserInfo:{name:"获取用户信息（加密接口）",value:"https://i.flyme.cn/uc/sign/getLoginInfoByTicket"},refreshUserToken:{name:"刷新用户token时间",value:"https://i.flyme.cn/uc/webservice/refreshTokenByTicket"},imageUpload:{name:"图片上传，要带上cookie，需要登录认证",value:"http://om.iflow.meizu.com/service/common/upload"},redirectCpContent:{name:"通过id参数，自动跳转到cp内容页",value:"/"+r.urlVersion.value+"/api/contents/redirect-cp-content"}}},"./common/enum/ALGORITHM.js":function(e,t){e.exports=[{value:"",name:"无算法"},{value:"uc_algover",name:"UC",categoryName:"UC分类",cpId:2,noContentType:!0},{value:"baidu_algover",name:"百度",categoryName:"百度分类",cpId:76},{value:"jrtt_algover",name:"今日头条",categoryName:"头条分类",cpId:200},{value:"yidian_algover",name:"一点资讯",categoryName:"一点资讯分类",cpId:81,noContentType:!0}]},"./common/enum/ANALYSIS_RULE_STATUS.js":function(e,t){e.exports=[{name:"未验证",value:1},{name:"验证中",value:2},{name:"验证成功",value:3}]},"./common/enum/CONTENT_SOURCES.js":function(e,t){e.exports=[{name:"今日头条",value:1},{name:"网易",value:2},{name:"凤凰新闻(爬)",value:3},{name:"界面新闻",value:4},{name:"搜狐新闻",value:5},{name:"网易有料",value:6}]},"./common/enum/CONTENT_STATUS.js":function(e,t){e.exports=[{name:"上架",value:1},{name:"下架",value:0},{name:"删除",value:3},{name:"敏感",value:7}]},"./common/enum/CONTENT_TYPES.js":function(e,t){e.exports=[{name:"文章",value:0},{name:"图集",value:2},{name:"视频",value:11}]},"./common/enum/CP_SOURCES.js":function(e,t){e.exports=[{value:1,name:"LOFTER",keyName:"LOFTER",hideWhenEdit:!0},{value:2,name:"UC",keyName:"UC",hideWhenEdit:!0},{value:4,name:"魅族资讯",keyName:"MEIZU"},{value:8,name:"新浪",keyName:"SINA",hideWhenEdit:!0},{value:16,name:"魅族视频",keyName:"FLYME_VIDEO",hideWhenEdit:!0},{value:32,name:"魅族推荐",keyName:"MEIZU_RECOMMEND",hideWhenEdit:!0},{value:64,name:"腾讯新闻",keyName:"TENCENT",hideWhenEdit:!0},{value:65,name:"360视频",keyName:"RES_360",hideWhenEdit:!0},{value:66,name:"腾讯浏览器",keyName:"QQ_BROWSER",hideWhenEdit:!0},{value:67,name:"橘子娱乐",keyName:"JUZI",hideWhenEdit:!0},{value:68,name:"360搜索",keyName:"SEARCH_360",hideWhenEdit:!0},{value:69,name:"腾讯快报",keyName:"KB",hideWhenEdit:!0},{value:70,name:"360文章",keyName:"APP_360",hideWhenEdit:!0},{value:71,name:"UC视频",keyName:"UC_VIDEO",hideWhenEdit:!0},{value:72,name:"快手视频",keyName:"KS_VIDEO",hideWhenEdit:!0},{value:73,name:"轻芒阅读",keyName:"QINGMANG",hideWhenEdit:!0},{value:74,name:"优品",keyName:"YOUPIN"},{value:75,name:"英威诺",keyName:"INVENO",hideWhenEdit:!0},{value:76,name:"百度",keyName:"BAIDU",hideWhenEdit:!0},{value:77,name:"百度视频",keyName:"BAIDU_VIDEO",hideWhenEdit:!0},{value:78,name:"凤凰新闻",keyName:"IFENG_MEIZU",hideWhenEdit:!0},{value:79,name:"网易有料",keyName:"163_NEWS",hideWhenEdit:!0},{value:80,name:"腾讯语音",keyName:"TENCENT_VOICE",hideWhenEdit:!0},{value:81,name:"一点资讯",keyName:"YIDIAN",hideWhenEdit:!0},{value:82,name:"唯彩看球",keyName:"VIPC",hideWhenEdit:!0},{value:83,name:"唔哩头条",keyName:"WULI",hideWhenEdit:!0},{value:84,name:"今日头条",hideWhenEdit:!0,keyName:"JINRITOUTIAO"},{value:85,name:"西瓜视频",hideWhenEdit:!0,keyName:"TOUTIAO_XIGUA"},{value:101,name:"里世界",keyName:"LISHIJIE",hideWhenEdit:!0},{value:102,name:"好兔视频",keyName:"HAOTU",hideWhenEdit:!0}]},"./common/enum/DISTRIBUTION_CHANNEL.js":function(e,t){e.exports=[{name:"钱包",value:1},{name:"日历",value:2},{name:"天气",value:3},{name:"手机管家",value:10},{name:"全局搜索",value:13}]},"./common/enum/DISTRIBUTION_CP.js":function(e,t){e.exports=[{value:2,name:"UC",keyName:"UC"},{value:4,name:"魅族",keyName:"MEIZU"},{value:64,name:"腾讯新闻",keyName:"TENCENT"},{value:74,name:"优品",keyName:"YOUPIN"},{value:76,name:"百度",keyName:"BAIDU"},{value:83,name:"唔哩头条",keyName:"WULI"}]},"./common/enum/DISTRIBUTION_OPEN_TYPE.js":function(e,t){e.exports=[{name:"资讯",value:1},{name:"钱包",value:2},{name:"H5",value:3},{name:"信息流SDK",value:4}]},"./common/enum/DISTRIBUTION_ORDER.js":function(e,t){e.exports=[{value:1,name:"按时间"},{value:2,name:"按热度"},{value:3,name:"随机"}]},"./common/enum/DISTRIBUTION_STYLES.js":function(e,t){e.exports=[{value:1,name:"基本样式"},{value:2,name:"右文左图"},{value:3,name:"左文右图"},{value:4,name:"多图"},{value:5,name:"大图"}]},"./common/enum/READER_CONTENT_TYPES.js":function(e,t){e.exports=[{value:0,name:"图文"},{value:1,name:"文本"},{value:2,name:"图集",hideWhenEdit:!0},{value:3,name:"视频",hideWhenEdit:!0},{value:4,name:"多图"},{value:5,name:"专题",hideWhenEdit:!0},{value:6,name:"推荐",hideWhenEdit:!0},{value:7,name:"大图"},{value:8,name:"魅族大图"},{value:9,name:"搞笑",hideWhenEdit:!0},{value:10,name:"段子",hideWhenEdit:!0},{value:11,name:"短视频",hideWhenEdit:!0}]},"./common/enum/RULE_SCRIPT_TYPES.js":function(e,t){e.exports=[{value:1,name:"模板"},{value:2,name:"内置脚本"},{value:3,name:"外置脚本"},{value:4,name:"联接脚本"}]},"./common/enum/VIDEO_CP_SOURCES.js":function(e,t){e.exports=[{name:"西瓜视频",value:200}]},"./common/filter sync \\/[A-Z_]*\\.js$":function(e,t,n){var r={"./ANALYSIS_RULE.js":"./common/filter/ANALYSIS_RULE.js","./ANALYSIS_SCRIPT.js":"./common/filter/ANALYSIS_SCRIPT.js","./AUTH_USER.js":"./common/filter/AUTH_USER.js","./CHANNEL_DISTRIBUTION.js":"./common/filter/CHANNEL_DISTRIBUTION.js","./CONTENT_FILTER.js":"./common/filter/CONTENT_FILTER.js","./CP_API_LIST.js":"./common/filter/CP_API_LIST.js","./CP_LIST.js":"./common/filter/CP_LIST.js","./GRAB_RULES.js":"./common/filter/GRAB_RULES.js","./SETTING_PARAM.js":"./common/filter/SETTING_PARAM.js","./SPECIAL_ARTICLES.js":"./common/filter/SPECIAL_ARTICLES.js","./T_AUTHOR.js":"./common/filter/T_AUTHOR.js","./T_CHANNEL.js":"./common/filter/T_CHANNEL.js","./T_CONTENTS.js":"./common/filter/T_CONTENTS.js","./T_CONTENT_DIS.js":"./common/filter/T_CONTENT_DIS.js","./T_CONTENT_DIS_DISPLAY.js":"./common/filter/T_CONTENT_DIS_DISPLAY.js","./T_CONTENT_VIEW_STATUS.js":"./common/filter/T_CONTENT_VIEW_STATUS.js","./T_CONTENT_VIEW_SUMMARY.js":"./common/filter/T_CONTENT_VIEW_SUMMARY.js","./T_CP.js":"./common/filter/T_CP.js","./T_CRAWL_RULE.js":"./common/filter/T_CRAWL_RULE.js","./T_FUNCTION.js":"./common/filter/T_FUNCTION.js","./T_FUNCTION_RULE.js":"./common/filter/T_FUNCTION_RULE.js","./VIDEO.js":"./common/filter/VIDEO.js"};function o(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="./common/filter sync \\/[A-Z_]*\\.js$"},"./common/filter/ANALYSIS_RULE.js":function(e,t,n){const r=n("./common/enum/ANALYSIS_RULE_STATUS.js");e.exports=[{name:"序号",keyName:"id"},{name:"表达式",keyName:"regexp"},{name:"状态",keyName:"status",type:"select",options:r}]},"./common/filter/ANALYSIS_SCRIPT.js":function(e,t,n){const r=n("./common/enum/RULE_SCRIPT_TYPES.js");e.exports=[{name:"序号",keyName:"id"},{name:"名称",keyName:"name"},{name:"类型",keyName:"type",type:"select",options:r}]},"./common/filter/AUTH_USER.js":function(e,t){e.exports=[{name:"用户名称",keyName:"name"},{name:"备注",keyName:"remark"}]},"./common/filter/CHANNEL_DISTRIBUTION.js":function(e,t){e.exports=[{name:"分发渠道",type:"select",keyName:"FCHANNEL_ID"},{name:"新旧分发",keyName:"FFLAG",defaultValue:1,isShow:!1}]},"./common/filter/CONTENT_FILTER.js":function(e,t,n){const r=n("./common/enum/CP_SOURCES.js"),o=n("./common/enum/CONTENT_TYPES.js"),i=n("./common/enum/CONTENT_SOURCES.js"),a=n("./common/enum/CONTENT_STATUS.js");e.exports=[{name:"文章ID",keyName:"id"},{name:"CP文章ID",keyName:"uniqueId"},{name:"文章标题",keyName:"title"},{name:"作者",keyName:"author"},{name:"类型",keyName:"category"},{name:"标签",keyName:"label"},{name:"关键字",keyName:"keywords"},{name:"内容CP",keyName:"resourceTypes",type:"select",options:r,mode:"multiple",defaultValue:[null]},{name:"内容源",keyName:"contentSourceIdParam",type:"select",options:i,isShow:{type:"condition",keyName:"resourceTypes",value:4}},{name:"内容类型",type:"select",keyName:"type",options:o,defaultValue:null},{name:"状态",keyName:"status",type:"select",options:a,defaultValue:1},{name:"时间范围",keyName:"scope",type:"select",defaultValue:1,options:[{name:"1日",value:1},{name:"3日",value:3},{name:"7日",value:7},{name:"15日",value:15},{name:"30日",value:30},{name:"自定义",value:-1}]},{name:"时间",keyName:"scopeRange",keyNames:["customScope_start","customScope_end"],type:"dateRange",isShow:{type:"condition",value:-1,keyName:"scope",isRequired:!0}},{name:"排序",keyName:"order",type:"select",defaultValue:null,options:[{name:"浏览量",value:"viewCount"},{name:"上架时间",value:"putdate"},{name:"转化率",value:"conversionV1"}]},{keyName:"add-360-video",type:"button",name:"添加视频",actionName:"openVideoInput"},{keyName:"baidu-content-input",type:"button",name:"百度入库",link:{href:"/v2/page/content-manage/baidu-content-input"}}]},"./common/filter/CP_API_LIST.js":function(e,t){e.exports=[{keyName:"id",name:"ID"},{keyName:"newGrabApi",name:"新增",actionName:"newGrabApi",type:"button"}]},"./common/filter/CP_LIST.js":function(e,t){e.exports=[{keyName:"cpId",name:"CP ID"},{keyName:"cp",name:"CP 名称"}]},"./common/filter/GRAB_RULES.js":function(e,t,n){n("./common/enum/CP_SOURCES.js"),n("./common/enum/CONTENT_TYPES.js"),n("./common/enum/CONTENT_SOURCES.js"),n("./common/enum/CONTENT_STATUS.js");e.exports=[{name:"ID",keyName:"id"}]},"./common/filter/SETTING_PARAM.js":function(e,t,n){n("./common/enum/ANALYSIS_RULE_STATUS.js");e.exports=[{name:"类型",keyName:"type"},{name:"键",keyName:"key"},{name:"名称",keyName:"name"}]},"./common/filter/SPECIAL_ARTICLES.js":function(e,t,n){const r=n("./common/enum/CP_SOURCES.js"),o=n("./common/enum/CONTENT_TYPES.js"),i=n("./common/enum/CONTENT_SOURCES.js"),a=n("./common/enum/CONTENT_STATUS.js");e.exports=[{name:"文章ID",keyName:"id"},{name:"CP文章ID",keyName:"uniqueId"},{name:"文章标题",keyName:"title"},{name:"作者",keyName:"author"},{name:"类型",keyName:"category"},{name:"标签",keyName:"label"},{name:"关键字",keyName:"keywords"},{name:"内容CP",keyName:"resourceTypes",type:"select",options:r,mode:"multiple",defaultValue:[null]},{name:"内容源",keyName:"contentSourceIdParam",type:"select",options:i,isShow:{type:"condition",keyName:"resourceTypes",value:4}},{name:"内容类型",type:"select",keyName:"type",options:o,defaultValue:null},{name:"状态",keyName:"status",type:"select",options:a,defaultValue:1},{name:"时间范围",keyName:"scope",type:"select",defaultValue:null,options:[{name:"1日",value:1},{name:"3日",value:3},{name:"7日",value:7},{name:"15日",value:15},{name:"30日",value:30},{name:"自定义",value:-1}]},{name:"时间",keyName:"scopeRange",keyNames:["customScope_start","customScope_end"],type:"dateRange",isShow:{type:"condition",value:-1,keyName:"scope",isRequired:!0}}]},"./common/filter/T_AUTHOR.js":function(e,t){e.exports=[{name:"作者ID",type:"text",keyName:"FID"},{name:"名称",type:"text",keyName:"FNAME",searchMode:"LIKE"},{name:"分类",keyName:"FCATEGORY"},{name:"渠道",type:"select",keyName:"FSUPPORT_BIZ",tableName:"T_CP",searchMode:"bitwise",options:[{value:1,name:"资讯"},{value:2,name:"浏览器"},{value:3,name:"趣视频"},{value:4,name:"钱包"}]},{name:"作者详情",type:"select",keyName:"FOPEN_TYPE",tooltip:"客户端的作者详情页面打开方式"},{name:"内容类型",type:"select",keyName:"FCONTENT_SIGN"},{name:"星级",keyName:"FRECOMMEND_STAR",type:"rate",defaultValue:5}]},"./common/filter/T_CHANNEL.js":function(e,t){e.exports=[]},"./common/filter/T_CONTENTS.js":function(e,t){e.exports=[{name:"内容标题",type:"text",keyName:"FTITLE",searchMode:"LIKE"},{name:"内容ID",type:"text",keyName:"FCONTENT_ID"}]},"./common/filter/T_CONTENT_DIS.js":function(e,t){e.exports=[{name:"分发渠道",type:"select",keyName:"FCHANNEL_ID"}]},"./common/filter/T_CONTENT_DIS_DISPLAY.js":function(e,t){e.exports=[{keyName:"FID",isPrimaryKey:!0},{keyName:"FCONTENT_ID"}]},"./common/filter/T_CONTENT_VIEW_STATUS.js":function(e,t){const n=new Date,r=n.getFullYear()+"";let o=n.getMonth()+1;o<10?o="0"+o:o+="",e.exports=[{keyName:"FSTAT_DATE",name:"统计月份",type:"month-select",duration:{start:-6,end:0,min:"201801"},defaultValue:r+o},{keyName:"FCPID",name:"是否收费来源",type:"select",options:"freeOrNotCP",defaultValue:0,searchMode:"IN",status:"hide"}]},"./common/filter/T_CONTENT_VIEW_SUMMARY.js":function(e,t){const n=new Date,r=n.getFullYear()+"";let o=n.getMonth()+1;o<10?o="0"+o:o+="",e.exports=[{keyName:"FSTAT_DATE",name:"统计月份",type:"month-select",duration:{start:-6,end:0,min:"201801"},defaultValue:r+o},{keyName:"BIZ_TYPE",name:"业务类型",type:"select"},{keyName:"FCPID",name:"是否收费来源",type:"select",options:"freeOrNotCP",defaultValue:0,searchMode:"IN"},{name:"导出CSV",type:"button",icon:"file-excel",actionName:"downloadCSV"}]},"./common/filter/T_CP.js":function(e,t){e.exports=[{name:"来源id",keyName:"FID"}]},"./common/filter/T_CRAWL_RULE.js":function(e,t){e.exports=[{name:"规则ID",type:"text",keyName:"FID"},{name:"网站名称",type:"text",keyName:"FSITE_NAME",searchMode:"LIKE"},{name:"调试",type:"button",icon:"code-o",actionName:"openCrawlTester"},{name:"导入",type:"button",icon:"download",actionName:"import"},{name:"导出",type:"button",icon:"upload",actionName:"export"}]},"./common/filter/T_FUNCTION.js":function(e,t){e.exports=[{name:"转码ID",keyName:"FID"},{name:"方法名称",keyName:"FFUNCTION"},{name:"导入",type:"button",icon:"download",actionName:"import",args:{tableName:"T_FUNCTION_RULE"}},{name:"导出",type:"button",icon:"upload",actionName:"export",args:{tableName:"T_FUNCTION_RULE"}}]},"./common/filter/T_FUNCTION_RULE.js":function(e,t){e.exports=[{name:"规则ID",keyName:"FID"},{name:"JS方法名",keyName:"FMETHOD"}]},"./common/filter/VIDEO.js":function(e,t,n){n("./common/enum/CP_SOURCES.js"),n("./common/enum/CONTENT_STATUS.js");const r=n("./common/enum/VIDEO_CP_SOURCES.js");e.exports=[{name:"内容平台ID",keyName:"id"},{name:"CP内容ID",keyName:"cpEntityId"},{name:"标题",keyName:"title"},{name:"作者",keyName:"author"},{name:"分类",keyName:"category"},{name:"关键字",keyName:"keywords",placeholder:"多个以英文逗号隔开"},{name:"内容来源",keyName:"cpId",type:"select",options:r,defaultValue:[200],mode:"multiple",status:"hide"},{name:"状态",keyName:"status",type:"select",options:[{name:"上架",value:1},{name:"下架",value:2}],defaultValue:1},{name:"发布时间",keyName:"publishTime",type:"date",placeholder:"选择开始时间至今",sendFormat:"M/D/YYYY",notSendIfEmpty:!0}]},"./common/filter/index.js":function(e,t,n){const r=n("./common/filter sync \\/[A-Z_]*\\.js$");let o={};r.keys().forEach(e=>{if(/index\.js/.test(e))return;let t=e.match(/[\/]([^\/]+)\.js$/)[1];o[t]=r(e)}),e.exports=o},"./common/listFields/DIS_MANAGE_PREVIEW.js":function(e,t,n){const r=n("./common/enum/CP_SOURCES.js"),o=(n("./common/enum/CONTENT_TYPES.js"),n("./common/enum/READER_CONTENT_TYPES.js")),i=n("./common/enum/DISTRIBUTION_STYLES.js");n("./common/SYSTEM.js"),n("./common/URL.js");e.exports=[{name:"文章ID",keyName:"id",readonly:!0,isPrimaryKey:!0,valueType:"string"},{name:"CP文章ID",keyName:"cpEntityId",unlistable:!0},{name:"文章标题",keyName:"name",link:{keyName:"contentUrl",target:"_blank"}},{name:"作者",keyName:"author"},{name:"内容CP",keyName:"cpId",type:"select",options:r},{name:"内容类型",keyName:"type",type:"select",options:o},{name:"热度",keyName:"hotIndex",valueType:"number"},{name:"样式",keyName:"displayStyle",type:"select",options:i},{name:"发布时间",keyName:"publishDate",type:"date"},{name:"顺序",keyName:"fliterOrder",unlistable:!0},{name:"操作",type:"button",buttons:[{name:"取消置顶",actionName:"pullDownFromDis",isShow:{keyName:"fliterOrder",isNotEqual:!0,keyValue:[0,1]}},{name:"置顶",actionName:"pushUpItemFromDis",isShow:{keyName:"fliterOrder",keyValue:[0,1]}},{name:"样式",actionName:"setItemStyleFromDis"},{name:"移除",actionName:"blockItemFromDis",isDropdown:!0}]}]},"./node_modules/antd/es/rate/index.js":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=n.n(i),s=n("./node_modules/babel-runtime/helpers/createClass.js"),l=n.n(s),u=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n.n(u),f=n("./node_modules/babel-runtime/helpers/inherits.js"),d=n.n(f),p=n("./node_modules/react/index.js"),h=n.n(p),m=n("./node_modules/prop-types/index.js"),y=n.n(m),v=n("./node_modules/react-dom/index.js"),g=n.n(v),b=n("./node_modules/classnames/index.js"),_=n.n(b),A=n("./node_modules/rc-util/es/KeyCode.js");function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=E(this,e.call.apply(e,[this].concat(i))),r.onHover=function(e){var t=r.props;(0,t.onHover)(e,t.index)},r.onClick=function(e){var t=r.props;(0,t.onClick)(e,t.index)},r.onKeyDown=function(e){var t=r.props,n=t.onClick,o=t.index;13===e.keyCode&&n(e,o)},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getClassName=function(){var e=this.props,t=e.prefixCls,n=e.index,r=e.value,o=e.allowHalf,i=e.focused,a=n+1,s=t;return 0===r&&0===n&&i?s+=" "+t+"-focused":o&&r+.5===a?(s+=" "+t+"-half "+t+"-active",i&&(s+=" "+t+"-focused")):(s+=a<=r?" "+t+"-full":" "+t+"-zero",a===r&&i&&(s+=" "+t+"-focused")),s},t.prototype.render=function(){var e=this.onHover,t=this.onClick,n=this.onKeyDown,r=this.props,o=r.disabled,i=r.prefixCls,a=r.character,s=r.index,l=r.count,u=r.value;return h.a.createElement("li",{className:this.getClassName(),onClick:o?null:t,onKeyDown:o?null:n,onMouseMove:o?null:e,role:"radio","aria-checked":u>s?"true":"false","aria-posinset":s+1,"aria-setsize":l,tabIndex:0},h.a.createElement("div",{className:i+"-first"},a),h.a.createElement("div",{className:i+"-second"},a))},t}(h.a.Component);S.propTypes={value:y.a.number,index:y.a.number,prefixCls:y.a.string,allowHalf:y.a.bool,disabled:y.a.bool,onHover:y.a.func,onClick:y.a.func,character:y.a.node,focused:y.a.bool,count:y.a.number};var w=S;function k(){}var I=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));C.call(r);var o=n.value;return void 0===o&&(o=n.defaultValue),r.stars={},r.state={value:o,focused:!1,cleanedValue:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.autoFocus&&!this.props.disabled&&this.focus()},t.prototype.componentWillReceiveProps=function(e){if("value"in e){var t=e.value;void 0===t&&(t=e.defaultValue),this.setState({value:t})}},t.prototype.getStarDOM=function(e){return g.a.findDOMNode(this.stars[e])},t.prototype.getStarValue=function(e,t){var n=e+1;if(this.props.allowHalf){var r=this.getStarDOM(e),o=function(e){var t=function(e){var t,n=void 0,r=void 0,o=e.ownerDocument,i=o.body,a=o&&o.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||i.clientLeft||0,top:r-=a.clientTop||i.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=function(e,t){var n=t?e.pageYOffset:e.pageXOffset,r=t?"scrollTop":"scrollLeft";if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}(r),t.left}(r);t-o<r.clientWidth/2&&(n-=.5)}return n},t.prototype.focus=function(){this.props.disabled||this.rate.focus()},t.prototype.blur=function(){this.props.disabled||this.rate.focus()},t.prototype.changeValue=function(e){"value"in this.props||this.setState({value:e}),this.props.onChange(e)},t.prototype.render=function(){for(var e=this.props,t=e.count,n=e.allowHalf,r=e.style,o=e.prefixCls,i=e.disabled,a=e.className,s=e.character,l=e.tabIndex,u=this.state,c=u.value,f=u.hoverValue,d=u.focused,p=[],m=i?o+"-disabled":"",y=0;y<t;y++)p.push(h.a.createElement(w,{ref:this.saveRef(y),index:y,count:t,disabled:i,prefixCls:o+"-star",allowHalf:n,value:void 0===f?c:f,onClick:this.onClick,onHover:this.onHover,key:y,character:s,focused:d}));return h.a.createElement("ul",{className:_()(o,m,a),style:r,onMouseLeave:i?null:this.onMouseLeave,tabIndex:i?-1:l,onFocus:i?null:this.onFocus,onBlur:i?null:this.onBlur,onKeyDown:i?null:this.onKeyDown,ref:this.saveRate,role:"radiogroup"},p)},t}(h.a.Component);I.propTypes={disabled:y.a.bool,value:y.a.number,defaultValue:y.a.number,count:y.a.number,allowHalf:y.a.bool,allowClear:y.a.bool,style:y.a.object,prefixCls:y.a.string,onChange:y.a.func,onHoverChange:y.a.func,className:y.a.string,character:y.a.node,tabIndex:y.a.number,onFocus:y.a.func,onBlur:y.a.func,onKeyDown:y.a.func,autoFocus:y.a.bool},I.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:"rc-rate",onChange:k,character:"★",onHoverChange:k,tabIndex:0};var C=function(){var e=this;this.onHover=function(t,n){var r=e.getStarValue(n,t.pageX);r!==e.state.cleanedValue&&e.setState({hoverValue:r,cleanedValue:null}),e.props.onHoverChange(r)},this.onMouseLeave=function(){e.setState({hoverValue:void 0,cleanedValue:null}),e.props.onHoverChange(void 0)},this.onClick=function(t,n){var r=e.getStarValue(n,t.pageX),o=!1;e.props.allowClear&&(o=r===e.state.value),e.onMouseLeave(!0),e.changeValue(o?0:r),e.setState({cleanedValue:o?r:null})},this.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0}),t&&t()},this.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),t&&t()},this.onKeyDown=function(t){var n=t.keyCode,r=e.props,o=r.count,i=r.allowHalf,a=r.onKeyDown,s=e.state.value;n===A.a.RIGHT&&s<o?(s+=i?.5:1,e.changeValue(s),t.preventDefault()):n===A.a.LEFT&&s>0&&(s-=i?.5:1,e.changeValue(s),t.preventDefault()),a&&a(t)},this.saveRef=function(t){return function(n){e.stars[t]=n}},this.saveRate=function(t){e.rate=t}},x=I,N=n("./node_modules/antd/es/icon/index.js"),T=function(e){function t(){a()(this,t);var e=c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.saveRate=function(t){e.rcRate=t},e}return d()(t,e),l()(t,[{key:"focus",value:function(){this.rcRate.focus()}},{key:"blur",value:function(){this.rcRate.blur()}},{key:"render",value:function(){return p.createElement(x,o()({ref:this.saveRate},this.props))}}]),t}(p.Component);t.a=T;T.propTypes={prefixCls:m.string,character:m.node},T.defaultProps={prefixCls:"ant-rate",character:p.createElement(N.a,{type:"star",theme:"filled"})}},"./node_modules/braft-convert/dist/configs.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFromHTMLConfig=t.getToHTMLConfig=t.blocks=t.getHexColor=t.defaultFontFamilies=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n("./node_modules/react/index.js"));var i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},a=(t.defaultFontFamilies=[{name:"Araial",family:"Arial, Helvetica, sans-serif"},{name:"Georgia",family:"Georgia, serif"},{name:"Impact",family:"Impact, serif"},{name:"Monospace",family:'"Courier New", Courier, monospace'},{name:"Tahoma",family:"tahoma, arial, 'Hiragino Sans GB', 宋体, sans-serif"}],t.getHexColor=function(e){if(e=e.replace("color:","").replace(";","").replace(" ",""),/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e))return e;if(i[e])return i[e];if(0===e.indexOf("rgb")){var t=e.split(","),n=t.length<3?null:"#"+[t[0],t[1],t[2]].map(function(e){var t=parseInt(e.replace(/\D/g,""),10).toString(16);return 1===t.length?"0"+t:t}).join("");return/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(n)?n:null}return null}),s=t.blocks={"header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-fiv":"h5","header-six":"h6",unstyled:"p",blockquote:"blockquote"},l=Object.keys(s),u=l.map(function(e){return s[e]}),c=function(e){return function(t){var n="",i=t.type.toLowerCase(),a=t.data.textAlign;if(a&&(n=' style="text-align:'+a+';"'),"atomic"===i)return function(e,t){if(!e||!e.key)return o.default.createElement("p",null);var n=t.getBlockForKey(e.key);if(!n)return o.default.createElement("p",null);var i=n.getEntityAt(0);if(!i)return o.default.createElement("p",null);var a=t.getEntity(i),s=a.getType().toLowerCase(),l=e.data,u=l.float,c=l.alignment,f=a.getData(),d=f.src,p=f.url,h=f.link,m=f.link_target,y=f.width,v=f.height,g=f.meta;if("image"===s){var b={},_="";return u?(b.float=u,_+=" float-"+u):c&&(b.textAlign=c,_+=" align-"+c),h?o.default.createElement("div",{className:"media-wrap image-wrap"+_,style:b},o.default.createElement("a",{style:{display:"inline-block"},href:h,target:m},o.default.createElement("img",r({},g,{src:d||p,width:y,height:v,style:{width:y,height:v}})))):o.default.createElement("div",{className:"media-wrap image-wrap"+_,style:b},o.default.createElement("img",r({},g,{src:d||p,width:y,height:v,style:{width:y,height:v}})))}return"audio"===s?o.default.createElement("div",{className:"media-wrap audio-wrap"},o.default.createElement("audio",r({controls:!0},g,{src:d||p}))):"video"===s?o.default.createElement("div",{className:"media-wrap video-wrap"},o.default.createElement("video",r({controls:!0},g,{src:d||p,width:y,height:v}))):"embed"===s?o.default.createElement("div",{className:"media-wrap embed-wrap"},o.default.createElement("div",{dangerouslySetInnerHTML:{__html:d||p}})):"hr"===s?o.default.createElement("hr",null):o.default.createElement("p",null)}(t,e);if("code-block"===i){var l=e.getBlockBefore(t.key),u=e.getBlockAfter(t.key),c=l&&l.getType(),f=u&&u.getType();return"code-block"!==c&&"code-block"!==f?{start:"<pre>",end:"</pre>"}:"code-block"!==c?{start:"<pre>",end:"<br/>"}:"code-block"!==f?{start:"",end:"</pre>"}:{start:"",end:"<br/>"}}return s[i]?{start:"<"+s[i]+n+">",end:"</"+s[i]+">"}:"unordered-list-item"===i?{start:"<li"+n+">",end:"</li>",nest:o.default.createElement("ul",null)}:"ordered-list-item"===i?{start:"<li"+n+">",end:"</li>",nest:o.default.createElement("ol",null)}:void 0}},f=function(e,t){var n=e.type.toLowerCase();return"link"===n?o.default.createElement("a",{href:e.data.href,target:e.data.target},t):"color"===n?o.default.createElement("span",{style:{color:e.data.color}},t):"bg-color"===n?o.default.createElement("span",{style:{backgroundColor:e.data.color}},t):void 0},d=function(e,t,n){var r=t.alt,o=t.title,i=t.id,a=t.controls,s=t.autoplay,l=t.loop,u=t.poster,c={};if(i&&(c.id=i),r&&(c.alt=r),o&&(c.title=o),a&&(c.controls=a),s&&(c.autoPlay=s),l&&(c.loop=l),u&&(c.poster=u),"a"===e&&!t.querySelectorAll("img").length)return n("LINK","MUTABLE",{href:t.href,target:t.target});if("audio"===e)return n("AUDIO","IMMUTABLE",{src:t.getAttribute("src"),meta:c});if("video"===e)return n("VIDEO","IMMUTABLE",{src:t.getAttribute("src"),meta:c});if("img"===e){var f=t.parentNode,d={meta:c},p=t.style,h=p.width,m=p.height;return d.src=t.getAttribute("src"),h&&(d.width=h),m&&(d.height=m),"a"===f.nodeName.toLowerCase()&&(d.link=f.href,d.link_target=f.target),n("IMAGE","IMMUTABLE",d)}if("hr"===e)return n("HR","IMMUTABLE",{});if(t.parentNode&&t.parentNode.classList.contains("embed-wrap")){var y=t.innerHTML||t.outerHTML;if(y)return n("EMBED","IMMUTABLE",{src:y})}},p=function(e,t){var n=t.style||{};return t.classList&&t.classList.contains("media-wrap")?{type:"atomic",data:{float:n.float,alignment:n.textAlign}}:"img"===e?{type:"atomic",data:{float:n.float,alignment:n.textAlign}}:"hr"===e?{type:"atomic",data:{}}:n.textAlign&&u.indexOf(e)>-1?{type:l[u.indexOf(e)],data:{textAlign:n.textAlign}}:void 0};t.getToHTMLConfig=function(e,t){return{styleToHTML:function(e){return function(t){if("strikethrough"===(t=t.toLowerCase()))return o.default.createElement("span",{style:{textDecoration:"line-through"}});if("superscript"===t)return o.default.createElement("sup",null);if("subscript"===t)return o.default.createElement("sub",null);if(0===t.indexOf("color-"))return o.default.createElement("span",{style:{color:"#"+t.split("-")[1]}});if(0===t.indexOf("bgcolor-"))return o.default.createElement("span",{style:{backgroundColor:"#"+t.split("-")[1]}});if(0===t.indexOf("fontsize-"))return o.default.createElement("span",{style:{fontSize:t.split("-")[1]+"px"}});if(0===t.indexOf("lineheight-"))return o.default.createElement("span",{style:{lineHeight:t.split("-")[1]}});if(0===t.indexOf("letterspacing-"))return o.default.createElement("span",{style:{letterSpacing:t.split("-")[1]+"px"}});if(0===t.indexOf("indent-"))return o.default.createElement("span",{style:{paddingLeft:t.split("-")[1]+"px",paddingRight:t.split("-")[1]+"px"}});if(0===t.indexOf("fontfamily-")){var n=e.fontFamilies.find(function(e){return e.name.toLowerCase()===t.split("-")[1]});if(!n)return;return o.default.createElement("span",{style:{fontFamily:n.family}})}}}(e),entityToHTML:f,blockToHTML:c(t)}},t.getFromHTMLConfig=function(e){return{htmlToStyle:function(e){return function(t,n,r){if(!n||!n.style)return r;for(var o=r,i=0;i<n.style.length;i++)if("span"===t&&"color"===n.style[i]){var s=a(n.style.color);o=s?o.add("COLOR-"+s.replace("#","").toUpperCase()):o}else if("span"===t&&"background-color"===n.style[i]){var l=a(n.style.backgroundColor);o=l?o.add("BGCOLOR-"+l.replace("#","").toUpperCase()):o}else if("span"===t&&"font-size"===n.style[i])o=o.add("FONTSIZE-"+parseInt(n.style.fontSize,10));else if("span"===t&&"line-height"===n.style[i])o=o.add("LINEHEIGHT-"+n.style.lineHeight);else if("span"!==t||"letter-spacing"!==n.style[i]||isNaN(n.style.letterSpacing.replace("px","")))if("span"!==t||"padding-left"!==n.style[i]&&"padding-right"!==n.style[i]){if("span"===t&&"text-decoration"===n.style[i]&&"line-through"===n.style.textDecoration)o=o.add("STRIKETHROUGH");else if("span"===t&&"font-family"===n.style[i]){var u=e.fontFamilies.find(function(e){return e.family.toLowerCase()===n.style.fontFamily.toLowerCase()});if(!u)continue;o=o.add("FONTFAMILY-"+u.name.toUpperCase())}}else o=o.add("INDENT-"+parseInt(n.style.paddingLeft,10));else o=o.add("LETTERSPACING-"+parseInt(n.style.letterSpacing,10));return"sup"===t?o=o.add("SUPERSCRIPT"):"sub"===t&&(o=o.add("SUBSCRIPT")),o}}(e),htmlToEntity:d,htmlToBlock:p}}},"./node_modules/braft-convert/dist/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertRawToEditorState=t.convertEditorStateToRaw=t.convertHTMLToEditorState=t.convertEditorStateToHTML=t.convertHTMLToRaw=t.convertRawToHTML=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("./node_modules/draft-convert/lib/index.js"),i=n("./node_modules/braft-convert/dist/configs.js"),a=n("./node_modules/draft-js/lib/Draft.js"),s={fontFamilies:i.defaultFontFamilies};t.convertRawToHTML=function(e,t){t=r({},s,t);try{var n=(0,a.convertFromRaw)(e);return(0,o.convertToHTML)((0,i.getToHTMLConfig)(t,n))(n)}catch(e){return console.warn(e),""}},t.convertHTMLToRaw=function(e,t){t=r({},s,t);try{var n=(0,o.convertFromHTML)((0,i.getFromHTMLConfig)(t))(e);return(0,a.convertToRaw)(n)}catch(e){return console.warn(e),{}}},t.convertEditorStateToHTML=function(e,t){t=r({},s,t);try{var n=e.getCurrentContent();return(0,o.convertToHTML)((0,i.getToHTMLConfig)(t,n))(n)}catch(e){return console.warn(e),""}},t.convertHTMLToEditorState=function(e,t,n){n=r({},s,n);try{return a.EditorState.createWithContent((0,o.convertFromHTML)((0,i.getFromHTMLConfig)(n))(e),t)}catch(e){return console.warn(e),a.EditorState.createEmpty(t)}},t.convertEditorStateToRaw=function(e){return(0,a.convertToRaw)(e.getCurrentContent())},t.convertRawToEditorState=function(e,t){try{return a.EditorState.createWithContent((0,a.convertFromRaw)(e),t)}catch(e){return console.warn(e),a.EditorState.createEmpty(t)}}},"./node_modules/braft-editor/dist/index.js":function(e,t,n){!function(t,r){e.exports=r(n("./node_modules/react/index.js"),n("./node_modules/braft-utils/dist/index.js"),n("./node_modules/draft-js/lib/Draft.js"),n("./node_modules/braft-convert/dist/index.js"),n("./node_modules/react-dom/index.js"),n("./node_modules/immutable/dist/immutable.js"),n("./node_modules/braft-finder/dist/index.js"))}(window,function(e,t,n,r,o,i,a){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=19)}([function(t,n){t.exports=e},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,n){e.exports=t},function(e,t,n){var r=n(23);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(15),o=n(1);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(2);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}},function(e,t){e.exports=n},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){var r=n(26),o=n(25),i=n(24);e.exports=function(e){return r(e)||o(e)||i()}},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){var r=n(22),o=n(21),i=n(20);e.exports=function(e,t){return r(e)||o(e,t)||i()}},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t,n){"use strict";n.r(t);var r=n(15),o=n.n(r),i=n(9),a=n.n(i),s=n(12),l=n.n(s),u=n(8),c=n.n(u),f=n(7),d=n.n(f),p=n(6),h=n.n(p),m=n(5),y=n.n(m),v=n(4),g=n.n(v),b=n(1),_=n.n(b),A=n(2),E=n.n(A),S=(n(51),n(49),n(0)),w=n.n(S),k={en:{base:{remove:"Remove",cancel:"Cancel",confirm:"Confirm",inert:"Insert",width:"Width",height:"Height"},controls:{clear:"Clear",undo:"Undo",redo:"Redo",fontSize:"Font Size",color:"Color",textColor:"Text",tempColors:"Temp Colors",backgroundColor:"Background",bold:"Bold",lineHeight:"Line Height",letterSpacing:"Letter Spacing",textIndent:"Indent at both ends",italic:"Italic",underline:"Underline",strikeThrough:"Strike Through",fontFamily:"Font Family",textAlign:"Text Alignment",alignLeft:"Left Alignment",alignCenter:"Center Alignment",alignRight:"Right Alignment",alignJustify:"Justify Alignment",floatLeft:"Left Float",floatRight:"Right Float",superScript:"Super Script",subScript:"Sub Script",removeStyles:"Remove Styles",headings:"Headings",header:"Header",normal:"Normal",orderedList:"Ordered List",unorderedList:"Unordered List",blockQuote:"Quote",code:"Code",link:"Link",unlink:"Unlink",hr:"Horizontal Line",media:"Media",mediaLibirary:"Media Libirary",emoji:"Emoji"},linkEditor:{inputPlaceHolder:"Input link URL",inputWithEnterPlaceHolder:"Input link URL and press Enter",openInNewWindow:"Open in new window",removeLink:"Remove Link"},audioPlayer:{title:"Play Audio"},videoPlayer:{title:"Play Video",embedTitle:"Embed Media"},media:{image:"Image",video:"Video",audio:"Audio",embed:"Embed"}},zh:{base:{remove:"删除",cancel:"取消",confirm:"确定",inert:"插入",width:"宽度",height:"高度"},controls:{clear:"清除内容",undo:"撤销",redo:"重做",fontSize:"字号",lineHeight:"行高",letterSpacing:"字间距",textIndent:"两端缩进",border:"边框",color:"颜色",textColor:"文字颜色",backgroundColor:"背景颜色",tempColors:"临时颜色",bold:"加粗",italic:"斜体",underline:"下划线",strikeThrough:"删除线",fontFamily:"字体",textAlign:"文本对齐",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",alignJustify:"两端",floatLeft:"左浮动",floatRight:"右浮动",superScript:"上标",subScript:"下标",removeStyles:"清除样式",headings:"标题",header:"标题",normal:"常规",orderedList:"有序列表",unorderedList:"无序列表",blockQuote:"引用",code:"代码",link:"链接",unlink:"清除链接",hr:"水平线",media:"媒体",mediaLibirary:"媒体库",emoji:"小表情"},linkEditor:{inputPlaceHolder:"输入链接地址",inputWithEnterPlaceHolder:"输入链接地址并回车",openInNewWindow:"在新窗口打开",removeLink:"移除链接"},audioPlayer:{title:"播放音频文件"},videoPlayer:{title:"播放视频文件",embedTitle:"嵌入式媒体"},media:{image:"图像",video:"视频",audio:"音频",embed:"嵌入式媒体"}},"zh-hant":{base:{remove:"刪除",cancel:"取消",confirm:"確定",inert:"插入",width:"宽度",height:"高度"},controls:{clear:"清除内容",undo:"撤銷",redo:"重做",fontSize:"字號",color:"顏色",textColor:"文字顏色",backgroundColor:"背景顏色",tempColors:"臨時顏色",bold:"加粗",lineHeight:"行高",letterSpacing:"字間距",textIndent:"兩端縮進",border:"邊框",italic:"斜體",underline:"下劃線",strikeThrough:"刪除線",fontFamily:"字體",textAlign:"文本對齊",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",alignJustify:"兩端對齊",floatLeft:"左浮動",floatRight:"右浮動",superScript:"上標",subScript:"下標",removeStyles:"清除样式",headings:"標題",header:"標題",normal:"常規",orderedList:"有序列表",unorderedList:"無序列表",blockQuote:"引用",code:"代碼",link:"鏈接",unlink:"清除鏈接",hr:"水平线",media:"媒體",mediaLibirary:"媒體库",emoji:"小表情"},linkEditor:{inputPlaceHolder:"輸入鏈接地址",inputWithEnterPlaceHolder:"輸入鏈接地址並回車",openInNewWindow:"在新窗口打開",removeLink:"移除鏈接"},audioPlayer:{title:"播放音頻文件"},videoPlayer:{title:"播放視頻文件",embedTitle:"嵌入式媒體"},media:{image:"圖像",video:"視頻",audio:"音頻",embed:"嵌入式媒體"}}},I=n(18),C=n.n(I),x=n(3),N=n(10),T=function(e){return function(t){return 83===t.keyCode&&(N.KeyBindingUtil.hasCommandModifier(t)||N.KeyBindingUtil.isCtrlKeyCommand(t))?"braft-save":e&&e(t)||Object(N.getDefaultKeyBinding)(t)}},O={language:"zh",controls:["undo","redo","separator","font-size","line-height","letter-spacing","separator","text-color","bold","italic","underline","strike-through","separator","superscript","subscript","remove-styles","emoji","text-align","separator","headings","list-ul","list-ol","blockquote","code","separator","link","split","hr","separator","media","separator","clear"],excludeControls:[],extendControls:[],extendAtomics:[],componentBelowControlBar:null,media:{pasteImage:!0,image:!0,video:!0,audio:!0,uploadFn:null,validateFn:null,onBeforeDeselect:null,onDeselect:null,onBeforeSelect:null,onSelect:null,onBeforeRemove:null,onRemove:null,onCancel:null,onFileSelect:null,onBeforeInsert:null,onInsert:null,onChange:null,accepts:{image:"image/png,image/jpeg,image/gif,image/webp,image/apng,image/svg",video:"video/mp4",audio:"audio/mp3"},externals:{audio:!0,video:!0,image:!0,embed:!0}},imageControls:["float-left","float-right","align-left","align-center","align-right","link","size","remove"],colors:["#000000","#333333","#666666","#999999","#cccccc","#ffffff","#61a951","#16a085","#07a9fe","#003ba5","#8e44ad","#f32784","#c0392b","#d35400","#f39c12","#fdda00","#7f8c8d","#2c3e50"],tabIndents:2,textAligns:["left","center","right","justify"],textBackgroundColor:!0,letterSpacings:[0,1,2,3,4,5,6],textIndents:[0,14,21,28],lineHeights:[1,1.2,1.5,1.75,2,2.5,3,4],fontSizes:[12,14,16,18,20,24,28,30,32,36,40,48,56,64,72,96,120,144],fontFamilies:[{name:"Araial",family:"Arial, Helvetica, sans-serif"},{name:"Georgia",family:"Georgia, serif"},{name:"Impact",family:"Impact, serif"},{name:"Monospace",family:'"Courier New", Courier, monospace'},{name:"Tahoma",family:'tahoma, arial, "Hiragino Sans GB", 宋体, sans-serif'}],emojis:["🤣","🙌","💚","💛","👏","😉","💯","💕","💞","💘","💙","💝","🖤","💜","❤️","😍","😻","💓","💗","😋","😇","😂","😹","😘","💖","😁","😀","🤞","😲","😄","😊","👍","😌","😃","😅","✌️","🤗","💋","😗","😽","😚","🤠","😙","😺","👄","😸","😏","😼","👌","😎","😆","😛","🙏","🤝","🙂","🤑","😝","😐","😑","🤤","😤","🙃","🤡","😶","😪","😴","😵","😓","👊","😦","😷","🤐","😜","🤓","👻","😥","🙄","🤔","🤒","🙁","😔","😯","☹️","☠️","😰","😩","😖","😕","😒","😣","😢","😮","😿","🤧","😫","🤥","😞","😬","👎","💀","😳","😨","🤕","🤢","😱","😭","😠","😈","😧","💔","😟","🙀","💩","👿","😡","😾","🖕"],stripPastedStyles:!1,className:"",style:{},controlBarClassName:"",controlBarStyle:{},contentClassName:"",contentStyle:{},draftProps:{},hooks:{},onChange:null,onFocus:null,onBlur:null,onTab:null,onDelete:null,onSave:null},M=n(17),D=n(16),j=n.n(D),R=(n(45),n(44),function(e){var t=e.active,n=e.onClick,r=e.className;return w.a.createElement("div",{onClick:function(){return n()},className:"bf-switch "+r+(t?" active":"")})}),F={"float-left":{text:w.a.createElement("span",{"data-float":"left"},""),command:"setImageFloat|left"},"float-right":{text:w.a.createElement("span",{"data-float":"right"},""),command:"setImageFloat|right"},"align-left":{text:w.a.createElement("span",{"data-align":"left"},""),command:"setImageAlignment|left"},"align-center":{text:w.a.createElement("span",{"data-align":"center"},""),command:"setImageAlignment|center"},"align-right":{text:w.a.createElement("span",{"data-align":"right"},""),command:"setImageAlignment|right"},size:{text:w.a.createElement("span",null,""),command:"toggleSizeEditor"},link:{text:w.a.createElement("span",null,""),command:"toggleLinkEditor"},remove:{text:w.a.createElement("span",null,""),command:"removeImage"}},B=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=h()(this,(e=y()(t)).call.apply(e,[this].concat(o))),E()(_()(_()(n)),"state",{toolbarVisible:!1,toolbarOffset:0,linkEditorVisible:!1,sizeEditorVisible:!1,tempLink:null,tempWidth:null,tempHeight:null}),E()(_()(_()(n)),"handleDragStart",function(){return window.__BRAFT_DRAGING__IMAGE__={block:n.props.block,mediaData:a()({type:"IMAGE"},n.props.mediaData)},n.setState({toolbarVisible:!1},function(){n.props.editor.setDraftProps({readOnly:!1})}),!0}),E()(_()(_()(n)),"handleDragEnd",function(){return window.__BRAFT_DRAGING__IMAGE__=null,!1}),E()(_()(_()(n)),"executeCommand",function(e){if("string"==typeof e){var t=e.split("|"),r=j()(t,2),o=r[0],i=r[1];n[o]&&n[o](i)}else"function"==typeof e&&e(n.props.block,n.props.editorState)}),E()(_()(_()(n)),"removeImage",function(){n.props.editor.setValue(x.ContentUtils.removeBlock(n.props.editorState,n.props.block)),n.props.editor.setDraftProps({readOnly:!1})}),E()(_()(_()(n)),"toggleLinkEditor",function(){n.setState({linkEditorVisible:!n.state.linkEditorVisible,sizeEditorVisible:!1})}),E()(_()(_()(n)),"toggleSizeEditor",function(){n.setState({linkEditorVisible:!1,sizeEditorVisible:!n.state.sizeEditorVisible})}),E()(_()(_()(n)),"handleLinkInputKeyDown",function(e){13===e.keyCode&&n.confirmImageLink()}),E()(_()(_()(n)),"setImageLink",function(e){n.setState({tempLink:e.currentTarget.value})}),E()(_()(_()(n)),"confirmImageLink",function(){var e=n.state.tempLink;null!==e&&(n.props.editor.setValue(x.ContentUtils.setMediaData(n.props.editorState,n.props.entityKey,{link:e})),window.setImmediate(n.props.editor.forceRender))}),E()(_()(_()(n)),"handleSizeInputKeyDown",function(e){13===e.keyCode&&n.confirmImageSize()}),E()(_()(_()(n)),"setImageWidth",function(e){var t=e.currentTarget.value;t&&!isNaN(t)&&(t+="px"),n.setState({tempWidth:t})}),E()(_()(_()(n)),"setImageHeight",function(e){var t=e.currentTarget.value;t&&!isNaN(t)&&(t+="px"),n.setState({tempHeight:t})}),E()(_()(_()(n)),"confirmImageSize",function(){var e=n.state,t=e.tempWidth,r=e.tempHeight,o={};null!==t&&(o.width=t),null!==r&&(o.height=r),n.props.editor.setValue(x.ContentUtils.setMediaData(n.props.editorState,n.props.entityKey,o)),window.setImmediate(n.props.editor.forceRender)}),E()(_()(_()(n)),"setImageFloat",function(e){n.props.editor.setValue(x.ContentUtils.setMediaPosition(n.props.editorState,n.props.block,{float:e})),n.props.editor.setDraftProps({readOnly:!1})}),E()(_()(_()(n)),"setImageAlignment",function(e){n.props.editor.setValue(x.ContentUtils.setMediaPosition(n.props.editorState,n.props.block,{alignment:e})),n.props.editor.setDraftProps({readOnly:!1})}),E()(_()(_()(n)),"showToolbar",function(e){e.preventDefault(),n.state.toolbarVisible||n.setState({toolbarVisible:!0},function(){n.props.editor.setDraftProps({readOnly:!0}),n.setState({toolbarOffset:n.calcToolbarOffset()})})}),E()(_()(_()(n)),"hideToolbar",function(e){e.preventDefault(),n.setState({toolbarVisible:!1},function(){n.props.editor.setDraftProps({readOnly:!1})})}),n}return g()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.mediaData,r=t.language,o=t.imageControls,i=this.state,a=i.toolbarVisible,s=i.toolbarOffset,l=i.linkEditorVisible,u=i.sizeEditorVisible,c=this.props.block.getData(),f=c.get("float"),d=c.get("alignment"),p=n.src,h=n.url,m=n.link,y=n.link_target,v=n.width,g=n.height,b={},_=!1;f?d=null:"left"===d?(b.float="left",_=!0):"right"===d?(b.float="right",_=!0):"center"===d?b.textAlign="center":(b.float="left",_=!0);var A=o.map(function(t,r){return"string"==typeof t&&F[t]?w.a.createElement("a",{className:"link"===t&&m?"active":"",key:r,href:"javascript:void(0);",onClick:function(){return e.executeCommand(F[t].command)}},F[t].text):t&&t.onClick&&(t.render||t.text)?w.a.createElement("a",{key:r,href:"javascript:void(0);",onClick:function(){return e.executeCommand(t.onClick)}},t.render?t.render(n):t.text):null});return w.a.createElement("div",{className:"bf-media"},w.a.createElement("div",{style:b,draggable:!0,onMouseEnter:this.showToolbar,onMouseMove:this.showToolbar,onMouseLeave:this.hideToolbar,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,ref:function(t){return e.mediaEmbederInstance=t},className:"bf-image"},a?w.a.createElement("div",{style:{marginLeft:s},ref:function(t){return e.toolbarElement=t},"data-float":f,"data-align":d,className:"bf-media-toolbar"},l?w.a.createElement("div",{className:"bf-image-link-editor"},w.a.createElement("div",{className:"editor-input-group"},w.a.createElement("input",{type:"text",placeholder:r.linkEditor.inputWithEnterPlaceHolder,onKeyDown:this.handleLinkInputKeyDown,onChange:this.setImageLink,defaultValue:m}),w.a.createElement("button",{type:"button",onClick:this.confirmImageLink},r.base.confirm)),w.a.createElement("div",{className:"switch-group"},w.a.createElement(R,{active:"_blank"===y,onClick:function(){return e.setImageLinkTarget(y)}}),w.a.createElement("label",null,r.linkEditor.openInNewWindow))):null,u?w.a.createElement("div",{className:"bf-image-size-editor"},w.a.createElement("div",{className:"editor-input-group"},w.a.createElement("input",{type:"text",placeholder:r.base.width,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageWidth,defaultValue:v}),w.a.createElement("input",{type:"text",placeholder:r.base.height,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageHeight,defaultValue:g}),w.a.createElement("button",{type:"button",onClick:this.confirmImageSize},r.base.confirm))):null,A,w.a.createElement("i",{style:{marginLeft:-1*s},className:"bf-media-toolbar-arrow"})):null,w.a.createElement("img",{ref:function(t){return e.imageElement=t},src:p||h,style:{width:v,height:g},width:v,height:g})),_&&w.a.createElement("div",{className:"clearfix",style:{clear:"both",height:0,lineHeight:0,float:"none"}}))}},{key:"calcToolbarOffset",value:function(){if(!this.props.containerNode)return 0;var e=this.props.containerNode.getBoundingClientRect(),t=this.toolbarElement.getBoundingClientRect(),n=this.imageElement.getBoundingClientRect(),r=e.right-(n.right-n.width/2+t.width/2),o=n.left+n.width/2-t.width/2-e.left;return r<10?r-10:o<10?-1*o+10:0}},{key:"setImageLinkTarget",value:function(e){e="_blank"===e?"":"_blank",this.props.editor.setValue(x.ContentUtils.setMediaData(this.props.editorState,this.props.entityKey,{link_target:e})),window.setImmediate(this.props.editor.forceRender)}}]),t}(w.a.Component),L=(n(43),function(e){function t(){return c()(this,t),h()(this,y()(t).apply(this,arguments))}return g()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return w.a.createElement("div",null,this.props.children)}}]),t}(w.a.Component)),U=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=h()(this,(e=y()(t)).call.apply(e,[this].concat(o))),E()(_()(_()(n)),"state",{toolbarVisible:!1}),E()(_()(_()(n)),"removeVideo",function(){n.props.editor.setValue(x.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),E()(_()(_()(n)),"showToolbar",function(){n.setState({toolbarVisible:!0})}),E()(_()(_()(n)),"hideToolbar",function(){n.setState({toolbarVisible:!1})}),n}return g()(t,e),d()(t,[{key:"render",value:function(){var e=this.state.toolbarVisible,t=this.props.mediaData,n=t.src,r=t.url,o=t.meta;return w.a.createElement("div",{className:"bf-video-wrap",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},w.a.createElement(L,null,w.a.createElement("video",{controls:!0,src:n||r,poster:o&&o.poster||""})),e?w.a.createElement("div",{className:"bf-media-toolbar"},w.a.createElement("a",{onClick:this.removeVideo},"")):null)}}]),t}(w.a.Component),z=(n(42),function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=h()(this,(e=y()(t)).call.apply(e,[this].concat(o))),E()(_()(_()(n)),"state",{toolbarVisible:!1}),E()(_()(_()(n)),"removeAudio",function(){n.props.editor.setValue(x.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),E()(_()(_()(n)),"showToolbar",function(){n.setState({toolbarVisible:!0})}),E()(_()(_()(n)),"hideToolbar",function(){n.setState({toolbarVisible:!1})}),n}return g()(t,e),d()(t,[{key:"render",value:function(){var e=this.state.toolbarVisible,t=this.props.mediaData,n=t.src,r=t.url;return w.a.createElement("div",{className:"bf-audio",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},w.a.createElement(L,null,w.a.createElement("audio",{controls:!0,src:n||r})),e?w.a.createElement("div",{className:"bf-media-toolbar"},w.a.createElement("a",{onClick:this.removeAudio},"")):null)}}]),t}(w.a.Component)),P=(n(41),function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=h()(this,(e=y()(t)).call.apply(e,[this].concat(o))),E()(_()(_()(n)),"state",{toolbarVisible:!1}),E()(_()(_()(n)),"removeEmbed",function(){n.props.editor.setValue(x.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),E()(_()(_()(n)),"showToolbar",function(){n.setState({toolbarVisible:!0})}),E()(_()(_()(n)),"hideToolbar",function(){n.setState({toolbarVisible:!1})}),n}return g()(t,e),d()(t,[{key:"render",value:function(){var e=this.state.toolbarVisible,t=this.props.mediaData,n=t.src,r=t.url;return w.a.createElement("div",{className:"bf-embed",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},w.a.createElement(L,null,w.a.createElement("div",{className:"bf-embed-player",dangerouslySetInnerHTML:{__html:n||r}})),e?w.a.createElement("div",{className:"bf-media-toolbar"},w.a.createElement("a",{onClick:this.removeEmbed},"")):null)}}]),t}(w.a.Component)),V=(n(40),function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=h()(this,(e=y()(t)).call.apply(e,[this].concat(o))),E()(_()(_()(n)),"removeHorizontalLine",function(){n.props.editor.setValue(x.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),n}return g()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement("div",{className:"bf-hr"},w.a.createElement("div",{className:"bf-media-toolbar"},w.a.createElement("a",{onClick:this.removeHorizontalLine},"")))}}]),t}(w.a.Component));var H=function(e,t){if(e.getModifierState("Shift")){var n=document.createElement("a");n.href=t,n.target="_blank",n.click()}},q=[{strategy:function(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t)},component:function(e){var t=e.children,n=e.entityKey,r=e.contentState.getEntity(n).getData(),o=r.href,i=r.target;return w.a.createElement("span",{className:"bf-link-wrap"},w.a.createElement("a",{onClick:function(e){return H(e,o)},className:"bf-link",href:o,target:i},t))}}],Y=function(e,t){return function(n){var r=null;return"atomic"===n.getType()?r={component:function(e,t){return function(n){var r=n.block.getEntityAt(0);if(!r)return null;var o=n.contentState.getEntity(r),i=o.getData(),s=o.getType(),l=a()({},t,{block:e,mediaData:i,entityKey:r});if("IMAGE"===s)return w.a.createElement(B,l);if("AUDIO"===s)return w.a.createElement(z,l);if("VIDEO"===s)return w.a.createElement(U,l);if("EMBED"===s)return w.a.createElement(P,l);if("HR"===s)return w.a.createElement(V,l);if(t.extendAtomics)for(var u=t.extendAtomics,c=0;c<u.length;c++)if(s===u[c].type){var f=u[c].component;return w.a.createElement(f,l)}return null}}(n,e),editable:!1}:t&&(r=t(n)||null),r}},Q=Object(M.Map)({atomic:{element:""},"code-block":{element:"code",wrapper:N.DefaultDraftBlockRenderMap.get("code-block").wrapper}}),K=function(e){return function(t){var n=t.getData()&&t.getData().get("textAlign"),r=t.getData()&&t.getData().get("float"),o="";return n&&(o="bfa-".concat(n)),r&&(o+=" bff-".concat(r)),e&&(o+=e(t)),o}},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r={},o={},i={},s={},l={},u={};return e.colors.forEach(function(e){var t=e.replace("#","").toUpperCase();n["COLOR-"+t]={color:e},r["BGCOLOR-"+t]={backgroundColor:e}}),e.fontSizes.forEach(function(e){o["FONTSIZE-"+e]={fontSize:e}}),e.fontFamilies.forEach(function(e){i["FONTFAMILY-"+e.name.toUpperCase()]={fontFamily:e.family}}),e.lineHeights.forEach(function(e){s["LINEHEIGHT-"+e]={lineHeight:e}}),e.letterSpacings.forEach(function(e){l["LETTERSPACING-"+e]={letterSpacing:e}}),e.textIndents.forEach(function(e){u["INDENT-"+e]={paddingLeft:e,paddingRight:e}}),a()({SUPERSCRIPT:{position:"relative",top:"-8px",fontSize:"11px"},SUBSCRIPT:{position:"relative",bottom:"-8px",fontSize:"11px"}},n,r,o,i,s,l,u,t)},W=q,J=n(11),X=n.n(J),Z=(n(39),n(38),n(37),[]),$=!1,ee=!1,te=function(e){var t=x.BaseUtils.UniqueIndex();return Z.push({id:t,eventHandler:e}),t},ne=function(e){Z=Z.filter(function(t){return t.id!==e})};$||(window.addEventListener("resize",function(e){clearTimeout(ee),ee=setTimeout(function(){Z.map(function(t){"function"==typeof t.eventHandler&&t.eventHandler(e)}),ee=!1},100)}),$=!0);var re=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=h()(this,(e=y()(t)).call.apply(e,[this].concat(o))),E()(_()(_()(n)),"alive",!1),E()(_()(_()(n)),"responsiveResolveId",null),E()(_()(_()(n)),"dropDownHandlerElement",null),E()(_()(_()(n)),"dropDownContentElement",null),E()(_()(_()(n)),"componentId",n.props.componentId||"BRAFT-DROPDOWN-"+x.BaseUtils.UniqueIndex()),E()(_()(_()(n)),"state",{active:!1,offset:0,maxHeight:100}),n}return g()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;this.alive=!0,document.body.addEventListener("click",function(t){e.registerClickEvent(t)}),this.responsiveResolveId=te(function(){e.fixDropDownPosition()})}},{key:"componentWillReceiveProps",value:function(e){!this.props.disabled&&e.disabled&&this.hide()}},{key:"componentDidUpdate",value:function(e){!e.active&&this.state.active&&this.fixDropDownPosition()}},{key:"componentWillUnmount",value:function(){var e=this;document.body.removeEventListener("click",function(t){e.registerClickEvent(t)}),this.alive=!1,ne(this.responsiveResolveId)}},{key:"render",value:function(){var e=this,t=this.state,n=t.active,r=t.offset,o=t.maxHeight,i=this.props,a=i.caption,s=i.htmlCaption,l=i.title,u=i.disabled,c=i.showArrow,f=i.arrowActive,d=i.className,p=i.children;return u&&(n=!1),w.a.createElement("div",{id:this.componentId,className:"bf-dropdown "+(n?"active ":"")+(u?"disabled ":"")+d},s?w.a.createElement("button",{type:"button",className:"dropdown-handler","data-title":l,"data-braft-component-id":this.componentId,dangerouslySetInnerHTML:s?{__html:s}:null,ref:function(t){return e.dropDownHandlerElement=t}}):w.a.createElement("button",{type:"button",className:"dropdown-handler","data-title":l,"data-braft-component-id":this.componentId,ref:function(t){return e.dropDownHandlerElement=t}},w.a.createElement("span",null,a),!1!==c?w.a.createElement("i",{className:"bfi-drop-down"}):null),w.a.createElement("div",{className:"dropdown-content",style:{marginLeft:r},ref:function(t){return e.dropDownContentElement=t}},w.a.createElement("i",{style:{marginLeft:-1*r},className:"dropdown-arrow"+(f?" active":"")}),w.a.createElement("div",{className:"dropdown-content-inner",style:{maxHeight:o}},p)))}},{key:"fixDropDownPosition",value:function(){var e=this.props.containerNode.getBoundingClientRect(),t=this.props.containerNode.querySelector(".bf-content").getBoundingClientRect(),n=this.dropDownHandlerElement.getBoundingClientRect(),r=this.dropDownContentElement.getBoundingClientRect(),o=t.height+(t.top-(n.top+n.height))-30,i=0,a=n.right-n.width/2+r.width/2,s=n.left+n.width/2-r.width/2;a=e.right-a,s-=e.left,a<10?i=a-10:s<10&&(i=-1*s+10),i===this.state.offset&&o===this.state.maxHeight||this.setState({offset:i,maxHeight:o})}},{key:"registerClickEvent",value:function(e){var t=this.props.autoHide,n=!1;e.target.dataset.braftComponentId===this.componentId?n=!!e.target.dataset.keepActive||!this.state.active:!1===t&&(n=this.state.active),this.alive&&this.setState({active:n})}},{key:"show",value:function(){this.setState({active:!0})}},{key:"hide",value:function(){this.setState({active:!1})}}]),t}(w.a.Component),oe=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=h()(this,(e=y()(t)).call.apply(e,[this].concat(o))),E()(_()(_()(n)),"state",{href:"",target:""}),E()(_()(_()(n)),"dropDownComponent",null),E()(_()(_()(n)),"handeKeyDown",function(e){if(13===e.keyCode)return n.handleConfirm(),e.preventDefault(),!1}),E()(_()(_()(n)),"inputLink",function(e){n.setState({href:e.currentTarget.value})}),E()(_()(_()(n)),"setTarget",function(){n.setState({target:"_blank"===n.state.target?"":"_blank"})}),E()(_()(_()(n)),"handleCancel",function(){n.dropDownComponent.hide()}),E()(_()(_()(n)),"handleUnlink",function(){n.dropDownComponent.hide(),n.props.editor.setValue(x.ContentUtils.toggleSelectionLink(n.props.editorState,!1))}),E()(_()(_()(n)),"handleConfirm",function(){var e=n.state,t=e.href,r=e.target,o=n.props.hooks("toggle-link",{href:t,target:r})({href:t,target:r});if(n.dropDownComponent.hide(),n.props.editor.requestFocus(),!1===o)return!1;o&&("string"==typeof o.href&&(t=o.href),"string"==typeof o.target&&(r=o.target)),n.props.editor.setValue(x.ContentUtils.toggleSelectionLink(n.props.editorState,t,r))}),n}return g()(t,e),d()(t,[{key:"componentWillReceiveProps",value:function(e){var t=x.ContentUtils.getSelectionEntityData(e.editorState,"LINK"),n=t.href,r=t.target;this.setState({href:n||"",target:r||""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.href,r=t.target,o=w.a.createElement("i",{className:"bfi-link"}),i=!x.ContentUtils.isSelectionCollapsed(this.props.editorState)&&"atomic"!==x.ContentUtils.getSelectionBlockType(this.props.editorState);return w.a.createElement("div",{className:"control-item-group"},w.a.createElement(re,{caption:o,title:this.props.language.controls.link,autoHide:!1,containerNode:this.props.containerNode,showArrow:!1,disabled:!i,ref:function(t){return e.dropDownComponent=t},className:"control-item dropdown link-editor-dropdown"},w.a.createElement("div",{className:"bf-link-editor"},w.a.createElement("div",{className:"input-group"},w.a.createElement("input",{type:"text",value:n,spellCheck:!1,placeholder:this.props.language.linkEditor.inputPlaceHolder,onKeyDown:this.handeKeyDown,onChange:this.inputLink})),w.a.createElement("div",{className:"switch-group"},w.a.createElement(R,{active:"_blank"===r,onClick:this.setTarget}),w.a.createElement("label",null,this.props.language.linkEditor.openInNewWindow)),w.a.createElement("div",{className:"buttons"},w.a.createElement("a",{onClick:this.handleUnlink,className:"primary pull-left",href:"javascript:void(0);"},w.a.createElement("i",{className:"bfi-close"}),w.a.createElement("span",null,this.props.language.linkEditor.removeLink)),w.a.createElement("button",{type:"button",onClick:this.handleConfirm,className:"primary pull-right"},this.props.language.base.confirm),w.a.createElement("button",{type:"button",onClick:this.handleCancel,className:"default pull-right"},this.props.language.base.cancel)))),w.a.createElement("button",{type:"button","data-title":this.props.language.controls.unlink,className:"control-item button",onClick:this.handleUnlink,disabled:!i||!n},w.a.createElement("i",{className:"bfi-link-off"})))}}]),t}(w.a.Component),ie=(n(36),function(e){var t=function(e){return[{key:"header-one",title:e.controls.header+" 1",text:w.a.createElement("h1",null,e.controls.header," 1"),type:"block-type",command:"header-one"},{key:"header-two",title:e.controls.header+" 2",text:w.a.createElement("h2",null,e.controls.header," 2"),type:"block-type",command:"header-two"},{key:"header-three",title:e.controls.header+" 3",text:w.a.createElement("h3",null,e.controls.header," 3"),type:"block-type",command:"header-three"},{key:"header-four",title:e.controls.header+" 4",text:w.a.createElement("h4",null,e.controls.header," 4"),type:"block-type",command:"header-four"},{key:"header-five",title:e.controls.header+" 5",text:w.a.createElement("h5",null,e.controls.header," 5"),type:"block-type",command:"header-five"},{key:"header-six",title:e.controls.header+" 6",text:w.a.createElement("h6",null,e.controls.header," 6"),type:"block-type",command:"header-six"},{key:"unstyled",title:e.controls.normal,text:e.controls.normal,type:"block-type",command:"unstyled"}]}(e.language),n=t.findIndex(function(t){return t.command===e.current}),r=t[n]?t[n].title:e.language.controls.normal;return w.a.createElement(re,{caption:r,containerNode:e.containerNode,title:e.language.controls.headings,arrowActive:0===n,className:"control-item dropdown headings-dropdown"},w.a.createElement("ul",{className:"menu"},t.map(function(t,n){var r=e.current===t.command;return w.a.createElement("li",{key:n,className:"menu-item"+(r?" active":""),onClick:function(){return e.onChange(t.command,t.type)}},t.text)})))}),ae=(n(35),n(34),function(e){var t=e.current,n=e.colors;return w.a.createElement("div",{className:"bf-colors-wrap"},w.a.createElement("ul",{className:"bf-colors"},n.map(function(n,r){var o=n===t?"color-item active":"color-item";return w.a.createElement("li",{key:r,title:n,className:o,style:{color:n},"data-color":n.replace("#",""),onClick:function(t){return e.onChange(t.currentTarget.dataset.color)}})})))}),se=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=h()(this,(e=y()(t)).call.apply(e,[this].concat(o))),E()(_()(_()(n)),"state",{colorType:"color"}),E()(_()(_()(n)),"dropDownComponentId","BRAFT-DROPDOWN-"+x.BaseUtils.UniqueIndex()),E()(_()(_()(n)),"switchColorType",function(e){var t=e.currentTarget;n.setState({colorType:t.dataset.type})}),E()(_()(_()(n)),"toggleColor",function(e){var t=n.props.hooks("toggle-text-".concat(n.state.colorType),e)(e);if(!1===t)return!1;"string"==typeof t&&(e=t),"color"===n.state.colorType?n.props.editor.setValue(x.ContentUtils.toggleSelectionColor(n.props.editorState,e,n.props.colors)):n.props.editor.setValue(x.ContentUtils.toggleSelectionBackgroundColor(n.props.editorState,e,n.props.colors)),n.dropDownComponent.hide(),n.props.editor.requestFocus()}),n}return g()(t,e),d()(t,[{key:"render",value:function(){var e=this,t={},n=null,r=this.state.colorType;this.props.colors.forEach(function(o){var i=o.replace("#","");x.ContentUtils.selectionHasInlineStyle(e.props.editorState,"COLOR-"+i)&&(t.color=o,"color"===r&&(n=o)),x.ContentUtils.selectionHasInlineStyle(e.props.editorState,"BGCOLOR-"+i)&&(t.backgroundColor=o,"background-color"===r&&(n=o))});var o=w.a.createElement("i",{style:t,className:"bfi-text-color"},w.a.createElement("span",{className:"path1"}),w.a.createElement("span",{className:"path2"}));return w.a.createElement(re,{caption:o,title:this.props.language.controls.color,showArrow:!1,containerNode:this.props.containerNode,componentId:this.dropDownComponentId,ref:function(t){return e.dropDownComponent=t},className:"control-item dropdown text-color-dropdown"},w.a.createElement("div",{className:"bf-text-color-picker-wrap"},w.a.createElement("div",{className:"bf-color-switch-buttons",style:this.props.enableBackgroundColor?{}:{display:"none"}},w.a.createElement("button",{type:"button","data-type":"color","data-keep-active":!0,"data-braft-component-id":this.dropDownComponentId,className:"color"===r?"active":"",onClick:this.switchColorType},this.props.language.controls.textColor),w.a.createElement("button",{type:"button","data-type":"background-color","data-keep-active":!0,"data-braft-component-id":this.dropDownComponentId,className:"background-color"===r?"active":"",onClick:this.switchColorType},this.props.language.controls.backgroundColor)),w.a.createElement(ae,{width:200,language:this.props.language,current:n,disableAlpha:!0,colors:this.props.colors,onChange:this.toggleColor})))}}]),t}(w.a.Component),le=(n(33),function(e){var t=null,n=null;return e.fontSizes.find(function(r){return!!x.ContentUtils.selectionHasInlineStyle(e.editorState,"FONTSIZE-"+r)&&(t=r+"px",n=r,!0)}),w.a.createElement(re,{caption:t||e.defaultCaption,containerNode:e.containerNode,title:e.language.controls.fontSize,className:"control-item dropdown bf-font-size-dropdown"},w.a.createElement("ul",{className:"bf-font-sizes"},e.fontSizes.map(function(t,r){return w.a.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.size,r=t.hooks("toggle-font-size",n)(n);if(!1===r)return!1;isNaN(n)||(n=r),t.editor.setValue(x.ContentUtils.toggleSelectionFontSize(t.editorState,n,t.fontSizes)),t.editor.requestFocus()}(t,e)}},t+"px")})))}),ue=(n(32),function(e){var t=null,n=null;return e.lineHeights.find(function(r){return!!x.ContentUtils.selectionHasInlineStyle(e.editorState,"LINEHEIGHT-"+r)&&(t=r,n=r,!0)}),w.a.createElement(re,{caption:t||e.defaultCaption,containerNode:e.containerNode,title:e.language.controls.lineHeight,className:"control-item dropdown bf-line-height-dropdown"},w.a.createElement("ul",{className:"bf-line-heights"},e.lineHeights.map(function(t,r){return w.a.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.size,r=t.hooks("toggle-line-height",n)(n);if(!1===r)return!1;isNaN(r)||(n=r),t.editor.setValue(x.ContentUtils.toggleSelectionLineHeight(t.editorState,n,t.lineHeights)),t.editor.requestFocus()}(t,e)}},t)})))}),ce=(n(31),function(e){var t=null,n=null;return e.fontFamilies.find(function(r,o){return!!x.ContentUtils.selectionHasInlineStyle(e.editorState,"FONTFAMILY-"+r.name)&&(t=r.name,n=o,!0)}),w.a.createElement(re,{caption:t||e.defaultCaption,containerNode:e.containerNode,title:e.language.controls.fontFamily,arrowActive:0===n,className:"control-item dropdown font-family-dropdown"},w.a.createElement("ul",{className:"menu"},e.fontFamilies.map(function(t,r){return w.a.createElement("li",{key:r,className:"menu-item "+(r===n?"active":""),"data-name":t.name,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.name,r=t.hooks("toggle-font-family",n)(n,t.fontFamilies);if(!1===r)return!1;"string"==typeof r&&(n=r),t.editor.setValue(x.ContentUtils.toggleSelectionFontFamily(t.editorState,n,t.fontFamilies)),t.editor.requestFocus()}(t,e)}},w.a.createElement("span",{style:{fontFamily:t.family}},t.name))})))}),fe=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=h()(this,(e=y()(t)).call.apply(e,[this].concat(o))),E()(_()(_()(n)),"state",{currentAlignment:void 0}),E()(_()(_()(n)),"setAlignment",function(e){var t=e.currentTarget.dataset.alignment,r=n.props.hooks("toggle-text-alignment",t)(t);n.props.textAligns.indexOf(r)>-1&&(t=r),n.props.editor.setValue(x.ContentUtils.toggleSelectionAlignment(n.props.editorState,t)),n.props.editor.requestFocus()}),n}return g()(t,e),d()(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({currentAlignment:x.ContentUtils.getSelectionBlockData(e.editorState,"textAlign")})}},{key:"render",value:function(){var e=this,t=[this.props.language.controls.alignLeft,this.props.language.controls.alignCenter,this.props.language.controls.alignRight,this.props.language.controls.alignJustify];return w.a.createElement("div",{className:"control-item-group"},this.props.textAligns.map(function(n,r){return w.a.createElement("button",{type:"button",key:r,"data-title":t[r],"data-alignment":n,className:"control-item button "+(n===e.state.currentAlignment?"active":null),onClick:e.setAlignment},w.a.createElement("i",{className:"bfi-align-"+n}))}))}}]),t}(w.a.Component),de=(n(30),function(e){return w.a.createElement(re,{caption:e.defaultCaption,showArrow:!1,containerNode:e.containerNode,title:e.language.controls.emoji,className:"control-item dropdown bf-emoji-dropdown"},w.a.createElement("div",{className:"bf-emojis-wrap"},w.a.createElement("ul",{className:"bf-emojis"},e.emojis.map(function(t,n){return w.a.createElement("li",{key:n,"data-emoji":t,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.emoji,r=t.hooks("insert-emoji",n)(n);if(!1===r)return!1;"string"==typeof r&&(n=r),t.editor.setValue(x.ContentUtils.insertText(t.editorState,n)),t.editor.requestFocus()}(t,e)}},t)}))))}),pe=(n(29),function(e){var t=null,n=null;return e.letterSpacings.find(function(r){return!!x.ContentUtils.selectionHasInlineStyle(e.editorState,"LETTERSPACING-"+r)&&(t=r,n=r,!0)}),w.a.createElement(re,{caption:t||e.defaultCaption,containerNode:e.containerNode,title:e.language.controls.letterSpacing,className:"control-item dropdown bf-letter-spacing-dropdown"},w.a.createElement("ul",{className:"bf-letter-spacings"},e.letterSpacings.map(function(t,r){return w.a.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.size,r=t.hooks("toggle-letter-spacing",n)(n);if(!1===r)return!1;isNaN(r)||(n=r),t.editor.setValue(x.ContentUtils.toggleSelectionLetterSpacing(t.editorState,n,t.letterSpacings)),t.editor.requestFocus()}(t,e)}},t)})))}),he=(n(28),function(e){var t=null,n=null;return e.textIndents.find(function(r){return!!x.ContentUtils.selectionHasInlineStyle(e.editorState,"INDENT-"+r)&&(t=r,n=r,!0)}),w.a.createElement(re,{caption:t||e.defaultCaption,containerNode:e.containerNode,title:e.language.controls.textIndent,className:"control-item dropdown bf-indent-dropdown"},w.a.createElement("ul",{className:"bf-text-indents"},e.textIndents.map(function(t,r){return w.a.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.size,r=t.hooks("toggle-text-indent",n)(n);if(!1===r)return!1;isNaN(r)||(n=r),t.editor.setValue(x.ContentUtils.toggleSelectionIndent(t.editorState,n,t.textIndents)),t.editor.requestFocus()}(t,e)}},t)})))}),me=(n(27),n(14)),ye=n.n(me),ve=function(e){function t(e){var n;return c()(this,t),n=h()(this,y()(t).call(this,e)),E()(_()(_()(n)),"handleTransitionEnd",function(){if(!n.rootElement||!n.rootElement.classList)return!1;n.rootElement.classList.contains("active")||ye.a.unmountComponentAtNode(n.rootElement)&&n.rootElement.parentNode.removeChild(n.rootElement)}),E()(_()(_()(n)),"handleCancel",function(){n.props.closeOnCancel&&n.close(),n.props.onCancel&&n.props.onCancel()}),E()(_()(_()(n)),"handleConfirm",function(){n.props.closeOnConfirm&&n.close(),n.props.onConfirm&&n.props.onConfirm()}),E()(_()(_()(n)),"close",function(){n.unrenderComponent(),n.props.onClose&&n.props.onClose()}),n.active=!1,n.componentId="BRAFT-MODAL-"+x.BaseUtils.UniqueIndex(),n}return g()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.visible&&(this.active=!0,this.renderComponent(this.props))}},{key:"componentWillReceiveProps",value:function(e){this.props.visible&&!e.visible?this.unrenderComponent():(this.props.visible||e.visible)&&(this.active=!0,this.renderComponent(e))}},{key:"render",value:function(){return null}},{key:"unrenderComponent",value:function(){this.active=!1,this.activeId&&window.clearImmediate(this.activeId),this.rootElement&&this.rootElement.classList&&this.rootElement.classList.remove("active")}},{key:"renderComponent",value:function(e){var t=this;if(!this.active)return!1;var n=e.title,r=e.className,o=e.width,i=e.height,a=e.children,s=e.confirmable,l=e.showFooter,u=e.showCancel,c=e.showConfirm,f=e.showClose,d=e.cancelText,p=e.confirmText,h=e.bottomText,m=e.language;void 0===u&&(u=!0),void 0===f&&(f=!0),void 0===c&&(c=!0);var y=w.a.createElement("div",{className:"bf-modal "+(r||"")},w.a.createElement("div",{className:"bf-modal-mask"}),w.a.createElement("div",{onTransitionEnd:this.handleTransitionEnd,style:{width:o,height:i},className:"bf-modal-content"},w.a.createElement("div",{className:"bf-modal-header"},w.a.createElement("h3",{className:"bf-modal-caption"},n),f&&w.a.createElement("button",{type:"button",onClick:this.close,className:"bf-modal-close-button"},w.a.createElement("i",{className:"bf-icon-close"}))),w.a.createElement("div",{className:"bf-modal-body"},a),l?w.a.createElement("div",{className:"bf-modal-footer"},w.a.createElement("div",{className:"bf-modal-addon-text"},h),w.a.createElement("div",{className:"bf-modal-buttons"},u&&w.a.createElement("button",{type:"button",onClick:this.handleCancel,className:"bf-modal-cancel"},d||m.base.cancel),c&&w.a.createElement("button",{type:"button",onClick:this.handleConfirm,className:"bf-modal-confirm "+(s?"":"disabled")},p||m.base.confirm))):null));this.rootElement=document.querySelector("#"+this.componentId),this.rootElement||(this.rootElement=document.createElement("div"),this.rootElement.id=this.componentId,this.rootElement.className="bf-modal-root",document.body.appendChild(this.rootElement)),ye.a.render(y,this.rootElement),this.activeId=window.setImmediate(function(){t.rootElement.classList.add("active")})}}]),t}(w.a.Component);E()(ve,"defaultProps",{showFooter:!0});var ge=function(e){var t=document.createElement("div");t.style.display="none",document.body.appendChild(t);var n=function(){ye.a.unmountComponentAtNode(t)&&t.parentNode.removeChild(t)},r={onConfirm:function(){n(),e.onConfirm&&e.onConfirm()},onCancel:function(){n(),e.onCancel&&e.onCancel()},onClose:function(){n(),e.onClose&&e.onClose()},visible:!0,closeOnConfirm:!0,closeOnCancel:!0},o=ye.a.render(w.a.createElement(ve,X()({},e,r)),t);return o.destroy=n,o.update=o.renderComponent,o},be={"inline-style":"toggle-inline-style","block-type":"change-block-type","editor-method":"exec-editor-command"},_e=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=h()(this,(e=y()(t)).call.apply(e,[this].concat(o))),E()(_()(_()(n)),"mediaLibiraryModal",null),E()(_()(_()(n)),"extendedModals",{}),E()(_()(_()(n)),"openBraftFinder",function(){if(!n.props.braftFinder||!n.props.braftFinder.ReactComponent)return!1;if(!1===n.props.hooks("open-braft-finder")())return!1;var e=n.props.media,t=n.props.braftFinder.ReactComponent;n.mediaLibiraryModal=ge({title:n.props.language.controls.mediaLibirary,language:n.props.language,width:640,showFooter:!1,children:w.a.createElement(t,{accepts:e.accepts,onCancel:n.closeBraftFinder,onInsert:n.insertMedias,onChange:e.onChange,externals:e.externals,onBeforeSelect:n.bindBraftFinderHook("select-medias"),onBeforeDeselect:n.bindBraftFinderHook("deselect-medias"),onBeforeRemove:n.bindBraftFinderHook("remove-medias"),onBeforeInsert:n.bindBraftFinderHook("insert-medias"),onFileSelect:n.bindBraftFinderHook("select-files")})})}),E()(_()(_()(n)),"bindBraftFinderHook",function(e){return function(){return n.props.hooks(e,arguments.length<=0?void 0:arguments[0]).apply(void 0,arguments)}}),E()(_()(_()(n)),"insertMedias",function(e){n.props.editor.setValue(x.ContentUtils.insertMedias(n.props.editorState,e)),n.props.editor.requestFocus(),n.props.media.onInsert&&n.props.media.onInsert(e),n.closeBraftFinder()}),E()(_()(_()(n)),"closeBraftFinder",function(){n.props.media.onCancel&&n.props.media.onCancel(),n.mediaLibiraryModal&&n.mediaLibiraryModal.close()}),n}return g()(t,e),d()(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.controls,r=t.language;n.forEach(function(t){"modal"===t.type&&t.modal&&t.modal.id&&e.extendedModals[t.modal.id]&&e.extendedModals[t.modal.id].update(a()({},t.modal,{language:r}))})}},{key:"getControlItemClassName",value:function(e){var t="control-item button",n=e.type,r=e.command;return"inline-style"===n&&x.ContentUtils.selectionHasInlineStyle(this.props.editorState,r)?t+=" active":"block-type"===n&&x.ContentUtils.getSelectionBlockType(this.props.editorState)===r&&(t+=" active"),t}},{key:"applyControl",value:function(e,t){var n=this.props.hooks(be[t]||t,e)(e);if(!1===n)return!1;"string"==typeof n&&(e=n),"inline-style"===t?this.props.editor.setValue(x.ContentUtils.toggleSelectionInlineStyle(this.props.editorState,e)):"block-type"===t?this.props.editor.setValue(x.ContentUtils.toggleSelectionBlockType(this.props.editorState,e)):"editor-method"===t&&this.props.editor[e]&&this.props.editor[e]()}},{key:"render",value:function(){var e=this,t=this.props,n=t.editor,r=t.editorState,o=t.controls,i=t.media,s=t.extendControls,u=t.language,c=t.hooks,f=t.colors,d=t.fontSizes,p=t.fontFamilies,h=t.emojis,m=t.containerNode,y=t.lineHeights,v=t.letterSpacings,g=t.textAligns,b=t.textBackgroundColor,_=t.textIndents,A=x.ContentUtils.getSelectionBlockType(r),E=function(e){return[{key:"undo",title:e.controls.undo,text:w.a.createElement("i",{className:"bfi-undo"}),type:"editor-method",command:"undo"},{key:"redo",title:e.controls.redo,text:w.a.createElement("i",{className:"bfi-redo"}),type:"editor-method",command:"redo"},{key:"remove-styles",title:e.controls.removeStyles,text:w.a.createElement("i",{className:"bfi-format_clear"}),type:"editor-method",command:"removeSelectionInlineStyles"},{key:"hr",title:e.controls.hr,text:w.a.createElement("i",{className:"bfi-hr"}),type:"editor-method",command:"insertHorizontalLine"},{key:"bold",title:e.controls.bold,text:w.a.createElement("i",{className:"bfi-bold"}),type:"inline-style",command:"bold"},{key:"italic",title:e.controls.italic,text:w.a.createElement("i",{className:"bfi-italic"}),type:"inline-style",command:"italic"},{key:"underline",title:e.controls.underline,text:w.a.createElement("i",{className:"bfi-underlined"}),type:"inline-style",command:"underline"},{key:"strike-through",title:e.controls.strikeThrough,text:w.a.createElement("i",{className:"bfi-strikethrough"}),type:"inline-style",command:"strikethrough"},{key:"superscript",title:e.controls.superScript,text:w.a.createElement("i",{className:"bfi-superscript"}),type:"inline-style",command:"superscript"},{key:"subscript",title:e.controls.subScript,text:w.a.createElement("i",{className:"bfi-subscript"}),type:"inline-style",command:"subscript"},{key:"headings",title:e.controls.headings,type:"headings"},{key:"blockquote",title:e.controls.blockQuote,text:w.a.createElement("i",{className:"bfi-quote"}),type:"block-type",command:"blockquote"},{key:"code",title:e.controls.code,text:w.a.createElement("i",{className:"bfi-code"}),type:"block-type",command:"code-block"},{key:"list-ul",title:e.controls.unorderedList,text:w.a.createElement("i",{className:"bfi-list"}),type:"block-type",command:"unordered-list-item"},{key:"list-ol",title:e.controls.orderedList,text:w.a.createElement("i",{className:"bfi-list-numbered"}),type:"block-type",command:"ordered-list-item"},{key:"link",title:e.controls.link,type:"link"},{key:"text-color",title:e.controls.color,type:"text-color"},{key:"line-height",title:e.controls.lineHeight,type:"line-height"},{key:"letter-spacing",title:e.controls.letterSpacing,type:"letter-spacing"},{key:"text-indent",title:e.controls.textIndent,type:"text-indent"},{key:"font-size",title:e.controls.fontSize,type:"font-size"},{key:"font-family",title:e.controls.fontFamily,type:"font-family"},{key:"text-align",title:e.controls.textAlign,type:"text-align"},{key:"media",title:e.controls.media,text:w.a.createElement("i",{className:"bfi-media"}),type:"media"},{key:"emoji",title:e.controls.emoji,text:w.a.createElement("i",{className:"bfi-emoji"}),type:"emoji"},{key:"clear",title:e.controls.clear,text:e.controls.clear,type:"editor-method",command:"clearEditorContent"},{key:"modal",type:"modal"},{key:"button",type:"button"},{key:"dropdown",type:"dropdown"},{key:"component",type:"component"}]}(u),S={editor:n,editorState:r,language:u,containerNode:m,hooks:c},k=[];return w.a.createElement("div",{className:"bf-controlbar",onMouseDown:this.preventDefault},l()(o).concat(l()(s)).map(function(t,n){var r="string"==typeof t?t:t.key;if("string"!=typeof r)return null;if(k.indexOf(r)>-1)return null;if("separator"===r.toLowerCase())return w.a.createElement("span",{key:n,className:"separator-line"});var o=E.find(function(e){return e.key.toLowerCase()===r.toLowerCase()});return"string"!=typeof t&&(o=a()({},o,t)),o?(k.push(r),"headings"===o.type?w.a.createElement(ie,X()({key:n,current:A,onChange:function(t){return e.applyControl(t,"block-type")}},S)):"text-color"===o.type?w.a.createElement(se,X()({key:n,colors:f,enableBackgroundColor:b},S)):"font-size"===o.type?w.a.createElement(le,X()({key:n,fontSizes:d,defaultCaption:o.title},S)):"line-height"===o.type?w.a.createElement(ue,X()({key:n,lineHeights:y,defaultCaption:o.title},S)):"letter-spacing"===o.type?w.a.createElement(pe,X()({key:n,letterSpacings:v,defaultCaption:o.title},S)):"text-indent"===o.type?w.a.createElement(he,X()({key:n,textIndents:_,defaultCaption:o.title},S)):"font-family"===o.type?w.a.createElement(ce,X()({key:n,fontFamilies:p,defaultCaption:o.title},S)):"emoji"===o.type?w.a.createElement(de,X()({key:n,emojis:h,defaultCaption:o.text},S)):"link"===o.type?w.a.createElement(oe,X()({key:n},S)):"text-align"===o.type?w.a.createElement(fe,X()({key:n,textAligns:g},S)):"media"===o.type?i.image||i.video||i.audio?w.a.createElement("button",{type:"button",key:n,"data-title":o.title,className:"control-item media button",onClick:e.openBraftFinder},o.text):null:"dropdown"===o.type?w.a.createElement(re,{key:n,className:"control-item extend-control-item dropdown "+o.className,caption:o.text,htmlCaption:o.html,showArrow:o.showArrow,containerNode:o.containerNode,title:o.title,arrowActive:o.arrowActive,autoHide:o.autoHide,disabled:o.disabled,ref:o.ref},o.component):"modal"===o.type?w.a.createElement("button",{type:"button",key:n,"data-title":o.title,className:"control-item extend-control-item button "+o.className,dangerouslySetInnerHTML:o.html?{__html:o.html}:null,onClick:function(t){o.modal&&o.modal.id&&(e.extendedModals[o.modal.id]?(e.extendedModals[o.modal.id].active=!0,e.extendedModals[o.modal.id].update(a()({},o.modal,{language:u}))):(e.extendedModals[o.modal.id]=ge(a()({},o.modal,{language:u})),o.modal.onCreate&&o.modal.onCreate(e.extendedModals[o.modal.id]))),o.onClick&&o.onClick(t)}},o.html?null:o.text):"component"===o.type?w.a.createElement("div",{key:n,className:"control-item component-wrapper "+o.className},o.component):"button"===o.type?w.a.createElement("button",{type:"button",key:n,"data-title":o.title,className:"control-item button "+o.className,dangerouslySetInnerHTML:o.html?{__html:o.html}:null,onClick:function(e){return o.onClick&&o.onClick(e)}},o.html?null:o.text):w.a.createElement("button",{type:"button",key:n,"data-title":o.title,className:e.getControlItemClassName({type:o.type,command:o.command}),onClick:function(){return e.applyControl(o.command,o.type)}},o.text)):null}))}},{key:"preventDefault",value:function(e){var t=e.target.tagName.toLowerCase();"input"===t||"label"===t||e.preventDefault()}}]),t}(w.a.Component),Ae=new N.CompositeDecorator(W),Ee=function(e){function t(e){var n;c()(this,t),n=h()(this,y()(t).call(this,e)),E()(_()(_()(n)),"onChange",function(e){n.setState({editorState:e},function(){n.props.onChange&&n.props.onChange(e)})}),E()(_()(_()(n)),"getDraftInstance",function(){return n.draftInstance}),E()(_()(_()(n)),"getFinderInstance",function(){return n.braftFinder}),E()(_()(_()(n)),"getValue",function(){return n.state.editorState}),E()(_()(_()(n)),"setValue",function(e){return n.onChange(e)}),E()(_()(_()(n)),"forceRender",function(){return n.setValue(x.ContentUtils.createEditorState(n.state.editorState.getCurrentContent(),Ae))}),E()(_()(_()(n)),"onTab",function(e){if("code-block"===x.ContentUtils.getSelectionBlockType(n.state.editorState))return n.setValue(x.ContentUtils.insertText(n.state.editorState," ".repeat(n.props.tabIndents))),e.preventDefault(),!1;n.props.onTab&&n.props.onTab(e)}),E()(_()(_()(n)),"onFocus",function(){n.isFocused=!0,n.props.onFocus&&n.props.onFocus()}),E()(_()(_()(n)),"onBlur",function(){n.isFocused=!1,n.props.onBlur&&n.props.onBlur()}),E()(_()(_()(n)),"requestFocus",function(){setTimeout(function(){return n.draftInstance.focus()},0)}),E()(_()(_()(n)),"handleKeyCommand",function(e){if("braft-save"===e)return n.props.onSave&&n.props.onSave(),"handled";var t=x.ContentUtils.handleKeyCommand(n.state.editorState,e);return t?(n.setValue(t),"handled"):"not-handled"}),E()(_()(_()(n)),"handleReturn",function(e){var t=x.ContentUtils.getSelectionBlock(n.state.editorState),r=t.getType();if("unordered-list-item"===r||"ordered-list-item"===r)return 0===t.getLength()?(n.setValue(x.ContentUtils.toggleSelectionBlockType(n.state.editorState,"unstyled")),"handled"):"not-handled";if("code-block"===r)return 13===e.which&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))?(n.setValue(x.ContentUtils.toggleSelectionBlockType(n.state.editorState,"unstyled")),"handled"):"not-handled";var o=x.ContentUtils.handleNewLine(n.state.editorState,e);return o?(n.setValue(o),"handled"):"not-handled"}),E()(_()(_()(n)),"handleDrop",function(e,t){if(window&&window.__BRAFT_DRAGING__IMAGE__){var r=x.ContentUtils.removeBlock(n.state.editorState,window.__BRAFT_DRAGING__IMAGE__.block,e);return r=x.ContentUtils.insertMedias(r,[window.__BRAFT_DRAGING__IMAGE__.mediaData]),window.__BRAFT_DRAGING__IMAGE__=null,n.setDraftProps({readOnly:!1}),n.setValue(r),"handled"}return t&&t.getText()?"not-handled":"handled"}),E()(_()(_()(n)),"handleDroppedFiles",function(e,t){return n.resolveFiles(t)}),E()(_()(_()(n)),"handlePastedFiles",function(e){return n.resolveFiles(e)}),E()(_()(_()(n)),"handlePastedText",function(e,t){if(!t||n.props.stripPastedStyles)return!1;var r=x.ColorUtils.detectColorsFromHTMLString(t);return n.setState({tempColors:l()(n.state.tempColors).concat(l()(r)).filter(function(e){return-1===n.props.colors.indexOf(e)}).filter(function(e,t,n){return n.indexOf(e)===t})},function(){n.setValue(x.ContentUtils.insertHTML(n.state.editorState,t))}),!0}),E()(_()(_()(n)),"resolveFiles",function(e){var t=a()({},O.media,n.props.media).pasteImage;return t&&e.slice(0,5).forEach(function(e){e&&e.type.indexOf("image")>-1&&n.braftFinder.uploadImage(e,function(e){n.isLiving&&n.setValue(x.ContentUtils.insertMedias(n.state.editorState,[e]))})}),e[0]&&e[0].type.indexOf("image")>-1&&t?"handled":"not-handled"}),E()(_()(_()(n)),"undo",function(){n.setValue(x.ContentUtils.undo(n.state.editorState))}),E()(_()(_()(n)),"redo",function(){n.setValue(x.ContentUtils.redo(n.state.editorState))}),E()(_()(_()(n)),"removeSelectionInlineStyles",function(){n.setValue(x.ContentUtils.removeSelectionInlineStyles(n.state.editorState))}),E()(_()(_()(n)),"insertHorizontalLine",function(){n.setValue(x.ContentUtils.insertHorizontalLine(n.state.editorState))}),E()(_()(_()(n)),"clearEditorContent",function(){n.setValue(x.ContentUtils.clear(n.state.editorState))}),E()(_()(_()(n)),"setEditorContainerNode",function(e){n.setState({containerNode:e},n.forceRender)}),n.isFocused=!1,n.keyBindingFn=T(e.customKeyBindingFn),n.blockStyleFn=K(e.blockStyleFn),n.blockRenderMap=N.DefaultDraftBlockRenderMap.merge(Q),e.blockRenderMapFn&&(n.blockRenderMap=e.blockRenderMapFn(n.blockRenderMap)),n.isLiving=!1,n.braftFinder=null;var r=x.ContentUtils.isEditorState(e.defaultValue)?e.defaultValue:x.ContentUtils.createEmptyEditorState(Ae);return n.state={containerNode:null,tempColors:[],editorState:r,draftProps:{}},n}return g()(t,e),d()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.language,n=e.media,r=e.controls,o=e.extendControls,i=a()({},O.media,n),s=i.uploadFn,u=i.validateFn;l()(r).concat(l()(o)).find(function(e){return"media"===e||"media"===e.key})&&(this.braftFinder=new C.a({language:t,uploader:s,validator:u}),this.forceUpdate())}},{key:"componentDidMount",value:function(){var e=this.props.value;x.ContentUtils.isEditorState(e)&&this.setState({editorState:e}),this.isLiving=!0}},{key:"componentWillReceiveProps",value:function(e){var t=e.value;x.ContentUtils.isEditorState(t)&&this.setState({editorState:t})}},{key:"componentWillUnmount",value:function(){this.isLiving=!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.controls,r=t.excludeControls,o=t.extendControls,i=t.disabled,s=t.media,u=t.language,c=t.colors,f=t.hooks,d=t.fontSizes,p=t.fontFamilies,h=t.emojis,m=t.placeholder,y=t.imageControls,v=t.lineHeights,g=t.letterSpacings,b=t.textIndents,_=t.textAligns,A=t.textBackgroundColor,E=t.extendAtomics,S=t.className,I=t.style,C=t.controlBarClassName,x=t.controlBarStyle,T=t.contentClassName,M=t.contentStyle,D=t.stripPastedStyles,j=t.componentBelowControlBar;f=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[t]||function(){return n}}}(f),n=n.filter(function(e){return-1===r.indexOf(e)}),u=k[u]||k[O.language];var R=s&&s.externals?a()({},O.media.externals,s.externals):O.media.externals,F=s&&s.accepts?a()({},O.media.accepts,s.accepts):O.media.accepts;(s=a()({},O.media,s,{externalMedias:R,accepts:F})).uploadFn||(s.video=!1,s.audio=!1);var B={editor:this,editorState:this.state.editorState,braftFinder:this.braftFinder,ref:function(t){return e.controlBarInstance=t},containerNode:this.state.containerNode,className:C,style:x,hooks:f,colors:l()(c).concat(l()(this.state.tempColors)),media:s,controls:n,language:u,extendControls:o,fontSizes:d,fontFamilies:p,emojis:h,lineHeights:v,letterSpacings:g,textIndents:b,textAligns:_,textBackgroundColor:A},L=Y({editor:this,hooks:f,editorState:this.state.editorState,containerNode:this.state.containerNode,imageControls:y,language:u,extendAtomics:E},this.props.blockRendererFn),U=G({colors:l()(c).concat(l()(this.state.tempColors)),fontSizes:d,fontFamilies:p,lineHeights:v,letterSpacings:g,textIndents:b},this.props.customStyleMap),z=a()({ref:function(t){e.draftInstance=t},editorState:this.state.editorState,handleKeyCommand:this.handleKeyCommand,handleReturn:this.handleReturn,handleDrop:this.handleDrop,handleDroppedFiles:this.handleDroppedFiles,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,onChange:this.onChange,onTab:this.onTab,onFocus:this.onFocus,onBlur:this.onBlur,readOnly:i,blockRenderMap:this.blockRenderMap,blockStyleFn:this.blockStyleFn,keyBindingFn:this.keyBindingFn,customStyleMap:U,blockRendererFn:L,placeholder:m,stripPastedStyles:D},this.props.draftProps,this.state.draftProps);return w.a.createElement("div",{ref:this.setEditorContainerNode,className:"bf-container ".concat(S," ").concat(i?"disabled":""),style:I},w.a.createElement(_e,B),j,w.a.createElement("div",{className:"bf-content ".concat(T),style:M},w.a.createElement(N.Editor,z)))}},{key:"setDraftProps",value:function(e){this.setState({draftProps:a()({},this.state.draftProps,e)})}}]),t}(w.a.Component);E()(Ee,"defaultProps",O);var Se=n(13);n.d(t,"EditorState",function(){return N.EditorState}),n.d(t,"editorDecorators",function(){return Ae}),N.EditorState.prototype.toHTML=function(){return Object(Se.convertEditorStateToHTML)(this)},N.EditorState.prototype.toRAW=function(e){return e?Object(Se.convertEditorStateToRaw)(this):JSON.stringify(Object(Se.convertEditorStateToRaw)(this))},N.EditorState.createFrom=function(e,t){if("object"===o()(e)&&e&&e.blocks&&e.entityMap)return Object(Se.convertRawToEditorState)(e,Ae);if("string"!=typeof e)return N.EditorState.createEmpty(Ae);try{return N.EditorState.createFrom(JSON.parse(e),t)}catch(n){return Object(Se.convertHTMLToEditorState)(e,Ae,t)}};t.default=Ee},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports=function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t){},,function(e,t){}])})},"./node_modules/braft-finder/dist/index.js":function(e,t,n){!function(t,r){e.exports=r(n("./node_modules/react/index.js"))}(window,function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=16)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.compressImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1280,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800;return new Promise(function(r,o){var i=new Image;i.src=e,i.onerror=function(e){o(e)},i.onload=function(){try{if(this.width>t||this.height>n){var i=document.createElement("canvas"),a=this.width>this.height?t/this.width:n/this.height;i.width=this.width*a,i.height=this.height*a,i.getContext("2d").drawImage(this,0,0,i.width,i.height),r({url:i.toDataURL("image/png",1),width:i.width,height:i.height})}else r({url:e,width:this.width,height:this.height})}catch(e){o(e)}}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UniqueIndex=function(){return isNaN(window.__BRAFT_MM_UNIQUE_INDEX__)?window.__BRAFT_MM_UNIQUE_INDEX__=1:window.__BRAFT_MM_UNIQUE_INDEX__+=1,window.__BRAFT_MM_UNIQUE_INDEX__}},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={remove:"删除",cancel:"取消",confirm:"确认",insert:"插入所选项目",width:"宽度",height:"高度",image:"图片",video:"视频",audio:"音频",embed:"嵌入式媒体",caption:"媒体库",dragTip:"点击或拖动文件至此",dropTip:"放开鼠标以上传",selectAll:"选择全部",deselect:"取消选择",removeSelected:"删除选中项目",externalInputPlaceHolder:"资源名称|资源地址",externalInputTip:"使用“|”分隔资源名称和资源地址",addLocalFile:"添加本地资源",addExternalSource:"添加网络资源",unnamedItem:"未命名项目",confirmInsert:"插入选中项目"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={remove:"删除",cancel:"取消",confirm:"确认",insert:"插入所选项目",width:"宽度",height:"高度",image:"图片",video:"视频",audio:"音频",embed:"嵌入式媒体",caption:"媒体库",dragTip:"点击或拖动文件至此",dropTip:"放开鼠标以上传",selectAll:"选择全部",deselect:"取消选择",removeSelected:"删除选中项目",externalInputPlaceHolder:"资源名称|资源地址",externalInputTip:"使用“|”分隔资源名称和资源地址",addLocalFile:"添加本地资源",addExternalSource:"添加网络资源",unnamedItem:"未命名项目",confirmInsert:"插入选中项目"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={remove:"Remove",cancel:"Cancel",confirm:"Confirm",insert:"Insert Selected Items",width:"Width",height:"Height",image:"Image",video:"Video",audio:"Audio",embed:"Embed",caption:"Media Library",dragTip:"Click Or Drag Files Here",dropTip:"Drop To Upload",selectAll:"Select All",deselect:"Deselect",removeSelected:"Remove Selected Items",externalInputPlaceHolder:"Source Name|Source URL",externalInputTip:'Split source name and source URL with "|", confirm by hit Enter.',addLocalFile:"Add from local",addExternalSource:"Add from Internet",unnamedItem:"Unnamed Item",confirmInsert:"Insert selected items"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(5)),o=a(n(4)),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}t.default={en:r.default,zh:o.default,"zh-hant":i.default}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r={},o=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),i=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),a=null,s=0,l=[],u=n(7);function c(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(y(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(y(o.parts[a],t));r[o.id]={id:o.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function d(e,t){var n=i(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=i(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function h(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),m(t,e.attrs),d(e,t),t}function m(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var l=s++;n=a||(a=h(t)),r=g.bind(null,n,l,!1),o=g.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=u(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){p(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return c(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var a=n[i];(s=r[a.id]).refs--,o.push(s)}e&&c(f(e,t),t);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function g(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports="data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBrwAAAC8AAAAYGNtYXBu0GaRAAABHAAAAKxnYXNwAAAAEAAAAcgAAAAIZ2x5ZiBvTioAAAHQAAAMwGhlYWQRvuuTAAAOkAAAADZoaGVhB8ID2AAADsgAAAAkaG10eFIACUAAAA7sAAAAXGxvY2Eb8h8IAAAPSAAAADBtYXhwACEAewAAD3gAAAAgbmFtZZvLaqMAAA+YAAABnnBvc3QAAwAAAAAROAAAACAAAwPmAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADprAPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAkAAAACAAIAAEAAAAAQAg4DTgN+BC6QLpCOkP6RPpGOkc6SbpgOms//3//wAAAAAAIOA04DfgQukB6QfpDukR6RbpHOkm6YDprP/9//8AAf/jH9Afzh/EFwYXAhb9FvwW+hb3Fu4WlRZqAAMAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAgEAAIEDAALVAAMABwAAATMRIyERMxECVqqq/qqqAtX9rAJU/awAAAEBVgCBAyoC1QACAAAJAgFWAdT+LALV/tb+1gABAKoAKwNWA4EALgAAATIXHgEXFhUUBw4BBwYjIicuAScmNTMUFx4BFxYzMjc+ATc2NTQnLgEnJiMVJzcCAEY/Pl0bGxsbXT4+R0Y/Pl0bG1YUFEUvLzU1Ly9FFBQUFEUvLzXW1gLVGxtcPj5GRz4+XRsbGxtdPj5HNi4vRRQUFBRFLy42NS8uRhQUrNbWAAAEAFUAIgOrA3cABAAhAD0AQgAAJTMRIxETIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmIxEiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYDMzUjFQHVVlYrWE5OdCEiIiF0Tk5YWE5OdCEiIiF0Tk5YRz4+XRobGxpdPj5HRz4+XRobGxpdPj5yVlb3AQD/AAKAISJzTk5YWU1OdCEiIiF0Tk1ZWE5OcyIh/QAbG10+PkdGPz5cGxsbG1w+P0ZHPj5dGxsB1lVVAAAEAFUAIgOrA3cABAAhAD0AUgAAJTM1IxUTIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmIxEiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYDIgYVMzQ2MzIWFRQGFTM0NjU0JiMB1VZWK1hOTnQhIiIhdE5OWFhOTnQhIiIhdE5OWEc+Pl0aGxsaXT4+R0c+Pl0aGxsaXT4+R0dkVjIjIzKAVoBkR81VVQKqISJzTk5YWU1OdCEiIiF0Tk1ZWE5OcyIh/QAbG10+PkdGPz5cGxsbG1w+P0ZHPj5dGxsCVmRHIzIyI0AtaEg9UEdkAAADAFUAIgOrA3cAHAArADoAAAEiBw4BBwYVFBceARcWMzI3PgE3NjU0Jy4BJyYjATQ3PgE3NjMyFhcBLgE1ASImJwEeARUUBw4BBwYjAgBYTk10IiIiInRNTlhYTk10IiIiInRNTlj+qxsbXD4/RjpqLf4iIyUBVTpqLQHeIyUbG1w+P0YDdyEidE5NWFhOTnQhIiIhdE5OWFhNTnQiIf5WRj4+XRsbJSP+Ii1qOv6qJiMB3i1rOUc+Pl0bGwAAAAADAIAAzQOAAs0AAwAHAAsAADchNSE1ITUhNRUhNYADAP0AAwD9AAMAzVWAVdZWVgABAGQAJQNcA1wARAAAAREUBwYHBgcGIyInJicmJyY1NDc2NzY3NjMyFxEFERQHBgcGBwYjIicmJyYnJjU0NzY3Njc2MzIXETQ3NjclNjMyFxYVA1wRERoZGhkWFxkaGRoRERERGhkaGRczK/6FEREaGRoZFxYZGhkaERERERoZGhkWNCsKCQ8BmwYIFA4OAyz91hgUEwoLBQUFBQsKExQYGRMUCgsFBRMBCnb+ohkTEwsLBQUFBQsLExMZGRMTCwoGBRMB3g8NDAV/Ag4OFAAABAB1AEIDiQNWAC8APABiAHgAAAEuAQcOAScuAScuAQcGIicmBgcOAScmBgcUFRwBFRQVHgEzNjM6ATMyMzI2NzwBNQUiJjU0NjMyFhUUBiclKgEjPAE1OgEzFBYVFBccARUGBxQGBw4BJy4BNz4BNzoBMzwBNQU+ATc6ATMUFgcOAScuATc+ATc6ATMCgQEZGQoVCQsXBBRDLwcPBx4pDAwoHRciCwsYFjQzNGc0MzQbGgH++y9BQTAwQEAxAbcfPyA0aDYBAQEBDQsVRSAiJQYHNyQHDQn+zgECAhMkEwMFBUojJjgCATomBxAJAs4XGgEBAQMCCQgtHwgBAQYYGxsWBgQTFSgoKVAoKCkPFQEXGkqUSu0/LjBAPy8wQAEXIT8gChIJMzIzZjIzMxQsESAQDg9CIyY0AzdtOd0MFAouXS0lLAYFRCYoPgQAAAAABAAAAAAEAANAABsAMwBPAFMAAAEUFx4BFxYzMjc+ATc2NTQnLgEnJiMiBw4BBwYBIy4BIyEiBgcjIgYVERQWMyEyNjURNCYBIicuAScmNTQ3PgE3NjMyFx4BFxYVFAcOAQcGASM1MwEwEBE4JiYrKyYmOBEQEBE4JiYrKyYmOBEQApDgDCQw/wAwJAzgGiYmGgOAGiYm/iY7NDNNFxYWF00zNDs7NDNNFxYWF00zNAGFgIABYCsmJjgREBAROCYmKysmJjgREBAROCYmATUwUFAwJhr9wBomJhoCQBom/YQWF00zNDs7NDNNFxYWF00zNDs7NDNNFxYBvEAAAQCRAKIDgALeAAYAAAEnBxcBJwEBgLM87wIAPP48ARqzPO8CADz+PAAAAAABAOIAgAMeAskAJgAAATc2NCcmIg8BJyYiBwYUHwEHBhQXHgEzMjY/ARceATMyNjc2NC8BAjziDQ0MJAzi4gwkDA0N4uINDQYQCAgQBuLiBhAICBAGDQ3iAaviDCMNDAzi4gwMDSMM4uINIwwHBgYH4eEHBgYHDCMN4gAAAgCAAGMDagNNACIALwAAASMnPgE1NCcuAScmIyIHDgEHBhUUFx4BFxYzMjY3FxUXNychIiY1NDYzMhYVFAYjApUhDB8kFhZLMzI6OTMySxYWFhZLMjM5NFwlC9Y/1f8AT3FxT1BwcFABdwwkXTM6MjNLFhYWFkszMjo5MjNLFhYkHwwi1D/VcU9QcHBQT3EAAgBkACIDnAN3AE0AWQAAAT4BNTQmJzc+AS8BLgEPAS4BLwEuASsBIgYPAQ4BBycmBg8BBhYfAQ4BFRQWFwcOAR8BHgE/AR4BHwEeATsBMjY/AT4BNxcWNj8BNiYnBSImNTQ2MzIWFRQGAz0BAgIBWgYDBFUEDwdqESQUEAEMCKoIDAEQFCQRagcPBFUEAwZaAQICAVoGAwRVBA8HahEkFBABDAiqCAwBEBQkEWoHDwRVBAMG/mk+V1c+PldXAaMKFQsLFAtGBQ8HlAcFAyoMFQhyBwoKB3IIFQwqAwUHlAcPBUYLFQoLFQpGBRAHkwcFAisNFQhxCAoKCHEIFQ0rAwYHkwcQBSZYPj5XVz4+WAABANUAogMrAvcACwAAASERIxEhNSERMxEhAyv/AFb/AAEAVgEAAaL/AAEAVQEA/wAAAAAACQAAAEAEAANAAAMABwALAA8AEwAXABsAHwAiAAATESERASM1MzUjNTM1IzUzASERIRMjNTM1IzUzNSM1MwURJQAEAPzAgICAgICAAkD+AAIAwICAgICAgP3AAQADQP0AAwD9QICAgICA/YACgP2AgICAgICA/oDAAAAAAAYAQP/AA8ADwAAZACEAOQBHAFUAYwAAAS4BJy4BJy4BIyEiBhURFBYzITI2NRE0JicnHgEXIzUeARMUBiMhIiY1ETQ2MzAzOgEzMjEVFBY7AQMhIiY1NDYzITIWFRQGJyEiJjU0NjMhMhYVFAYnISImNTQ2MyEyFhUUBgOWES0ZGjMXJykL/hAhLy8hAuAhLw4chRclDZoRKYYJB/0gBwkJB01Ouk1OEw3goP5ADRMTDQHADRMTDf5ADRMTDQHADRMTDf5ADRMTDQHADRMTAtsXMxoZLREcDi8h/KAhLy8hAnALKSc2FykRmg0l/OgHCQkHA2AHCeANE/4AEw0NExMNDROAEw0NExMNDROAEw0NExMNDRMAAAAHAAD/wAQAA0YACwAXACMALwA7AEcAUwAAJTQ2MzIWFRQGIyImATQ2MzIWFRQGIyImJTQ2MzIWFRQGIyImATQ2MzIWFRQGIyImATQ2MzIWFRQGIyImJTQ2MzIWFRQGIyImATQ2MzIWFRQGIyImAaA4KCg4OCgoOP5gOCgoODgoKDgDQDgoKDg4KCg4/To4KCg4OCgoOAJMOCgoODgoKDj9tDgoKDg4KCg4Akw4KCg4OCgoOCAoODgoKDg4AcgoODgoKDg4KCg4OCgoODgBTig4OCgoODj93Cg4OCgoODgoKDg4KCg4OAJ0KDg4KCg4OAAFAHwAAAOEA1UAIgAtADgARgBUAAABIzU0JisBIgYdASMiBhUUFjsBERQWMyEyNjURMzI2NTQmIyU0NjsBMhYdASM1ARQGIyEiJjURIREBIgYdARQWMzI2PQE0JjMiBh0BFBYzMjY9ATQmA12bRDCcMESbEBcXECdEMAGEMEQnEBcXEP4vFhCcEBboAV0XEP58EBcB0v7JEBYWEBAXF4wQFxcQEBYWAronMEREMCcXEBAW/gcwREQwAfkWEBAXJxAXFxAnJ/2TEBYWEAH5/gcBhBcQ6BAXFxDoEBcXEOgQFxcQ6BAXAAAAAQAAAAEAALrNOx9fDzz1AAsEAAAAAADXT9OLAAAAANdP04sAAP/ABAADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAAAAAEAAABAAAAAAAAAAAAAAAAAAAAFwQAAAAAAAAAAAAAAAIAAAAEAAEABAABVgQAAKoEAABVBAAAVQQAAFUEAACABAAAZAQAAHUEAAAABAAAkQQAAOIEAACABAAAZAQAANUEAAAABAAAQAQAAAAEAAB8AAAAAAAKABQAHgAyAEAAiADuAWYBxgHeAkYC7gNsA4IDwAQIBJAEqgToBXQF7AZgAAEAAAAXAHkACQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAJAAAAAQAAAAAAAgAHAHIAAQAAAAAAAwAJADwAAQAAAAAABAAJAIcAAQAAAAAABQALABsAAQAAAAAABgAJAFcAAQAAAAAACgAaAKIAAwABBAkAAQASAAkAAwABBAkAAgAOAHkAAwABBAkAAwASAEUAAwABBAkABAASAJAAAwABBAkABQAWACYAAwABBAkABgASAGAAAwABBAkACgA0ALxFdmlsSWNvbnMARQB2AGkAbABJAGMAbwBuAHNWZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBFdmlsSWNvbnMARQB2AGkAbABJAGMAbwBuAHNFdmlsSWNvbnMARQB2AGkAbABJAGMAbwBuAHNSZWd1bGFyAFIAZQBnAHUAbABhAHJFdmlsSWNvbnMARQB2AGkAbABJAGMAbwBuAHNGb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,n){var r=n(11);(e.exports=n(10)(!1)).push([e.i,"@font-face {\n  font-family: 'bf-icons';\n  src: url("+r(n(9))+') format("truetype");\n  font-weight: normal;\n  font-style: normal; }\n\n.braft-finder [class^="braft-icon-"], .braft-finder [class*=" braft-icon-"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'bf-icons\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale; }\n\n.braft-finder .braft-icon-pause:before {\n  content: "\\E034"; }\n\n.braft-finder .braft-icon-play_arrow:before {\n  content: "\\E037"; }\n\n.braft-finder .braft-icon-bin:before {\n  content: "\\E9AC"; }\n\n.braft-finder .braft-icon-replay:before {\n  content: "\\E042"; }\n\n.braft-finder .braft-icon-close:before {\n  content: "\\E913"; }\n\n.braft-finder .braft-icon-music:before {\n  content: "\\E90E"; }\n\n.braft-finder .braft-icon-camera:before {\n  content: "\\E911"; }\n\n.braft-finder .braft-icon-file-text:before {\n  content: "\\E926"; }\n\n.braft-finder .braft-icon-film:before {\n  content: "\\E91C"; }\n\n.braft-finder .braft-icon-paste:before {\n  content: "\\E92D"; }\n\n.braft-finder .braft-icon-spinner:before {\n  content: "\\E980"; }\n\n.braft-finder .braft-icon-media:before {\n  content: "\\E90F"; }\n\n.braft-finder .braft-icon-add:before {\n  content: "\\E918"; }\n\n.braft-finder .braft-icon-done:before {\n  content: "\\E912"; }\n\n.braft-finder .braft-icon-drop-down:before {\n  content: "\\E906"; }\n\n.braft-finder .braft-icon-drop-up:before {\n  content: "\\E909"; }\n\n.braft-finder .braft-icon-help:before {\n  content: "\\E902"; }\n\n.braft-finder .braft-icon-info:before {\n  content: "\\E901"; }\n\n.braft-finder .braft-icon-menu:before {\n  content: "\\E908"; }\n\n.pull-left {\n  float: left; }\n\n.pull-right {\n  float: right; }\n\n.braft-finder .bf-uploader {\n  position: relative;\n  height: 370px;\n  margin: 0; }\n  .braft-finder .bf-uploader.draging .bf-list-wrap,\n  .braft-finder .bf-uploader.draging .bf-add-external {\n    pointer-events: none; }\n  .braft-finder .bf-uploader input::-webkit-input-placeholder {\n    color: #ccc; }\n  .braft-finder .bf-uploader input::-moz-placeholder {\n    color: #ccc; }\n  .braft-finder .bf-uploader input::-ms-input-placeholder {\n    color: #ccc; }\n\n.braft-finder .bf-list-wrap {\n  position: relative;\n  height: 370px; }\n\n.braft-finder .bf-list-tools {\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  height: 20px;\n  padding: 0 15px;\n  background-color: #fff; }\n  .braft-finder .bf-list-tools span {\n    height: 26px;\n    font-size: 12px;\n    line-height: 20px;\n    cursor: pointer;\n    user-select: none; }\n    .braft-finder .bf-list-tools span[disabled] {\n      opacity: .3;\n      pointer-events: none; }\n  .braft-finder .bf-list-tools .bf-select-all,\n  .braft-finder .bf-list-tools .bf-deselect-all {\n    float: left;\n    margin-right: 5px;\n    color: #bbb; }\n    .braft-finder .bf-list-tools .bf-select-all:hover,\n    .braft-finder .bf-list-tools .bf-deselect-all:hover {\n      color: #3498db; }\n  .braft-finder .bf-list-tools .bf-remove-selected {\n    float: right;\n    color: #e74c3c; }\n    .braft-finder .bf-list-tools .bf-remove-selected:hover {\n      color: #c92e1e; }\n\n.braft-finder .bf-list {\n  position: absolute;\n  z-index: 1;\n  top: 30px;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  margin: 0;\n  padding: 0 10px;\n  list-style: none;\n  overflow: auto; }\n  .braft-finder .bf-list::-webkit-scrollbar {\n    width: 5px;\n    height: 5px;\n    background-color: #fff; }\n  .braft-finder .bf-list::-webkit-scrollbar-track {\n    background-color: #fff; }\n  .braft-finder .bf-list::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.1); }\n\n.braft-finder .bf-item,\n.braft-finder .bf-add-item {\n  position: relative;\n  display: block;\n  float: left;\n  width: 113px;\n  height: 113px;\n  margin: 5px;\n  overflow: hidden;\n  border-radius: 3px; }\n\n.braft-finder .bf-item.uploading {\n  pointer-events: none; }\n\n.braft-finder .bf-item.error::before {\n  display: block;\n  content: "\\E901"; }\n\n.braft-finder .bf-item.error::after {\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(231, 76, 60, 0.8);\n  content: \'\'; }\n\n.braft-finder .bf-item.error:hover::after {\n  background-color: rgba(231, 76, 60, 0.9); }\n\n.braft-finder .bf-item.error .bf-item-uploading {\n  display: none; }\n\n.braft-finder .bf-add-item {\n  background-color: #ecedef;\n  color: #999; }\n  .braft-finder .bf-add-item:hover {\n    background-color: #e1e2e3; }\n  .braft-finder .bf-add-item i {\n    display: block;\n    width: 113px;\n    height: 113px;\n    font-size: 48px;\n    line-height: 113px;\n    text-align: center; }\n  .braft-finder .bf-add-item input {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    cursor: pointer; }\n\n.braft-finder .bf-item::before {\n  display: none;\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  left: 0;\n  width: 113px;\n  height: 113px;\n  color: #fff;\n  font-size: 48px;\n  font-family: \'bf-icons\';\n  line-height: 113px;\n  text-align: center; }\n\n.braft-finder .bf-item::after {\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(52, 152, 219, 0);\n  content: \'\'; }\n\n.braft-finder .bf-item:hover::after {\n  background-color: rgba(52, 152, 219, 0.3); }\n\n.braft-finder .bf-item:hover .bf-item-remove {\n  display: block; }\n\n.braft-finder .bf-item.active::before {\n  display: block;\n  content: "\\E912"; }\n\n.braft-finder .bf-item.active::after {\n  background-color: rgba(52, 152, 219, 0.6); }\n\n.braft-finder .bf-item.active:hover::after {\n  background-color: rgba(52, 152, 219, 0.8); }\n\n.braft-finder .bf-item.active:hover .bf-item-remove {\n  display: none; }\n\n.braft-finder .bf-item-uploading {\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 3;\n  top: 52px;\n  left: 10px;\n  width: 93px;\n  height: 10px;\n  overflow: hidden;\n  background-color: rgba(255, 255, 255, 0.3);\n  border-radius: 5px;\n  box-shadow: 0 0 0 100px rgba(0, 0, 0, 0.5); }\n\n.braft-finder .bf-item-uploading-bar {\n  height: 10px;\n  background-color: #3498db;\n  border-radius: 0; }\n\n.braft-finder .bf-item-remove {\n  display: none;\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  right: 0;\n  width: 28px;\n  height: 28px;\n  color: #fff;\n  font-size: 18px;\n  line-height: 28px;\n  text-align: center;\n  cursor: pointer; }\n  .braft-finder .bf-item-remove:hover {\n    color: #e74c3c; }\n\n.braft-finder .bf-item-title {\n  display: none;\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 2;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 40px;\n  padding: 0 5px;\n  overflow: hidden;\n  background-image: linear-gradient(rgba(0, 0, 0, 0), black);\n  color: #fff;\n  font-size: 12px;\n  line-height: 55px;\n  text-align: center;\n  text-overflow: ellipsis;\n  white-space: nowrap; }\n\n.braft-finder .bf-image {\n  width: 100%;\n  height: 100%;\n  background-color: #eee;\n  user-select: none; }\n  .braft-finder .bf-image img {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover; }\n\n.braft-finder .bf-video {\n  background-color: #8e44ad; }\n\n.braft-finder .bf-audio {\n  background-color: #f39c12; }\n\n.braft-finder .bf-embed {\n  background-color: #f1c40f; }\n\n.braft-finder .bf-icon {\n  display: block;\n  width: 113px;\n  height: 113px;\n  overflow: hidden;\n  color: #fff;\n  text-align: center;\n  text-decoration: none; }\n  .braft-finder .bf-icon i, .braft-finder .bf-icon span {\n    display: block; }\n  .braft-finder .bf-icon i {\n    margin-top: 35px;\n    font-size: 24px; }\n  .braft-finder .bf-icon span {\n    width: 103px;\n    margin: 10px auto;\n    overflow: hidden;\n    font-size: 12px;\n    text-overflow: ellipsis;\n    white-space: nowrap; }\n\n.braft-finder .bf-drag-uploader {\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  right: 15px;\n  left: 15px;\n  height: 100%;\n  background-color: #fff;\n  border: dashed 1px #bbb;\n  text-align: center;\n  opacity: 0;\n  pointer-events: none; }\n  .braft-finder .bf-drag-uploader:hover, .braft-finder .bf-drag-uploader.draging {\n    background-color: #f1f2f3; }\n  .braft-finder .bf-drag-uploader.active {\n    opacity: 1;\n    pointer-events: auto; }\n\n.braft-finder .bf-uploader-buttons {\n  height: 370px;\n  margin: auto;\n  text-align: center; }\n\n.braft-finder .bf-drag-tip {\n  display: inline-block;\n  margin-top: 150px;\n  color: #ccc;\n  text-align: center;\n  font-size: 28px;\n  font-weight: normal;\n  line-height: 40px; }\n  .braft-finder .bf-drag-tip input {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    color: #fff;\n    text-indent: -100px;\n    cursor: pointer; }\n\n.braft-finder .bf-manager-footer {\n  height: 36px;\n  margin: 10px 0;\n  padding: 0 15px; }\n  .braft-finder .bf-manager-footer .button {\n    float: right;\n    height: 36px;\n    margin-left: 5px;\n    padding: 0 35px;\n    font-size: 12px;\n    font-weight: 700;\n    border: none;\n    border-radius: 3px;\n    cursor: pointer; }\n  .braft-finder .bf-manager-footer .button-insert {\n    color: #fff;\n    background-color: #3498db; }\n    .braft-finder .bf-manager-footer .button-insert:hover {\n      background-color: #2084c7; }\n    .braft-finder .bf-manager-footer .button-insert[disabled] {\n      opacity: .3;\n      pointer-events: none;\n      filter: grayscale(0.4); }\n  .braft-finder .bf-manager-footer .button-cancel {\n    color: #999;\n    background-color: #e8e8e9; }\n    .braft-finder .bf-manager-footer .button-cancel:hover {\n      background-color: #d8d8d9; }\n\n.braft-finder .bf-toggle-external-form {\n  color: #666;\n  font-size: 12px;\n  line-height: 36px; }\n  .braft-finder .bf-toggle-external-form span {\n    color: #bbb;\n    line-height: 16px;\n    cursor: pointer;\n    user-select: none; }\n    .braft-finder .bf-toggle-external-form span:hover {\n      color: #3498db; }\n    .braft-finder .bf-toggle-external-form span i {\n      position: relative;\n      top: 2px;\n      font-size: 16px; }\n\n.braft-finder .bf-add-external {\n  position: absolute;\n  z-index: 3;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: #fff; }\n  .braft-finder .bf-add-external input {\n    border: solid 1px rgba(0, 0, 0, 0.3);\n    border: solid 0.5px rgba(0, 0, 0, 0.3);\n    box-shadow: none; }\n    .braft-finder .bf-add-external input:focus {\n      border-color: #3498db;\n      box-shadow: none; }\n\n.braft-finder .bf-external-form {\n  width: 500px;\n  max-width: 90%;\n  margin: 91px auto 0 auto; }\n\n.braft-finder .bf-external-input {\n  position: relative;\n  width: 100%;\n  height: 40px;\n  margin-bottom: 10px; }\n  .braft-finder .bf-external-input div {\n    position: absolute;\n    top: 0;\n    right: 85px;\n    left: 0;\n    height: 40px; }\n  .braft-finder .bf-external-input input,\n  .braft-finder .bf-external-input textarea {\n    display: block;\n    box-sizing: border-box;\n    width: 100%;\n    height: 40px;\n    padding: 0 10px;\n    border: none;\n    border-radius: 3px;\n    outline: none;\n    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.3);\n    color: #999;\n    font-size: 18px; }\n    .braft-finder .bf-external-input input:focus,\n    .braft-finder .bf-external-input textarea:focus {\n      box-shadow: inset 0 0 0 1px #3498db; }\n  .braft-finder .bf-external-input textarea {\n    height: 100px;\n    font-size: 14px; }\n  .braft-finder .bf-external-input button {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 80px;\n    height: 40px;\n    background-color: #3498db;\n    border: none;\n    border-radius: 3px;\n    color: #fff;\n    font-size: 14px;\n    font-weight: bold;\n    cursor: pointer; }\n    .braft-finder .bf-external-input button:disabled {\n      opacity: .3;\n      pointer-events: none;\n      filter: grayscale(0.4); }\n    .braft-finder .bf-external-input button:hover {\n      background-color: #2084c7; }\n\n.braft-finder .bf-switch-external-type {\n  overflow: hidden;\n  text-align: center; }\n  .braft-finder .bf-switch-external-type button {\n    width: auto;\n    height: 30px;\n    margin: 10px 5px;\n    padding: 0 10px;\n    background-color: #e8e9ea;\n    border: none;\n    border-radius: 3px;\n    color: #999;\n    font-size: 12px;\n    cursor: pointer; }\n    .braft-finder .bf-switch-external-type button:hover {\n      background-color: #d8d9da; }\n    .braft-finder .bf-switch-external-type button:only-child {\n      display: none; }\n  .braft-finder .bf-switch-external-type[data-type="IMAGE"] [data-type="IMAGE"],\n  .braft-finder .bf-switch-external-type[data-type="VIDEO"] [data-type="VIDEO"],\n  .braft-finder .bf-switch-external-type[data-type="AUDIO"] [data-type="AUDIO"],\n  .braft-finder .bf-switch-external-type[data-type="EMBED"] [data-type="EMBED"],\n  .braft-finder .bf-switch-external-type[data-type="FILE"] [data-type="FILE"] {\n    background-color: #3498db;\n    color: #fff; }\n\n.braft-finder .bf-external-tip {\n  display: block;\n  margin-top: 15px;\n  color: #ccc;\n  font-size: 12px;\n  text-align: center; }\n',""])},function(e,t,n){var r=n(12);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(8)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(13);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),a=n(1);var s={image:"image/png,image/jpeg,image/gif,image/webp,image/apng,image/svg",video:"video/mp4",audio:"audio/mp3"},l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.toggleSelectItem=function(e){var t=e.currentTarget.dataset.id,r=n.controller.getMediaItem(t);if(!r)return!1;r.selected?n.props.onBeforeDeselect&&!1===n.props.onBeforeDeselect([r],n.controller.getItems())||(n.controller.deselectMediaItem(t),n.props.onDeselect&&n.props.onDeselect([r],n.controller.getItems())):n.props.onBeforeSelect&&!1===n.props.onBeforeSelect([r],n.controller.getItems())||(n.controller.selectMediaItem(t),n.props.onSelect&&n.props.onSelect([r],n.controller.getItems()))},n.removeItem=function(e){var t=e.currentTarget.dataset.id,r=n.controller.getMediaItem(t);if(!r)return!1;n.props.onBeforeRemove&&!1===n.props.onBeforeRemove([r],n.controller.getItems())||(n.controller.removeMediaItem(t),n.props.onRemove&&n.props.onRemove([r],n.controller.getItems())),e.stopPropagation()},n.selectAllItems=function(){var e=n.controller.getItems();n.props.onBeforeSelect&&!1===n.props.onBeforeSelect(e,e)||(n.controller.selectAllItems(),n.props.onSelect&&n.props.onSelect(e,e))},n.deselectAllItems=function(){var e=n.controller.getItems();n.props.onBeforeDeselect&&!1===n.props.onBeforeDeselect(e,e)||(n.controller.deselectAllItems(),n.props.onDeselect&&n.props.onDeselect(e,e))},n.removeSelectedItems=function(){var e=n.controller.getSelectedItems();n.props.onBeforeRemove&&!1===n.props.onBeforeRemove(e,n.controller.getItems())||(n.controller.removeSelectedItems(),n.props.onRemove&&n.props.onRemove(e,n.controller.getItems()))},n.handleDragLeave=function(){n.dragCounter--,0===n.dragCounter&&n.setState({draging:!1})},n.handleDragDrop=function(){n.dragCounter=0,n.setState({draging:!1})},n.handleDragEnter=function(e){e.preventDefault(),n.dragCounter++,n.setState({draging:!0})},n.reslovePickedFiles=function(e){e.persist();var t=e.target.files;if(n.props.onFileSelect){var r=n.props.onFileSelect(t);if(!1===r)return!1;(r instanceof FileList||r instanceof Array)&&(t=r)}n.controller.resolveFiles({files:t,onItemReady:function(e){var t=e.id;return n.controller.selectMediaItem(t)},onAllReady:function(){return e.target.value=null}},0,n.props.accepts)},n.inputExternal=function(e){n.setState({external:r({},n.state.external,{url:e.target.value})})},n.switchExternalType=function(e){n.setState({external:r({},n.state.external,{type:e.target.dataset.type})})},n.confirmAddExternal=function(e){if("button"===e.target.nodeName.toLowerCase()||13===e.keyCode){var t=n.state.external,r=t.url,o=t.type,i=(r=r.split("|")).length>1?r[0]:n.props.language.unnamedItem;r=r.length>1?r[1]:r[0];var s="IMAGE"===o?r:null;n.controller.addItems([{thumbnail:s,url:r,name:i,type:o,id:(new Date).getTime()+"_"+(0,a.UniqueIndex)(),uploading:!1,uploadProgress:1,selected:!0}]),n.setState({showExternalForm:!1,external:{url:"",type:"IMAGE"}})}},n.toggleExternalForm=function(){n.setState({showExternalForm:!n.state.showExternalForm})},n.cancelInsert=function(){n.props.onCancel&&n.props.onCancel()},n.confirmInsert=function(){var e=n.controller.getSelectedItems();if(n.props.onBeforeInsert){var t=n.props.onBeforeInsert(e);t&&t instanceof Array?(n.controller.deselectAllItems(),n.props.onInsert&&n.props.onInsert(t)):!1!==t&&(n.controller.deselectAllItems(),n.props.onInsert&&n.props.onInsert(e))}else n.controller.deselectAllItems(),n.props.onInsert&&n.props.onInsert(e)},n.dragCounter=0,n.controller=n.props.controller;var o=n.controller.getItems();return n.state={draging:!1,error:!1,confirmable:o.find(function(e){return e.selected}),external:{url:"",type:"IMAGE"},fileAccept:"",showExternalForm:!1,allowExternal:!1,items:o},n.changeListenerId=n.controller.onChange(function(e){n.setState({items:e,confirmable:e.find(function(e){return e.selected})}),n.props.onChange&&n.props.onChange(e)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"mapPropsToState",value:function(e){var t=e.accepts,n=e.externals,r=t?[t.image||s.image,t.video||s.video,t.audio||s.audio].join(","):[s.image,s.video,s.audio].join(","),o={url:"",type:n.image?"IMAGE":n.audio?"AUDIO":n.video?"VIDEO":n.embed?"EMBED":""};return console.log(r),{fileAccept:r,external:o,allowExternal:n&&(n.image||n.audio||n.video||n.embed)}}},{key:"componentDidMount",value:function(){this.setState(this.mapPropsToState(this.props))}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.mapPropsToState(e))}},{key:"componentWillUnmount",value:function(){this.controller.offChange(this.changeListenerId)}},{key:"render",value:function(){var e=this.props,t=e.language,n=e.externals,r=this.state,o=r.items,a=r.draging,s=r.confirmable,l=r.fileAccept,u=r.external,c=r.showExternalForm,f=r.allowExternal;return i.default.createElement("div",{className:"braft-finder"},i.default.createElement("div",{onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDragDrop,className:"bf-uploader"},i.default.createElement("div",{className:"bf-drag-uploader "+(a||!o.length?"active ":" ")+(a?"draging":"")},i.default.createElement("span",{className:"bf-drag-tip"},i.default.createElement("input",{accept:l,onChange:this.reslovePickedFiles,multiple:!0,type:"file"}),a?t.dropTip:t.dragTip)),o.length?i.default.createElement("div",{className:"bf-list-wrap"},i.default.createElement("div",{className:"bf-list-tools"},i.default.createElement("span",{onClick:this.selectAllItems,className:"bf-select-all"},i.default.createElement("i",{className:"braft-icon-done"})," ",t.selectAll),i.default.createElement("span",{onClick:this.deselectAllItems,disabled:!s,className:"bf-deselect-all"},i.default.createElement("i",{className:"braft-icon-close"})," ",t.deselect),i.default.createElement("span",{onClick:this.removeSelectedItems,disabled:!s,className:"bf-remove-selected"},i.default.createElement("i",{className:"braft-icon-bin"})," ",t.removeSelected)),this.buildItemList()):null,c&&f?i.default.createElement("div",{className:"bf-add-external"},i.default.createElement("div",{className:"bf-external-form"},i.default.createElement("div",{className:"bf-external-input"},i.default.createElement("div",null,i.default.createElement("input",{onKeyDown:this.confirmAddExternal,value:u.url,onChange:this.inputExternal,placeholder:t.externalInputPlaceHolder})),i.default.createElement("button",{type:"button",onClick:this.confirmAddExternal,disabled:!u.url.trim().length},t.confirm)),i.default.createElement("div",{"data-type":u.type,className:"bf-switch-external-type"},n.image?i.default.createElement("button",{type:"button",onClick:this.switchExternalType,"data-type":"IMAGE"},t.image):null,n.audio?i.default.createElement("button",{type:"button",onClick:this.switchExternalType,"data-type":"AUDIO"},t.audio):null,n.video?i.default.createElement("button",{type:"button",onClick:this.switchExternalType,"data-type":"VIDEO"},t.video):null,n.embed?i.default.createElement("button",{type:"button",onClick:this.switchExternalType,"data-type":"EMBED"},t.embed):null),i.default.createElement("span",{className:"bf-external-tip"},t.externalInputTip))):null),i.default.createElement("footer",{className:"bf-manager-footer"},i.default.createElement("div",{className:"pull-left"},f?i.default.createElement("span",{onClick:this.toggleExternalForm,className:"bf-toggle-external-form"},c?i.default.createElement("span",{className:"bf-bottom-text"},i.default.createElement("i",{className:"braft-icon-add"})," ",t.addLocalFile):i.default.createElement("span",{className:"bf-bottom-text"},i.default.createElement("i",{className:"braft-icon-add"})," ",t.addExternalSource)):null),i.default.createElement("div",{className:"pull-right"},i.default.createElement("button",{onClick:this.confirmInsert,className:"button button-insert",disabled:!s},t.insert),i.default.createElement("button",{onClick:this.cancelInsert,className:"button button-cancel"},t.cancel))))}},{key:"buildItemList",value:function(){var e=this;return i.default.createElement("ul",{className:"bf-list"},i.default.createElement("li",{className:"bf-add-item"},i.default.createElement("i",{className:"braft-icon-add"}),i.default.createElement("input",{accept:this.state.fileAccept,onChange:this.reslovePickedFiles,multiple:!0,type:"file"})),this.state.items.map(function(t,n){var r=null,o=t.uploading&&!e.props.hideProgress?i.default.createElement("div",{className:"bf-item-uploading"},i.default.createElement("div",{className:"bf-item-uploading-bar",style:{width:t.uploadProgress/1+"%"}})):"";switch(t.type){case"IMAGE":r=i.default.createElement("div",{className:"bf-image"},o,i.default.createElement("img",{src:t.thumbnail||t.url}));break;case"VIDEO":r=i.default.createElement("div",{className:"bf-icon bf-video",title:t.url},o,i.default.createElement("i",{className:"braft-icon-film"}),i.default.createElement("span",null,t.name||t.url));break;case"AUDIO":r=i.default.createElement("div",{className:"bf-icon bf-audio",title:t.url},o,i.default.createElement("i",{className:"braft-icon-music"}),i.default.createElement("span",null,t.name||t.url));break;case"EMBED":r=i.default.createElement("div",{className:"bf-icon bf-embed",title:t.url},o,i.default.createElement("i",{className:"braft-icon-code"}),i.default.createElement("span",null,t.name||e.props.language.embed));break;default:r=i.default.createElement("a",{className:"bf-icon bf-file",title:t.url,href:t.url},o,i.default.createElement("i",{className:"braft-icon-file-text"}),i.default.createElement("span",null,t.name||t.url))}var a=["bf-item"];return t.selected&&a.push("active"),t.uploading&&a.push("uploading"),t.error&&a.push("error"),i.default.createElement("li",{key:n,title:t.name,"data-id":t.id,className:a.join(" "),onClick:e.toggleSelectItem},r,i.default.createElement("span",{"data-id":t.id,onClick:e.removeItem,className:"bf-item-remove braft-icon-close"}),i.default.createElement("span",{className:"bf-item-title"},t.name))}))}}]),t}();l.defaultProps={accepts:{image:!0,video:!0,audio:!0,embed:!0},externals:{image:!0,video:!0,audio:!0,embed:!0}},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=n(0);function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=function(){return!0},l=function(){var e=this;this.setProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.items=t.items||e.items||[],e.uploadFn=t.uploader,e.validateFn=t.validator||s},this.getMediaItem=function(t){return e.items.find(function(e){return e.id===t})},this.getSelectedItems=function(){return e.items.filter(function(e){return e.selected})},this.getItems=function(){return e.items},this.setItems=function(t){e.items=t.map(function(e){return r({},e,{id:e.id.toString()})})||[],e.applyChange(),e.uploadItems()},this.addMediaItem=function(t){e.addItems([t])},this.addItems=function(t){e.items=[].concat(a(e.items),a(t.map(function(e){return r({},e,{id:e.id.toString()})}))),e.applyChange(),e.uploadItems()},this.selectMediaItem=function(t){var n=e.getMediaItem(t);if(n&&(n.uploading||n.error))return!1;e.setMediaItemState(t,{selected:!0})},this.selectAllItems=function(){e.items=e.items.filter(function(e){return!e.error&&!e.uploading}).map(function(e){return r({},e,{selected:!0})}),e.applyChange()},this.deselectMediaItem=function(t){e.setMediaItemState(t,{selected:!1})},this.deselectAllItems=function(){e.items=e.items.map(function(e){return r({},e,{selected:!1})}),e.applyChange()},this.removeMediaItem=function(t){e.items=e.items.filter(function(e){return e.id!==t}),e.applyChange()},this.removeItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.items=e.items.filter(function(e){return!t.includes(e.id)}),e.applyChange()},this.removeSelectedItems=function(){e.items=e.items.filter(function(e){return!e.selected}),e.applyChange()},this.removeErrorItems=function(){e.items=e.items.filter(function(e){return!e.error}),e.applyChange()},this.removeAllItems=function(){e.items=[],e.applyChange()},this.setMediaItemState=function(t,n){e.items=e.items.map(function(e){return e.id===t?r({},e,n):e}),e.applyChange()},this.reuploadErrorItems=function(){e.uploadItems(!0)},this.uploadItems=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.items.forEach(function(n,r){if(n.uploading||n.url)return!1;if(!t&&n.error)return!1;if("IMAGE"===n.type)e.createThumbnail(n),e.uploadFn=e.uploadFn||e.createInlineImage;else if(!e.uploadFn)return e.setMediaItemState(n.id,{error:1}),!1;e.setMediaItemState(n.id,{uploading:!0,uploadProgress:0,error:0}),e.uploadFn({id:n.id,file:n.file,success:function(t){e.handleUploadSuccess(n.id,t)},progress:function(t){e.setMediaItemState(n.id,{uploading:!0,uploadProgress:t})},error:function(t){e.setMediaItemState(n.id,{uploading:!1,error:2})}})})},this.createThumbnail=function(t){var n=t.id,r=t.file;(0,i.compressImage)(URL.createObjectURL(r),226,226).then(function(t){e.setMediaItemState(n,{thumbnail:t.url})})},this.createInlineImage=function(e){(0,i.compressImage)(URL.createObjectURL(e.file),1280,800).then(function(t){e.success({url:t.url})}).catch(function(t){e.error(t)})},this.handleUploadSuccess=function(t,n){e.setMediaItemState(t,r({},n,{file:null,uploadProgress:1,uploading:!1,selected:!1}));var o=e.getMediaItem(n.id||t);o.onReady&&o.onReady(o)},this.applyChange=function(){e.changeListeners.forEach(function(t){return(0,t.callback)(e.items)})},this.uploadImage=function(t,n){var r=(new Date).getTime()+"_"+(0,o.UniqueIndex)();e.addMediaItem({type:"IMAGE",id:r,file:t,name:r,size:t.size,uploadProgress:0,uploading:!1,selected:!1,error:0,onReady:n})},this.uploadImageRecursively=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[r]&&t[r].type.indexOf("image")>-1?e.uploadImage(t[r],function(o){n&&n(o),r<t.length-1&&e.uploadImageRecursively(t,n,r+1)}):r<t.length-1&&e.uploadImageRecursively(t,n,r+1)},this.addResolvedFiles=function(t,n,r){var i={id:(new Date).getTime()+"_"+(0,o.UniqueIndex)(),file:t.files[n],name:t.files[n].name,size:t.files[n].size,uploadProgress:0,uploading:!1,selected:!1,error:0,onReady:function(e){t.onItemReady&&t.onItemReady(e)}};0===t.files[n].type.indexOf("image/")&&r.image?(i.type="IMAGE",e.addMediaItem(i)):0===t.files[n].type.indexOf("video/")&&r.video?(i.type="VIDEO",e.addMediaItem(i)):0===t.files[n].type.indexOf("audio/")&&r.audio&&(i.type="AUDIO",e.addMediaItem(i)),setTimeout(function(){e.resolveFiles(t,n+1,r)},60)},this.resolveFiles=function(t,n,r){if(n<t.files.length){var o=e.validateFn(t.files[n]);o instanceof Promise?o.then(function(){e.addResolvedFiles(t,n,r)}):o&&e.addResolvedFiles(t,n,r)}else t.onAllReady&&t.onAllReady()},this.onChange=function(t){var n=(0,o.UniqueIndex)();return e.changeListeners.push({id:n,callback:t}),n},this.offChange=function(t){e.changeListeners=e.changeListeners.filter(function(e){return e.id!==t})}};t.default=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l.call(this),this.items=t.items||[],this.uploadFn=t.uploader,this.validateFn=t.validator||s,this.changeListeners=[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageUtils=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(2)),i=u(n(15)),a=u(n(14)),s=u(n(6)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return f.call(n),n.superProps=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}(),f=function(){var e=this;this.ReactComponent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r({},e.superProps,t),i=n.language&&s.default[n.language]||s.default.zh;return o.default.createElement(a.default,r({},n,{language:i,controller:e}))}};t.default=c,t.ImageUtils=l}])})},"./node_modules/braft-utils/dist/base.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.default={UniqueIndex:function(){return r+=1}}},"./node_modules/braft-utils/dist/color.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},o=function(e){if(e=e.replace("color:","").replace(";","").replace(" ",""),/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e))return e;if(r[e])return r[e];if(0===e.indexOf("rgb")){var t=e.split(","),n=t.length<3?null:"#"+[t[0],t[1],t[2]].map(function(e){var t=parseInt(e.replace(/\D/g,""),10).toString(16);return 1===t.length?"0"+t:t}).join("");return/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(n)?n:null}return null};t.default={namedColors:r,getHexColor:o,detectColorsFromHTMLString:function(e){return"string"!=typeof e?[]:(e.match(/color:[^;]{3,24};/g)||[]).map(o).filter(function(e){return e})},detectColorsFromDraftState:function(e){var t=[];return e&&e.blocks&&e.blocks.length?(e.blocks.forEach(function(e){e&&e.inlineStyleRanges&&e.inlineStyleRanges.length&&e.inlineStyleRanges.forEach(function(e){e.style&&e.style.indexOf("COLOR-")>=0&&t.push("#"+e.style.split("COLOR-")[1])})}),t.filter(function(e){return e})):t}}},"./node_modules/braft-utils/dist/content.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/draft-js/lib/Draft.js"),o=n("./node_modules/draftjs-utils/lib/draftjs-utils.js"),i=(n("./node_modules/braft-utils/dist/color.js"),n("./node_modules/braft-convert/dist/index.js"));t.default={isEditorState:function(e){return e instanceof r.EditorState},createEmptyEditorState:function(e){return r.EditorState.createEmpty(e)},createEditorState:function(e,t){return r.EditorState.createWithContent(e,t)},isSelectionCollapsed:function(e){return e.getSelection().isCollapsed()},selectBlock:function(e,t){var n=t.getKey();return r.EditorState.forceSelection(e,new r.SelectionState({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:t.getLength()}))},selectNextBlock:function(e,t){var n=e.getCurrentContent().getBlockAfter(t.getKey());return n?this.selectBlock(e,n):e},removeBlock:function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=void 0,a=t.getKey();return i=r.Modifier.removeRange(e.getCurrentContent(),new r.SelectionState({anchorKey:a,anchorOffset:0,focusKey:a,focusOffset:t.getLength()}),"backward"),i=r.Modifier.setBlockType(i,i.getSelectionAfter(),"unstyled"),n=r.EditorState.push(e,i,"remove-range"),r.EditorState.forceSelection(n,o||i.getSelectionAfter())},getSelectionBlock:function(e){return e.getCurrentContent().getBlockForKey(e.getSelection().getAnchorKey())},setSelectionBlockData:function(e,t){return(0,o.setBlockData)(e,t)},getSelectionBlockData:function(e,t){var n=this.getSelectionBlock(e).getData();return t?n.get(t):n},getSelectionBlockType:function(e){return this.getSelectionBlock(e).getType()},getSelectionText:function(e){var t=e.getSelection(),n=e.getCurrentContent();if(t.isCollapsed()||"atomic"===this.getSelectionBlockType(e))return"";var r=t.getAnchorKey(),o=n.getBlockForKey(r),i=t.getStartOffset(),a=t.getEndOffset();return o.getText().slice(i,a)},toggleSelectionBlockType:function(e,t){return r.RichUtils.toggleBlockType(e,t)},getSelectionEntityData:function(e,t){var n=(0,o.getSelectionEntity)(e);if(n){var r=e.getCurrentContent().getEntity(n);if(r&&r.get("type")===t){var i=r.getData();return{href:i.href,target:i.target}}return{}}return{}},getSelectionInlineStyle:function(e){return e.getCurrentInlineStyle()},selectionHasInlineStyle:function(e,t){return this.getSelectionInlineStyle(e).has(t.toUpperCase())},toggleSelectionInlineStyle:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=e.getSelection(),i=e.getCurrentContent();t=t.toUpperCase();var a=(n=n.filter(function(e){return e!==t})).length?n.reduce(function(e,t){return r.Modifier.removeInlineStyle(e,o,t)},i):i,s=n.length?r.EditorState.push(e,a,"change-inline-style"):e;return r.RichUtils.toggleInlineStyle(s,t)},removeSelectionInlineStyles:function(e){return(0,o.removeAllInlineStyles)(e)},toggleSelectionAlignment:function(e,t){return this.setSelectionBlockData(e,{textAlign:this.getSelectionBlockData(e,"textAlign")!==t?t:void 0})},toggleSelectionColor:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.toggleSelectionInlineStyle(e,"COLOR-"+t.replace("#",""),n.map(function(e){return"COLOR-"+e.replace("#","").toUpperCase()}))},toggleSelectionBackgroundColor:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.toggleSelectionInlineStyle(e,"BGCOLOR-"+t.replace("#",""),n.map(function(e){return"BGCOLOR-"+e.replace("#","").toUpperCase()}))},toggleSelectionFontSize:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.toggleSelectionInlineStyle(e,"FONTSIZE-"+t,n.map(function(e){return"FONTSIZE-"+e}))},toggleSelectionLineHeight:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.toggleSelectionInlineStyle(e,"LINEHEIGHT-"+t,n.map(function(e){return"LINEHEIGHT-"+e}))},toggleSelectionFontFamily:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.toggleSelectionInlineStyle(e,"FONTFAMILY-"+t,n.map(function(e){return"FONTFAMILY-"+e.name.toUpperCase()}))},toggleSelectionLetterSpacing:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.toggleSelectionInlineStyle(e,"LETTERSPACING-"+t,n.map(function(e){return"LETTERSPACING-"+e}))},toggleSelectionIndent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.toggleSelectionInlineStyle(e,"INDENT-"+t,n.map(function(e){return"INDENT-"+e}))},toggleSelectionLink:function(e,t,n){var o=e.getSelection(),i=e.getCurrentContent(),a={href:t,target:n};if(o.isCollapsed()||"atomic"===this.getSelectionBlockType(e))return e;if(!1===t)return r.RichUtils.toggleLink(e,o,null);null===t&&delete a.href;try{var s=i.createEntity("LINK","MUTABLE",a),l=s.getLastCreatedEntityKey(),u=r.EditorState.set(e,{currentContent:s});return u=r.RichUtils.toggleLink(u,o,l),u=r.EditorState.forceSelection(u,o.merge({anchorOffset:o.getEndOffset(),focusOffset:o.getEndOffset()})),u=r.EditorState.push(u,r.Modifier.insertText(u.getCurrentContent(),u.getSelection()," "),"insert-text")}catch(t){return console.warn(t),e}},insertText:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.getSelection(),i=e.getCurrentContent();return"atomic"===this.getSelectionBlockType(e)?e:o.isCollapsed()?r.EditorState.push(e,r.Modifier.insertText(i,o,t),"insert-text"):n?r.EditorState.push(e,r.Modifier.replaceText(i,o,t),"replace-text"):e},insertHTML:function(e,t){if(!t)return e;var n=e.getSelection(),o=e.getCurrentContent();try{var a=(0,r.convertFromRaw)((0,i.convertHTMLToRaw)(t)).blockMap;return r.EditorState.push(e,r.Modifier.replaceWithFragment(o,n,a),"insert-fragment")}catch(t){return console.warn(t),e}},insertAtomicBlock:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.getSelection(),a=e.getCurrentContent();if(!i.isCollapsed()||"atomic"===this.getSelectionBlockType(e))return e;var s=a.createEntity(t,n?"IMMUTABLE":"MUTABLE",o).getLastCreatedEntityKey();return r.AtomicBlockUtils.insertAtomicBlock(e,s," ")},insertHorizontalLine:function(e){return this.insertAtomicBlock(e,"HR")},insertMedias:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length?("atomic"===this.getSelectionBlockType(e)&&this.selectNextBlock(e,this.getSelectionBlock(e)),t.reduce(function(e,t){var n=t.url,o=t.name,i=t.type,a=t.meta,s=e.getCurrentContent().createEntity(i,"IMMUTABLE",{url:n,name:o,type:i,meta:a}).getLastCreatedEntityKey();return r.AtomicBlockUtils.insertAtomicBlock(e,s," ")},e)):e},setMediaData:function(e,t,n){return r.EditorState.push(e,e.getCurrentContent().mergeEntityData(t,n),"change-block-data")},removeMedia:function(e,t){return this.removeBlock(e,t)},setMediaPosition:function(e,t,n){var r={},o=n.float,i=n.alignment;return void 0!==o&&(r.float=t.getData().get("float")===o?null:o),void 0!==i&&(r.alignment=t.getData().get("alignment")===i?null:i),this.setSelectionBlockData(this.selectBlock(e,t),r)},clear:function(e){var t=e.getCurrentContent(),n=t.getFirstBlock(),o=t.getLastBlock(),i=new r.SelectionState({anchorKey:n.getKey(),anchorOffset:0,focusKey:o.getKey(),focusOffset:o.getLength(),hasFocus:!0});return r.EditorState.push(e,r.Modifier.removeRange(t,i,"backward"),"remove-range")},handleKeyCommand:function(e,t){return r.RichUtils.handleKeyCommand(e,t)},handleNewLine:function(e,t){return(0,o.handleNewLine)(e,t)},undo:function(e){return r.EditorState.undo(e)},redo:function(e){return r.EditorState.redo(e)}}},"./node_modules/braft-utils/dist/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentUtils=t.ColorUtils=t.BaseUtils=void 0;var r=a(n("./node_modules/braft-utils/dist/base.js")),o=a(n("./node_modules/braft-utils/dist/color.js")),i=a(n("./node_modules/braft-utils/dist/content.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.BaseUtils=r.default,l=t.ColorUtils=o.default,u=t.ContentUtils=i.default;t.default={BaseUtils:s,ColorUtils:l,ContentUtils:u}},"./node_modules/draft-convert/lib/blockEntities.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("./node_modules/draft-convert/lib/util/updateMutation.js")),o=s(n("./node_modules/draft-convert/lib/util/rangeSort.js")),i=s(n("./node_modules/draft-convert/lib/util/getElementHTML.js")),a=s(n("./node_modules/draft-convert/lib/util/getElementTagLength.js"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return arguments[1]};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,s=[].concat(l(e.text)),c=n;if(n.__isMiddleware&&(c=n(u)),Object.prototype.hasOwnProperty.call(e,"entityRanges")&&e.entityRanges.length>0){for(var f=e.entityRanges.sort(o.default),d=e.inlineStyleRanges,p=function(e){var n=f[e],o=t[n.key],u=s.slice(n.offset,n.offset+n.length).join(""),p=c(o,u),h=[].concat(l((0,i.default)(p,u)||u)),m=(0,a.default)(p,"start"),y=(0,a.default)(p,"end"),v=function(t){return t.reduce(function(t,o,i){var a=function(t,o){return o>e||Object.prototype.hasOwnProperty.call(t,"style")?(0,r.default)(t,n.offset,n.length,h.length,m,y):t}(o,i);return Array.isArray(a)?t.concat(a):t.concat([a])},[])};f=v(f),d=v(d),s=[].concat(l(s.slice(0,n.offset)),l(h),l(s.slice(n.offset+n.length)))},h=0;h<f.length;h++)p(h);return Object.assign({},e,{text:s.join(""),inlineStyleRanges:d,entityRanges:f})}return e}},"./node_modules/draft-convert/lib/blockInlineStyles.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("./node_modules/invariant/browser.js")),o=u(n("./node_modules/draft-convert/lib/util/styleObjectFunction.js")),i=u(n("./node_modules/draft-convert/lib/util/accumulateFunction.js")),a=u(n("./node_modules/draft-convert/lib/util/getElementHTML.js")),s=u(n("./node_modules/draft-convert/lib/util/rangeSort.js")),l=u(n("./node_modules/draft-convert/lib/default/defaultInlineHTML.js"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){return e.filter(function(e){return!t.some(function(t){return t.style===e.style})})},f=function(e,t){return t.reduceRight(function(e,t){var n=e[e.length-1];return(0,r.default)(n.style===t.style,"Style "+n.style+" to be removed doesn't match expected "+t.style),e.slice(0,-1)},e)},d=function(e,t){return t.filter(function(t){return e>=t.offset&&e<t.offset+t.length})},p=function(e,t){var n=e.offset<=t.offset,r=e.offset+e.length>=t.offset+t.length;return n&&r},h=function(e,t){return t.offset+t.length-(e.offset+e.length)},m=function(e,t){for(var n=0;n<e.length;){if(!t.every(p.bind(null,e[n])))return e.slice(n);n++}return[]},y=function(e,t,n){return t+(0,a.default)(e(n.style)).start},v=function(e,t,n){return(0,a.default)(e(n.style)).end+t},g=function(e){return function(t){return e(t)}};g.__isMiddleware=!0,t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;(0,r.default)(null!==e&&void 0!==e,"Expected raw block to be non-null");var n=void 0;n=!0===t.__isMiddleware?t(l.default):(0,i.default)((0,o.default)(t),(0,o.default)(l.default));for(var u="",p=[],b=e.inlineStyleRanges.sort(s.default),_=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.text)),A=0;A<_.length;A++){var E=d(A,b),S=c(p,E),w=c(E,p),k=c(p,S),I=m(k,w),C=I.concat(w).sort(h),x=C.reduce(y.bind(null,n),"");u+=S.concat(I).reduce(v.bind(null,n),"")+x+_[A],p=(p=f(p,I.concat(S))).concat(C),(0,r.default)(p.length===E.length,"Character "+A+": "+(p.length-E.length)+" styles left on stack that should no longer be there")}return u=p.reduceRight(function(e,t){return e+(0,a.default)(n(t.style)).end},u)}},"./node_modules/draft-convert/lib/convertFromHTML.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n("./node_modules/draft-convert/node_modules/immutable/dist/immutable.js"),i=n("./node_modules/draft-js/lib/Draft.js"),a=l(n("./node_modules/draft-convert/lib/util/parseHTML.js")),s=l(n("./node_modules/draft-convert/lib/util/rangeSort.js"));function l(e){return e&&e.__esModule?e:{default:e}}var u=" ",c=4,f=new RegExp("\r","g"),d=new RegExp("\n","g"),p=new RegExp("&nbsp;","g"),h=new RegExp("\r","g"),m=["p","h1","h2","h3","h4","h5","h6","li","blockquote","pre"],y={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},v=function(e,t){return e&&!0===e.__isMiddleware?e(t):e},g=function(e,t,n){},b=function(e,t,n){return n},_=function(e,t){},A=function(e){return[]},E=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")},S=function(e){return e.replace(h,"")};function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,o.Map)();return!0===n?{text:"\r",inlines:[(0,o.OrderedSet)()],entities:new Array(1),blocks:[{type:e,data:r,depth:Math.max(0,Math.min(c,t))}],isNewline:!0}:{text:"\n",inlines:[(0,o.OrderedSet)()],entities:new Array(1),blocks:[]}}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.Map)();return{text:"\r",inlines:[(0,o.OrderedSet)()],entities:new Array(1),blocks:[{type:e,data:n,depth:Math.max(0,Math.min(c,t))}]}}function I(e,t){switch(e){case"h1":return"header-one";case"h2":return"header-two";case"h3":return"header-three";case"h4":return"header-four";case"h5":return"header-five";case"h6":return"header-six";case"li":return"ol"===t?"ordered-list-item":"unordered-list-item";case"blockquote":return"blockquote";case"pre":return"code-block";case"div":case"p":return"unstyled";default:return null}}function C(e,t,n){return I(e,n)}function x(e,t,n){var r=y[e];return r?n=n.add(r).toOrderedSet():t instanceof HTMLElement&&function(){var e=t;n=n.withMutations(function(t){"bold"===e.style.fontWeight&&t.add("BOLD"),"italic"===e.style.fontStyle&&t.add("ITALIC"),"underline"===e.style.textDecoration&&t.add("UNDERLINE"),"line-through"===e.style.textDecoration&&t.add("STRIKETHROUGH")}).toOrderedSet()}(),n}function N(e,t){return x(e,t,(0,o.OrderedSet)())}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.text.slice(0,1),o="\r"===e.text.slice(-1)&&"\r"===r,i="\r"!==e.text&&"\r"!==t.text,a="\r"===e.text&&!e.isNewline&&t.isNewline;if(o&&(i||a)&&(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===e.text.slice(-1)&&!0===n){if(t.text===u||"\n"===t.text)return e;r!==u&&"\n"!==r||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}var s=0===e.text.length&&t.isNewline;return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks),isNewline:s}}function O(e,t,n,i,a,l,c,f,p,h,m,y,v,g,b,_){var A=e.nodeName.toLowerCase(),E=!1,S="unstyled";if("#text"===A){var C=function(){var n=e.textContent;if(""===n.trim()&&null===i)return{v:{text:"",inlines:[],entities:[],blocks:[]}};if(""===n.trim()&&"code-block"!==i)return{v:function(e){var t=new Array(1);return e&&(t[0]=e),{text:u,inlines:[(0,o.OrderedSet)()],entities:t,blocks:[]}}(_)};"code-block"!==i&&(n=n.replace(d,u));var r=Array(n.length).fill(_),a=0;return p(n,m,y,v,g).sort(s.default).forEach(function(e){var t=e.entity,o=e.offset,i=e.length,s=e.result,l=o+a;null!==s&&void 0!==s||(s=n.substr(l,i));var u=n.split("");u.splice.bind(u,l,i).apply(u,s.split("")),n=u.join(""),r.splice.bind(r,l,i).apply(r,Array(s.length).fill(t)),a+=s.length-i}),{v:{text:n,inlines:Array(n.length).fill(t),entities:r,blocks:[]}}}();if("object"===(void 0===C?"undefined":r(C)))return C.v}if("br"===A){var N=i;return null===N?w("unstyled",l,!0):w(N||"unstyled",l,b.flat)}var M={text:"",inlines:[],entities:[],blocks:[]};t=x(A,e,t),t=c(A,e,t),"ul"!==A&&"ol"!==A||(n&&(l+=1),n=A,i=null);var D=h(A,e,n,i),j=void 0,R=void 0;if(!1===D)return{text:"",inlines:[],entities:[],blocks:[]};if("string"==typeof(D=D||{})?(j=D,R=(0,o.Map)()):(j="string"==typeof D?D:D.type,R=D.data?(0,o.Map)(D.data):(0,o.Map)()),i||-1===a.indexOf(A)&&!j)if(!n||"ordered-list-item"!==i&&"unordered-list-item"!==i||"li"!==A)i&&"atomic"!==i&&"atomic"===j&&(i=j,E=!0,M=w(j,l,!0,R));else{var F=I(A,n);M=k(F,l),i=F,E=!0,S="ul"===n?"unordered-list-item":"ordered-list-item"}else M=k(j||I(A,n),l,R),i=j||I(A,n),E=!0;var B=e.firstChild;null!=B||!_||"atomic"!==j&&"atomic"!==i||(B=document.createTextNode("a")),null!=B&&(A=B.nodeName.toLowerCase());for(var L=null;B;){L=f(A,B,m,y,v,g),M=T(M,O(B,t,n,i,a,l,c,f,p,h,m,y,v,g,b,L||_),b.flat);var U=B.nextSibling;if(U&&a.indexOf(A)>=0&&i){var z=h(A,B,n,i),P=void 0,V=void 0;!1!==z&&("string"==typeof(z=z||{})?(P=z,V=(0,o.Map)()):(P=z.type||I(A,n),V=z.data?(0,o.Map)(z.data):(0,o.Map)()),M=T(M,w(P,l,b.flat,V),b.flat))}U&&(A=U.nodeName.toLowerCase()),B=U}return E&&(M=T(M,k(S,l,(0,o.Map)()),b.flat)),M}function M(e,t,n,r,i,a,s,l,c,d,h){var y=h(e=e.trim().replace(f,"").replace(p,u));if(!y)return null;var v=function(e){return m.some(function(t){return-1!==e.indexOf("<"+t)})}(e)?m.concat(["div"]):["div"],g=O(y,(0,o.OrderedSet)(),"ul",null,v,-1,t,n,r,i,a,s,l,c,d);return 0===g.text.indexOf("\r")&&(g={text:g.text.slice(1),inlines:g.inlines.slice(1),entities:g.entities.slice(1),blocks:g.blocks}),"\r"===g.text.slice(-1)&&(g.text=g.text.slice(0,-1),g.inlines=g.inlines.slice(0,-1),g.entities=g.entities.slice(0,-1),g.blocks.pop()),0===g.blocks.length&&g.blocks.push({type:"unstyled",data:(0,o.Map)(),depth:0}),g.text.split("\r").length===g.blocks.length+1&&g.blocks.unshift({type:"unstyled",data:(0,o.Map)(),depth:0}),g}var D=function(e){var t=e.htmlToStyle,n=void 0===t?b:t,r=e.htmlToEntity,s=void 0===r?_:r,l=e.textToEntity,u=void 0===l?A:l,c=e.htmlToBlock,f=void 0===c?g:c;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{flat:!1},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.default,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.genKey,c=i.ContentState.createFromText(""),d=function(e,t,n,r,a,s,l,u,c,f,d,p){var h=M(e,t,n,r,a,s,l,u,c,f,d);if(null==h)return[];var m=0;return h.text.split("\r").map(function(e,t){e=S(e);var n=m+e.length,r=E(h).inlines.slice(m,n),a=E(h).entities.slice(m,n),s=(0,o.List)(r.map(function(e,t){var n={style:e,entity:null};return a[t]&&(n.entity=a[t]),i.CharacterMetadata.create(n)}));return m=n+1,new i.ContentBlock({key:p(),type:E(h).blocks[t].type,data:E(h).blocks[t].data,depth:E(h).blocks[t].depth,text:e,characterList:s})})}(e,v(n,N),v(s,_),v(u,A),v(f,C),function(){var e;return c.createEntity?(c=(e=c).createEntity.apply(e,arguments)).getLastCreatedEntityKey():i.Entity.create.apply(i.Entity,arguments)},function(){var e;return c.getEntity?(e=c).getEntity.apply(e,arguments):i.Entity.get.apply(i.Entity,arguments)},function(){var e;c.mergeEntityData?c=(e=c).mergeEntityData.apply(e,arguments):i.Entity.mergeData.apply(i.Entity,arguments)},function(){var e;c.replaceEntityData?c=(e=c).replaceEntityData.apply(e,arguments):i.Entity.replaceData.apply(i.Entity,arguments)},t,r,l),p=i.BlockMapBuilder.createFromArray(d),h=d[0].getKey();return c.merge({blockMap:p,selectionBefore:i.SelectionState.createEmpty(h),selectionAfter:i.SelectionState.createEmpty(h)})}};t.default=function(){return arguments.length>=1&&"string"==typeof(arguments.length<=0?void 0:arguments[0])?D({}).apply(void 0,arguments):D.apply(void 0,arguments)}},"./node_modules/draft-convert/lib/convertToHTML.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n("./node_modules/invariant/browser.js")),o=m(n("./node_modules/react/index.js")),i=m(n("./node_modules/react-dom/server.browser.js")),a=n("./node_modules/draft-js/lib/Draft.js"),s=m(n("./node_modules/draft-convert/lib/encodeBlock.js")),l=m(n("./node_modules/draft-convert/lib/blockEntities.js")),u=m(n("./node_modules/draft-convert/lib/blockInlineStyles.js")),c=m(n("./node_modules/draft-convert/lib/util/accumulateFunction.js")),f=m(n("./node_modules/draft-convert/lib/util/blockTypeObjectFunction.js")),d=m(n("./node_modules/draft-convert/lib/util/getBlockTags.js")),p=m(n("./node_modules/draft-convert/lib/util/getNestedBlockTags.js")),h=m(n("./node_modules/draft-convert/lib/default/defaultBlockHTML.js"));function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e,t){return t},v=function(e){var t=e.styleToHTML,n=void 0===t?{}:t,m=e.blockToHTML,v=void 0===m?{}:m,g=e.entityToHTML,b=void 0===g?y:g;return function(e){(0,r.default)(null!==e&&void 0!==e,"Expected contentState to be non-null");var t=void 0;t=!0===v.__isMiddleware?v((0,f.default)(h.default)):(0,c.default)((0,f.default)(v),(0,f.default)(h.default));var m=(0,a.convertToRaw)(e),y=[],g=m.blocks.map(function(e){var r=e.type,a=e.depth,c="",f="",h=t(e);if(!h)throw new Error("convertToHTML: missing HTML definition for block with type "+e.type);if(h.nest)for(;a+1!==y.length||r!==y[a].type;)if(a+1===y.length){var v=y[a];c+=(0,p.default)(t(v)).nestEnd,f+=(0,p.default)(t(e)).nestStart,y[a]=e}else if(a+1<y.length){var g=y[y.length-1];c+=(0,p.default)(t(g)).nestEnd,y=y.slice(0,-1)}else f+=(0,p.default)(t(e)).nestStart,y.push(e);else c=y.reduceRight(function(e,n){return e+(0,p.default)(t(n)).nestEnd},""),y=[];var _=(0,u.default)((0,l.default)((0,s.default)(e),m.entityMap,b),n),A=(0,d.default)(t(e)),E=void 0;return E="string"==typeof A?A:A.start+_+A.end,0===_.length&&Object.prototype.hasOwnProperty.call(A,"empty")&&(E=o.default.isValidElement(A.empty)?i.default.renderToStaticMarkup(A.empty):A.empty),c+f+E}).join("");return g=y.reduce(function(e,n){return e+(0,p.default)(t(n)).nestEnd},g)}};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Object.prototype.hasOwnProperty.call(t[0],"_map")&&null!=t[0].getBlockMap?v({}).apply(void 0,t):v.apply(void 0,t)}},"./node_modules/draft-convert/lib/default/defaultBlockHTML.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("./node_modules/react/index.js"));t.default={unstyled:r.default.createElement("p",null),paragraph:r.default.createElement("p",null),"header-one":r.default.createElement("h1",null),"header-two":r.default.createElement("h2",null),"header-three":r.default.createElement("h3",null),"header-four":r.default.createElement("h4",null),"header-five":r.default.createElement("h5",null),"header-six":r.default.createElement("h6",null),blockquote:r.default.createElement("blockquote",null),"unordered-list-item":{element:r.default.createElement("li",null),nest:r.default.createElement("ul",null)},"ordered-list-item":{element:r.default.createElement("li",null),nest:r.default.createElement("ol",null)},media:r.default.createElement("figure",null),atomic:r.default.createElement("figure",null)}},"./node_modules/draft-convert/lib/default/defaultInlineHTML.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case"BOLD":return r.default.createElement("strong",null);case"ITALIC":return r.default.createElement("em",null);case"UNDERLINE":return r.default.createElement("u",null);case"CODE":return r.default.createElement("code",null);default:return{start:"",end:""}}};var r=function(e){return e&&e.__esModule?e:{default:e}}(n("./node_modules/react/index.js"))},"./node_modules/draft-convert/lib/encodeBlock.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("./node_modules/draft-convert/lib/util/updateMutation.js")),o=i(n("./node_modules/draft-convert/lib/util/rangeSort.js"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","\n":"<br/>"};t.default=function(e){for(var t=[].concat(a(e.text)),n=e.entityRanges.sort(o.default),i=e.inlineStyleRanges.sort(o.default),l="",u=function(e){var o=t[e];void 0!==s[o]?function(){var e=s[o],t=[].concat(a(l)).length;l+=e;var u=function(n){return(0,r.default)(n,t,o.length,e.length,0,0)};n=n.map(u),i=i.map(u)}():l+=o},c=0;c<t.length;c++)u(c);return Object.assign({},e,{text:l,inlineStyleRanges:i,entityRanges:n})}},"./node_modules/draft-convert/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHTML=t.convertFromHTML=t.convertToHTML=void 0;var r=a(n("./node_modules/draft-convert/lib/convertToHTML.js")),o=a(n("./node_modules/draft-convert/lib/convertFromHTML.js")),i=a(n("./node_modules/draft-convert/lib/util/parseHTML.js"));function a(e){return e&&e.__esModule?e:{default:e}}t.convertToHTML=r.default,t.convertFromHTML=o.default,t.parseHTML=i.default},"./node_modules/draft-convert/lib/util/accumulateFunction.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){var n=e.apply(void 0,arguments);return void 0!==n&&null!==n?n:t.apply(void 0,arguments)}}},"./node_modules/draft-convert/lib/util/blockTypeObjectFunction.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return"function"==typeof e?e(t):e[t.type]}}},"./node_modules/draft-convert/lib/util/getBlockTags.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(null!==e&&void 0!==e,"Expected block HTML value to be non-null"),"string"==typeof e)return e;if(o.default.isValidElement(e))return function(e){return o.default.isValidElement(e)&&o.default.Children.count(e.props.children)>0}(e)?i.default.renderToStaticMarkup(e):(0,a.default)(e);if(Object.prototype.hasOwnProperty.call(e,"element")&&o.default.isValidElement(e.element))return Object.assign({},e,(0,a.default)(e.element));return(0,r.default)(Object.prototype.hasOwnProperty.call(e,"start")&&Object.prototype.hasOwnProperty.call(e,"end"),"convertToHTML: received block information without either a ReactElement or an object with start/end tags"),e};var r=s(n("./node_modules/invariant/browser.js")),o=s(n("./node_modules/react/index.js")),i=s(n("./node_modules/react-dom/server.browser.js")),a=s(n("./node_modules/draft-convert/lib/util/splitReactElement.js"));function s(e){return e&&e.__esModule?e:{default:e}}},"./node_modules/draft-convert/lib/util/getElementHTML.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(void 0===e||null===e)return e;if("string"==typeof e)return e;if(i.default.isValidElement(e)){if(function(e){return i.default.isValidElement(e)&&i.default.Children.count(e.props.children)>0}(e))return a.default.renderToStaticMarkup(e);var n=(0,s.default)(e);if(null!==t&&"object"===(void 0===n?"undefined":r(n))){var l=n.start,u=n.end;return l+t+u}return n}if((0,o.default)(Object.prototype.hasOwnProperty.call(e,"start")&&Object.prototype.hasOwnProperty.call(e,"end"),"convertToHTML: received conversion data without either an HTML string, ReactElement or an object with start/end tags"),null!==t){var c=e.start,f=e.end;return c+t+f}return e};var o=l(n("./node_modules/invariant/browser.js")),i=l(n("./node_modules/react/index.js")),a=l(n("./node_modules/react-dom/server.browser.js")),s=l(n("./node_modules/draft-convert/lib/util/splitReactElement.js"));function l(e){return e&&e.__esModule?e:{default:e}}},"./node_modules/draft-convert/lib/util/getElementTagLength.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(n("./node_modules/react/index.js")),i=a(n("./node_modules/draft-convert/lib/util/splitReactElement.js"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start";if(o.default.isValidElement(t)){var a=(0,i.default)(t);if("string"==typeof a)return 0;var s=a[n].length,l=o.default.Children.toArray(t.props.children)[0];return s+(l&&o.default.isValidElement(l)?e(l,n):0)}return"object"===(void 0===t?"undefined":r(t))&&t[n]?t[n].length:0}},"./node_modules/draft-convert/lib/util/getNestedBlockTags.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(null!==e&&void 0!==e,"Expected block HTML value to be non-null"),o.default.isValidElement(e.nest)){var t=(0,i.default)(e.nest),n=t.start,a=t.end;return Object.assign({},e,{nestStart:n,nestEnd:a})}return(0,r.default)(Object.prototype.hasOwnProperty.call(e,"nestStart")&&Object.prototype.hasOwnProperty.call(e,"nestEnd"),"convertToHTML: received block information without either a ReactElement or an object with start/end tags"),e};var r=a(n("./node_modules/invariant/browser.js")),o=a(n("./node_modules/react/index.js")),i=a(n("./node_modules/draft-convert/lib/util/splitReactElement.js"));function a(e){return e&&e.__esModule?e:{default:e}}},"./node_modules/draft-convert/lib/util/parseHTML.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0;if("undefined"!=typeof DOMParser){var n=new DOMParser;null!==(t=n.parseFromString(e,"text/html"))&&null!==t.body||(t=r(e))}else t=r(e);return t.body};var r=function(e){var t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e,t}},"./node_modules/draft-convert/lib/util/rangeSort.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.offset===t.offset?t.length-e.length:e.offset-t.offset}},"./node_modules/draft-convert/lib/util/splitReactElement.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(-1!==s.indexOf(e.type))return i.default.renderToStaticMarkup(e);var t=i.default.renderToStaticMarkup(o.default.cloneElement(e,{},"\r")).split("\r");return(0,r.default)(t.length>1,"convertToHTML: Element of type "+e.type+" must render children"),(0,r.default)(t.length<3,"convertToHTML: Element of type "+e.type+" cannot use carriage return character"),{start:t[0],end:t[1]}};var r=a(n("./node_modules/invariant/browser.js")),o=a(n("./node_modules/react/index.js")),i=a(n("./node_modules/react-dom/server.browser.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]},"./node_modules/draft-convert/lib/util/styleObjectFunction.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return"function"==typeof e?e(t):e[t]}}},"./node_modules/draft-convert/lib/util/updateMutation.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o,i){var a=r-n;if(t+n<=e.offset)return Object.assign({},e,{offset:e.offset+a});if(t>=e.offset&&t+n<=e.offset+e.length)return Object.assign({},e,{length:e.length+a});if(e.offset>=t&&e.offset+e.length<=t+n&&o>0)return Object.assign({},e,{offset:e.offset+o});if(e.offset<t&&e.offset+e.length<=t+n&&e.offset+e.length>t&&o>0)return[Object.assign({},e,{length:t-e.offset}),Object.assign({},e,{offset:t+o,length:e.offset-t+e.length})];if(e.offset>=t&&e.offset+e.length>t+n&&t+n>e.offset&&i>0)return[Object.assign({},e,{offset:e.offset+o,length:t+n-e.offset}),Object.assign({},e,{offset:t+n+o+i,length:e.offset+e.length-(t+n)})];return e}},"./node_modules/draft-convert/node_modules/immutable/dist/immutable.js":function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:Q(e)}function r(e){return s(e)?e:K(e)}function o(e){return l(e)?e:G(e)}function i(e){return a(e)&&!u(e)?e:W(e)}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[d])}function l(e){return!(!e||!e[p])}function u(e){return s(e)||l(e)}function c(e){return!(!e||!e[h])}t(r,n),t(o,n),t(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=l,n.isAssociative=u,n.isOrdered=c,n.Keyed=r,n.Indexed=o,n.Set=i;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",h="@@__IMMUTABLE_ORDERED__@@",m=5,y=1<<m,v=y-1,g={},b={value:!1},_={value:!1};function A(e){return e.value=!1,e}function E(e){e&&(e.value=!0)}function S(){}function w(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function k(e){return void 0===e.size&&(e.size=e.__iterate(C)),e.size}function I(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?k(e)+t:t}function C(){return!0}function x(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function N(e,t){return O(e,t,0)}function T(e,t){return O(e,t,t)}function O(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var M=0,D=1,j=2,R="function"==typeof Symbol&&Symbol.iterator,F="@@iterator",B=R||F;function L(e){this.next=e}function U(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function z(){return{value:void 0,done:!0}}function P(e){return!!q(e)}function V(e){return e&&"function"==typeof e.next}function H(e){var t=q(e);return t&&t.call(e)}function q(e){var t=e&&(R&&e[R]||e[F]);if("function"==typeof t)return t}function Y(e){return e&&"number"==typeof e.length}function Q(e){return null===e||void 0===e?ie():a(e)?e.toSeq():function(e){var t=le(e)||"object"==typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function K(e){return null===e||void 0===e?ie().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():ae(e)}function G(e){return null===e||void 0===e?ie():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():se(e)}function W(e){return(null===e||void 0===e?ie():a(e)?s(e)?e.entrySeq():e:se(e)).toSetSeq()}L.prototype.toString=function(){return"[Iterator]"},L.KEYS=M,L.VALUES=D,L.ENTRIES=j,L.prototype.inspect=L.prototype.toSource=function(){return this.toString()},L.prototype[B]=function(){return this},t(Q,n),Q.of=function(){return Q(arguments)},Q.prototype.toSeq=function(){return this},Q.prototype.toString=function(){return this.__toString("Seq {","}")},Q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Q.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},Q.prototype.__iterator=function(e,t){return ce(this,e,t,!0)},t(K,Q),K.prototype.toKeyedSeq=function(){return this},t(G,Q),G.of=function(){return G(arguments)},G.prototype.toIndexedSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq [","]")},G.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},G.prototype.__iterator=function(e,t){return ce(this,e,t,!1)},t(W,Q),W.of=function(){return W(arguments)},W.prototype.toSetSeq=function(){return this},Q.isSeq=oe,Q.Keyed=K,Q.Set=W,Q.Indexed=G;var J,X,Z,$="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function re(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[$])}function ie(){return J||(J=new ee([]))}function ae(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():V(e)?new re(e).fromEntrySeq():P(e)?new ne(e).fromEntrySeq():"object"==typeof e?new te(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function se(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){return Y(e)?new ee(e):V(e)?new re(e):P(e)?new ne(e):void 0}function ue(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function ce(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new L(function(){var e=o[n?i-a:a];return a++>i?{value:void 0,done:!0}:U(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function fe(e,t){return t?function e(t,n,r,o){return Array.isArray(n)?t.call(o,r,G(n).map(function(r,o){return e(t,r,o,n)})):pe(n)?t.call(o,r,K(n).map(function(r,o){return e(t,r,o,n)})):n}(t,e,"",{"":e}):de(e)}function de(e){return Array.isArray(e)?G(e).map(de).toList():pe(e)?K(e).map(de).toMap():e}function pe(e){return e&&(e.constructor===Object||void 0===e.constructor)}function he(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function me(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||l(e)!==l(t)||c(e)!==c(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!u(e);if(c(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&he(o[1],e)&&(n||he(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var f=!0,d=t.__iterate(function(t,r){if(n?!e.has(t):o?!he(t,e.get(r,g)):!he(e.get(r,g),t))return f=!1,!1});return f&&e.size===d}function ye(e,t){if(!(this instanceof ye))return new ye(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(X)return X;X=this}}function ve(e,t){if(!e)throw new Error(t)}function ge(e,t,n){if(!(this instanceof ge))return new ge(e,t,n);if(ve(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function be(){throw TypeError("Abstract")}function _e(){}function Ae(){}function Ee(){}Q.prototype[$]=!0,t(ee,G),ee.prototype.get=function(e,t){return this.has(e)?this._array[I(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},ee.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new L(function(){return o>r?{value:void 0,done:!0}:U(e,o,n[t?r-o++:o++])})},t(te,K),te.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(!1===e(n[a],a,this))return i+1}return i},te.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new L(function(){var a=r[t?o-i:i];return i++>o?{value:void 0,done:!0}:U(e,a,n[a])})},te.prototype[h]=!0,t(ne,G),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=H(n),o=0;if(V(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,o++,this););return o},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=H(n);if(!V(r))return new L(z);var o=0;return new L(function(){var t=r.next();return t.done?t:U(e,o++,t.value)})},t(re,G),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===e(a,i++,this))break}return i},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new L(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return U(e,o,r[o++])})},t(ye,G),ye.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ye.prototype.get=function(e,t){return this.has(e)?this._value:t},ye.prototype.includes=function(e){return he(this._value,e)},ye.prototype.slice=function(e,t){var n=this.size;return x(e,t,n)?this:new ye(this._value,T(t,n)-N(e,n))},ye.prototype.reverse=function(){return this},ye.prototype.indexOf=function(e){return he(this._value,e)?0:-1},ye.prototype.lastIndexOf=function(e){return he(this._value,e)?this.size:-1},ye.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ye.prototype.__iterator=function(e,t){var n=this,r=0;return new L(function(){return r<n.size?U(e,r++,n._value):{value:void 0,done:!0}})},ye.prototype.equals=function(e){return e instanceof ye?he(this._value,e._value):me(e)},t(ge,G),ge.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},ge.prototype.get=function(e,t){return this.has(e)?this._start+I(this,e)*this._step:t},ge.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ge.prototype.slice=function(e,t){return x(e,t,this.size)?this:(e=N(e,this.size),(t=T(t,this.size))<=e?new ge(0,0):new ge(this.get(e,this._end),this.get(t,this._end),this._step))},ge.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},ge.prototype.lastIndexOf=function(e){return this.indexOf(e)},ge.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},ge.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new L(function(){var a=o;return o+=t?-r:r,i>n?{value:void 0,done:!0}:U(e,i++,a)})},ge.prototype.equals=function(e){return e instanceof ge?this._start===e._start&&this._end===e._end&&this._step===e._step:me(this,e)},t(be,n),t(_e,be),t(Ae,be),t(Ee,be),be.Keyed=_e,be.Indexed=Ae,be.Set=Ee;var Se="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function we(e){return e>>>1&1073741824|3221225471&e}function ke(e){if(!1===e||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return we(n)}if("string"===t)return e.length>De?function(e){var t=Fe[e];return void 0===t&&(t=Ie(e),Re===je&&(Re=0,Fe={}),Re++,Fe[e]=t),t}(e):Ie(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Te&&void 0!==(t=Ce.get(e)))return t;if(void 0!==(t=e[Me]))return t;if(!Ne){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Me]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Oe,1073741824&Oe&&(Oe=0),Te)Ce.set(e,t);else{if(void 0!==xe&&!1===xe(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Ne)Object.defineProperty(e,Me,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Me]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Me]=t}}return t}(e);if("function"==typeof e.toString)return Ie(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Ie(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return we(t)}var Ce,xe=Object.isExtensible,Ne=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Te="function"==typeof WeakMap;Te&&(Ce=new WeakMap);var Oe=0,Me="__immutablehash__";"function"==typeof Symbol&&(Me=Symbol(Me));var De=16,je=255,Re=0,Fe={};function Be(e){ve(e!==1/0,"Cannot perform this action with an infinite size.")}function Le(e){return null===e||void 0===e?Ze():Ue(e)&&!c(e)?e:Ze().withMutations(function(t){var n=r(e);Be(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Ue(e){return!(!e||!e[Pe])}t(Le,_e),Le.prototype.toString=function(){return this.__toString("Map {","}")},Le.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Le.prototype.set=function(e,t){return $e(this,e,t)},Le.prototype.setIn=function(e,t){return this.updateIn(e,g,function(){return t})},Le.prototype.remove=function(e){return $e(this,e,g)},Le.prototype.deleteIn=function(e){return this.updateIn(e,function(){return g})},Le.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Le.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,o){var i=t===g,a=n.next();if(a.done){var s=i?r:t,l=o(s);return l===s?t:l}ve(i||t&&t.set,"invalid keyPath");var u=a.value,c=i?g:t.get(u,g),f=e(c,n,r,o);return f===c?t:f===g?t.remove(u):(i?Ze():t).set(u,f)}(this,nn(e),t,n);return r===g?void 0:r},Le.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ze()},Le.prototype.merge=function(){return rt(this,void 0,arguments)},Le.prototype.mergeWith=function(t){var n=e.call(arguments,1);return rt(this,t,n)},Le.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ze(),function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]})},Le.prototype.mergeDeep=function(){return rt(this,ot,arguments)},Le.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return rt(this,it(t),n)},Le.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ze(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]})},Le.prototype.sort=function(e){return Nt(Yt(this,e))},Le.prototype.sortBy=function(e,t){return Nt(Yt(this,t,e))},Le.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Le.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new S)},Le.prototype.asImmutable=function(){return this.__ensureOwner()},Le.prototype.wasAltered=function(){return this.__altered},Le.prototype.__iterator=function(e,t){return new Ge(this,e,t)},Le.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},Le.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Xe(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Le.isMap=Ue;var ze,Pe="@@__IMMUTABLE_MAP__@@",Ve=Le.prototype;function He(e,t){this.ownerID=e,this.entries=t}function qe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Ye(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ke(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Ge(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Je(e._root)}function We(e,t){return U(e,t[0],t[1])}function Je(e,t){return{node:e,index:0,__prev:t}}function Xe(e,t,n,r){var o=Object.create(Ve);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Ze(){return ze||(ze=Xe(0))}function $e(e,t,n){var r,o;if(e._root){var i=A(b),a=A(_);if(r=et(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===g?-1:1:0)}else{if(n===g)return e;o=1,r=new He(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Xe(o,r):Ze()}function et(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===g?e:(E(s),E(a),new Ke(t,r,[o,i]))}function tt(e){return e.constructor===Ke||e.constructor===Qe}function nt(e,t,n,r,o){if(e.keyHash===r)return new Qe(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&v,s=(0===n?r:r>>>n)&v,l=a===s?[nt(e,t,n+m,r,o)]:(i=new Ke(t,r,o),a<s?[e,i]:[i,e]);return new qe(t,1<<a|1<<s,l)}function rt(e,t,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],l=r(s);a(s)||(l=l.map(function(e){return fe(e)})),o.push(l)}return at(e,t,o)}function ot(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):he(e,t)?e:t}function it(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return he(t,o)?t:o}}function at(e,t,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,g,function(e){return e===g?n:t(e,n,r)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)}):e.constructor(n[0])}function st(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function lt(e,t,n,r){var o=r?e:w(e);return o[t]=n,o}Ve[Pe]=!0,Ve.delete=Ve.remove,Ve.removeIn=Ve.deleteIn,He.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(he(n,o[i][0]))return o[i][1];return r},He.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===g,l=this.entries,u=0,c=l.length;u<c&&!he(r,l[u][0]);u++);var f=u<c;if(f?l[u][1]===o:s)return this;if(E(a),(s||!f)&&E(i),!s||1!==l.length){if(!f&&!s&&l.length>=ut)return function(e,t,n,r){e||(e=new S);for(var o=new Ke(e,ke(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,l,r,o);var d=e&&e===this.ownerID,p=d?l:w(l);return f?s?u===c-1?p.pop():p[u]=p.pop():p[u]=[r,o]:p.push([r,o]),d?(this.entries=p,this):new He(e,p)}},qe.prototype.get=function(e,t,n,r){void 0===t&&(t=ke(n));var o=1<<((0===e?t:t>>>e)&v),i=this.bitmap;return 0==(i&o)?r:this.nodes[st(i&o-1)].get(e+m,t,n,r)},qe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ke(r));var s=(0===t?n:n>>>t)&v,l=1<<s,u=this.bitmap,c=0!=(u&l);if(!c&&o===g)return this;var f=st(u&l-1),d=this.nodes,p=c?d[f]:void 0,h=et(p,e,t+m,n,r,o,i,a);if(h===p)return this;if(!c&&h&&d.length>=ct)return function(e,t,n,r,o){for(var i=0,a=new Array(y),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new Ye(e,i+1,a)}(e,d,u,s,h);if(c&&!h&&2===d.length&&tt(d[1^f]))return d[1^f];if(c&&h&&1===d.length&&tt(h))return h;var b=e&&e===this.ownerID,_=c?h?u:u^l:u|l,A=c?h?lt(d,f,h,b):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}(d,f,b):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}(d,f,h,b);return b?(this.bitmap=_,this.nodes=A,this):new qe(e,_,A)},Ye.prototype.get=function(e,t,n,r){void 0===t&&(t=ke(n));var o=(0===e?t:t>>>e)&v,i=this.nodes[o];return i?i.get(e+m,t,n,r):r},Ye.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ke(r));var s=(0===t?n:n>>>t)&v,l=o===g,u=this.nodes,c=u[s];if(l&&!c)return this;var f=et(c,e,t+m,n,r,o,i,a);if(f===c)return this;var d=this.count;if(c){if(!f&&--d<ft)return function(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];void 0!==c&&s!==r&&(o|=l,a[i++]=c)}return new qe(e,o,a)}(e,u,d,s)}else d++;var p=e&&e===this.ownerID,h=lt(u,s,f,p);return p?(this.count=d,this.nodes=h,this):new Ye(e,d,h)},Qe.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(he(n,o[i][0]))return o[i][1];return r},Qe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ke(r));var s=o===g;if(n!==this.keyHash)return s?this:(E(a),E(i),nt(this,e,t,n,[r,o]));for(var l=this.entries,u=0,c=l.length;u<c&&!he(r,l[u][0]);u++);var f=u<c;if(f?l[u][1]===o:s)return this;if(E(a),(s||!f)&&E(i),s&&2===c)return new Ke(e,this.keyHash,l[1^u]);var d=e&&e===this.ownerID,p=d?l:w(l);return f?s?u===c-1?p.pop():p[u]=p.pop():p[u]=[r,o]:p.push([r,o]),d?(this.entries=p,this):new Qe(e,this.keyHash,p)},Ke.prototype.get=function(e,t,n,r){return he(n,this.entry[0])?this.entry[1]:r},Ke.prototype.update=function(e,t,n,r,o,i,a){var s=o===g,l=he(r,this.entry[0]);return(l?o===this.entry[1]:s)?this:(E(a),s?void E(i):l?e&&e===this.ownerID?(this.entry[1]=o,this):new Ke(e,this.keyHash,[r,o]):(E(i),nt(this,e,t,ke(r),[r,o])))},He.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},qe.prototype.iterate=Ye.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Ke.prototype.iterate=function(e,t){return e(this.entry)},t(Ge,L),Ge.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return We(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return We(e,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return We(e,i.entry);t=this._stack=Je(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ut=y/4,ct=y/2,ft=y/4;function dt(e){var t=Et();if(null===e||void 0===e)return t;if(pt(e))return e;var n=o(e),r=n.size;return 0===r?t:(Be(r),r>0&&r<y?At(0,r,m,null,new yt(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function pt(e){return!(!e||!e[ht])}t(dt,Ae),dt.of=function(){return this(arguments)},dt.prototype.toString=function(){return this.__toString("List [","]")},dt.prototype.get=function(e,t){if((e=I(this,e))>=0&&e<this.size){var n=kt(this,e+=this._origin);return n&&n.array[e&v]}return t},dt.prototype.set=function(e,t){return function(e,t,n){if((t=I(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?It(e,t).set(0,n):It(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i=A(_);return t>=xt(e._capacity)?r=St(r,e.__ownerID,0,t,n,i):o=St(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):At(e._origin,e._capacity,e._level,o,r):e}(this,e,t)},dt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},dt.prototype.insert=function(e,t){return this.splice(e,0,t)},dt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Et()},dt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){It(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},dt.prototype.pop=function(){return It(this,0,-1)},dt.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){It(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},dt.prototype.shift=function(){return It(this,1)},dt.prototype.merge=function(){return Ct(this,void 0,arguments)},dt.prototype.mergeWith=function(t){var n=e.call(arguments,1);return Ct(this,t,n)},dt.prototype.mergeDeep=function(){return Ct(this,ot,arguments)},dt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ct(this,it(t),n)},dt.prototype.setSize=function(e){return It(this,0,e)},dt.prototype.slice=function(e,t){var n=this.size;return x(e,t,n)?this:It(this,N(e,n),T(t,n))},dt.prototype.__iterator=function(e,t){var n=0,r=_t(this,t);return new L(function(){var t=r();return t===bt?{value:void 0,done:!0}:U(e,n++,t)})},dt.prototype.__iterate=function(e,t){for(var n,r=0,o=_t(this,t);(n=o())!==bt&&!1!==e(n,r++,this););return r},dt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?At(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},dt.isList=pt;var ht="@@__IMMUTABLE_LIST__@@",mt=dt.prototype;function yt(e,t){this.array=e,this.ownerID=t}mt[ht]=!0,mt.delete=mt.remove,mt.setIn=Ve.setIn,mt.deleteIn=mt.removeIn=Ve.removeIn,mt.update=Ve.update,mt.updateIn=Ve.updateIn,mt.mergeIn=Ve.mergeIn,mt.mergeDeepIn=Ve.mergeDeepIn,mt.withMutations=Ve.withMutations,mt.asMutable=Ve.asMutable,mt.asImmutable=Ve.asImmutable,mt.wasAltered=Ve.wasAltered,yt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&v;if(r>=this.array.length)return new yt([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-m,n))===a&&i)return this}if(i&&!o)return this;var s=wt(this,e);if(!i)for(var l=0;l<r;l++)s.array[l]=void 0;return o&&(s.array[r]=o),s},yt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&v;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-m,n))===i&&o===this.array.length-1)return this}var a=wt(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var vt,gt,bt={};function _t(e,t){var n=e._origin,r=e._capacity,o=xt(r),i=e._tail;return a(e._root,e._level,0);function a(e,s,l){return 0===s?function(e,a){var s=a===o?i&&i.array:e&&e.array,l=a>n?0:n-a,u=r-a;return u>y&&(u=y),function(){if(l===u)return bt;var e=t?--u:l++;return s&&s[e]}}(e,l):function(e,o,i){var s,l=e&&e.array,u=i>n?0:n-i>>o,c=1+(r-i>>o);return c>y&&(c=y),function(){for(;;){if(s){var e=s();if(e!==bt)return e;s=null}if(u===c)return bt;var n=t?--c:u++;s=a(l&&l[n],o-m,i+(n<<o))}}}(e,s,l)}}function At(e,t,n,r,o,i,a){var s=Object.create(mt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Et(){return vt||(vt=At(0,0,m))}function St(e,t,n,r,o,i){var a,s=r>>>n&v,l=e&&s<e.array.length;if(!l&&void 0===o)return e;if(n>0){var u=e&&e.array[s],c=St(u,t,n-m,r,o,i);return c===u?e:((a=wt(e,t)).array[s]=c,a)}return l&&e.array[s]===o?e:(E(i),a=wt(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function wt(e,t){return t&&e&&t===e.ownerID?e:new yt(e?e.array.slice():[],t)}function kt(e,t){if(t>=xt(e._capacity))return e._tail;if(t<1<<e._level+m){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&v],r-=m;return n}}function It(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new S,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var l=e._level,u=e._root,c=0;a+c<0;)u=new yt(u&&u.array.length?[void 0,u]:[],r),c+=1<<(l+=m);c&&(a+=c,o+=c,s+=c,i+=c);for(var f=xt(i),d=xt(s);d>=1<<l+m;)u=new yt(u&&u.array.length?[u]:[],r),l+=m;var p=e._tail,h=d<f?kt(e,s-1):d>f?new yt([],r):p;if(p&&d>f&&a<i&&p.array.length){for(var y=u=wt(u,r),g=l;g>m;g-=m){var b=f>>>g&v;y=y.array[b]=wt(y.array[b],r)}y.array[f>>>m&v]=p}if(s<i&&(h=h&&h.removeAfter(r,0,s)),a>=d)a-=d,s-=d,l=m,u=null,h=h&&h.removeBefore(r,0,a);else if(a>o||d<f){for(c=0;u;){var _=a>>>l&v;if(_!==d>>>l&v)break;_&&(c+=(1<<l)*_),l-=m,u=u.array[_]}u&&a>o&&(u=u.removeBefore(r,l,a-c)),u&&d<f&&(u=u.removeAfter(r,l,d-c)),c&&(a-=c,s-=c)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=l,e._root=u,e._tail=h,e.__hash=void 0,e.__altered=!0,e):At(a,s,l,u,h)}function Ct(e,t,n){for(var r=[],i=0,s=0;s<n.length;s++){var l=n[s],u=o(l);u.size>i&&(i=u.size),a(l)||(u=u.map(function(e){return fe(e)})),r.push(u)}return i>e.size&&(e=e.setSize(i)),at(e,t,r)}function xt(e){return e<y?0:e-1>>>m<<m}function Nt(e){return null===e||void 0===e?Mt():Tt(e)?e:Mt().withMutations(function(t){var n=r(e);Be(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Tt(e){return Ue(e)&&c(e)}function Ot(e,t,n,r){var o=Object.create(Nt.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Mt(){return gt||(gt=Ot(Ze(),Et()))}function Dt(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),l=void 0!==s;if(n===g){if(!l)return e;a.size>=y&&a.size>=2*i.size?(o=a.filter(function(e,t){return void 0!==e&&s!==t}),r=o.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Ot(r,o)}function jt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Rt(e){this._iter=e,this.size=e.size}function Ft(e){this._iter=e,this.size=e.size}function Bt(e){this._iter=e,this.size=e.size}function Lt(e){var t=$t(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=en,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===j){var r=e.__iterator(t,n);return new L(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===D?M:D,n)},t}function Ut(e,t,n){var r=$t(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,g);return i===g?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(j,o);return new L(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return U(r,s,t.call(n,a[1],s,e),o)})},r}function zt(e,t){var n=$t(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Lt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=en,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Pt(e,t,n,r){var o=$t(e);return r&&(o.has=function(r){var o=e.get(r,g);return o!==g&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,g);return i!==g&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate(function(e,i,l){if(t.call(n,e,i,l))return s++,o(e,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(j,i),s=0;return new L(function(){for(;;){var i=a.next();if(i.done)return i;var l=i.value,u=l[0],c=l[1];if(t.call(n,c,u,e))return U(o,r?u:s++,c,i)}})},o}function Vt(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),x(t,n,o))return e;var i=N(t,o),a=T(n,o);if(i!=i||a!=a)return Vt(e.toSeq().cacheResult(),t,n,r);var s,l=a-i;l==l&&(s=l<0?0:l);var u=$t(e);return u.size=0===s?s:e.size&&s||void 0,!r&&oe(e)&&s>=0&&(u.get=function(t,n){return(t=I(this,t))>=0&&t<s?e.get(t+i,n):n}),u.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,l=!0,u=0;return e.__iterate(function(e,n){if(!l||!(l=a++<i))return u++,!1!==t(e,r?n:u-1,o)&&u!==s}),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,l=0;return new L(function(){for(;a++<i;)o.next();if(++l>s)return{value:void 0,done:!0};var e=o.next();return r||t===D?e:U(t,l-1,t===M?void 0:e.value[1],e)})},u}function Ht(e,t,n,r){var o=$t(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,l=0;return e.__iterate(function(e,i,u){if(!s||!(s=t.call(n,e,i,u)))return l++,o(e,r?i:l-1,a)}),l},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(j,i),l=!0,u=0;return new L(function(){var e,i,c;do{if((e=s.next()).done)return r||o===D?e:U(o,u++,o===M?void 0:e.value[1],e);var f=e.value;i=f[0],c=f[1],l&&(l=t.call(n,c,i,a))}while(l);return o===j?e:U(o,i,c,e)})},o}function qt(e,t,n){var r=$t(e);return r.__iterateUncached=function(r,o){var i=0,s=!1;return function e(l,u){var c=this;l.__iterate(function(o,l){return(!t||u<t)&&a(o)?e(o,u+1):!1===r(o,n?l:i++,c)&&(s=!0),!s},o)}(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),s=[],l=0;return new L(function(){for(;i;){var e=i.next();if(!1===e.done){var u=e.value;if(r===j&&(u=u[1]),t&&!(s.length<t)||!a(u))return n?e:U(r,l++,u,e);s.push(i),i=u.__iterator(r,o)}else i=s.pop()}return{value:void 0,done:!0}})},r}function Yt(e,t,n){t||(t=tn);var r=s(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?K(i):l(e)?G(i):W(i)}function Qt(e,t,n){if(t||(t=tn),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return Kt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return Kt(t,e,n)?n:e})}function Kt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!=n)||r>0}function Gt(e,t,r){var o=$t(e);return o.size=new ee(r).map(function(e){return e.size}).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(D,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map(function(e){return e=n(e),H(o?e.reverse():e)}),a=0,s=!1;return new L(function(){var n;return s||(n=i.map(function(e){return e.next()}),s=n.some(function(e){return e.done})),s?{value:void 0,done:!0}:U(e,a++,t.apply(null,n.map(function(e){return e.value})))})},o}function Wt(e,t){return oe(e)?t:e.constructor(t)}function Jt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Xt(e){return Be(e.size),k(e)}function Zt(e){return s(e)?r:l(e)?o:i}function $t(e){return Object.create((s(e)?K:l(e)?G:W).prototype)}function en(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Q.prototype.cacheResult.call(this)}function tn(e,t){return e>t?1:e<t?-1:0}function nn(e){var t=H(e);if(!t){if(!Y(e))throw new TypeError("Expected iterable or array-like: "+e);t=H(n(e))}return t}function rn(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ve(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(e){}}(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Le(i)},o=r.prototype=Object.create(on);return o.constructor=r,r}t(Nt,Le),Nt.of=function(){return this(arguments)},Nt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Nt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Nt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Mt()},Nt.prototype.set=function(e,t){return Dt(this,e,t)},Nt.prototype.remove=function(e){return Dt(this,e,g)},Nt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Nt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Nt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Nt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Ot(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Nt.isOrderedMap=Tt,Nt.prototype[h]=!0,Nt.prototype.delete=Nt.prototype.remove,t(jt,K),jt.prototype.get=function(e,t){return this._iter.get(e,t)},jt.prototype.has=function(e){return this._iter.has(e)},jt.prototype.valueSeq=function(){return this._iter.valueSeq()},jt.prototype.reverse=function(){var e=this,t=zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},jt.prototype.map=function(e,t){var n=this,r=Ut(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},jt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Xt(this):0,function(o){return e(o,t?--n:n++,r)}),t)},jt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(D,t),r=t?Xt(this):0;return new L(function(){var o=n.next();return o.done?o:U(e,t?--r:r++,o.value,o)})},jt.prototype[h]=!0,t(Rt,G),Rt.prototype.includes=function(e){return this._iter.includes(e)},Rt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},Rt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(D,t),r=0;return new L(function(){var t=n.next();return t.done?t:U(e,r++,t.value,t)})},t(Ft,W),Ft.prototype.has=function(e){return this._iter.includes(e)},Ft.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},Ft.prototype.__iterator=function(e,t){var n=this._iter.__iterator(D,t);return new L(function(){var t=n.next();return t.done?t:U(e,t.value,t.value,t)})},t(Bt,K),Bt.prototype.entrySeq=function(){return this._iter.toSeq()},Bt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Jt(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},Bt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(D,t);return new L(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Jt(r);var o=a(r);return U(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},Rt.prototype.cacheResult=jt.prototype.cacheResult=Ft.prototype.cacheResult=Bt.prototype.cacheResult=en,t(rn,_e),rn.prototype.toString=function(){return this.__toString(sn(this)+" {","}")},rn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},rn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=an(this,Ze()))},rn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+sn(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:an(this,n)},rn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:an(this,t)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},rn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?an(this,t,e):(this.__ownerID=e,this._map=t,this)};var on=rn.prototype;function an(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function sn(e){return e._name||e.constructor.name||"Record"}function ln(e){return null===e||void 0===e?mn():un(e)&&!c(e)?e:mn().withMutations(function(t){var n=i(e);Be(n.size),n.forEach(function(e){return t.add(e)})})}function un(e){return!(!e||!e[fn])}on.delete=on.remove,on.deleteIn=on.removeIn=Ve.removeIn,on.merge=Ve.merge,on.mergeWith=Ve.mergeWith,on.mergeIn=Ve.mergeIn,on.mergeDeep=Ve.mergeDeep,on.mergeDeepWith=Ve.mergeDeepWith,on.mergeDeepIn=Ve.mergeDeepIn,on.setIn=Ve.setIn,on.update=Ve.update,on.updateIn=Ve.updateIn,on.withMutations=Ve.withMutations,on.asMutable=Ve.asMutable,on.asImmutable=Ve.asImmutable,t(ln,Ee),ln.of=function(){return this(arguments)},ln.fromKeys=function(e){return this(r(e).keySeq())},ln.prototype.toString=function(){return this.__toString("Set {","}")},ln.prototype.has=function(e){return this._map.has(e)},ln.prototype.add=function(e){return pn(this,this._map.set(e,!0))},ln.prototype.remove=function(e){return pn(this,this._map.remove(e))},ln.prototype.clear=function(){return pn(this,this._map.clear())},ln.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},ln.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return i(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},ln.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return i(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},ln.prototype.merge=function(){return this.union.apply(this,arguments)},ln.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},ln.prototype.sort=function(e){return yn(Yt(this,e))},ln.prototype.sortBy=function(e,t){return yn(Yt(this,t,e))},ln.prototype.wasAltered=function(){return this._map.wasAltered()},ln.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},ln.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},ln.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},ln.isSet=un;var cn,fn="@@__IMMUTABLE_SET__@@",dn=ln.prototype;function pn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function hn(e,t){var n=Object.create(dn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function mn(){return cn||(cn=hn(Ze()))}function yn(e){return null===e||void 0===e?An():vn(e)?e:An().withMutations(function(t){var n=i(e);Be(n.size),n.forEach(function(e){return t.add(e)})})}function vn(e){return un(e)&&c(e)}dn[fn]=!0,dn.delete=dn.remove,dn.mergeDeep=dn.merge,dn.mergeDeepWith=dn.mergeWith,dn.withMutations=Ve.withMutations,dn.asMutable=Ve.asMutable,dn.asImmutable=Ve.asImmutable,dn.__empty=mn,dn.__make=hn,t(yn,ln),yn.of=function(){return this(arguments)},yn.fromKeys=function(e){return this(r(e).keySeq())},yn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},yn.isOrderedSet=vn;var gn,bn=yn.prototype;function _n(e,t){var n=Object.create(bn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function An(){return gn||(gn=_n(Mt()))}function En(e){return null===e||void 0===e?xn():Sn(e)?e:xn().unshiftAll(e)}function Sn(e){return!(!e||!e[kn])}bn[h]=!0,bn.__empty=An,bn.__make=_n,t(En,Ae),En.of=function(){return this(arguments)},En.prototype.toString=function(){return this.__toString("Stack [","]")},En.prototype.get=function(e,t){var n=this._head;for(e=I(this,e);n&&e--;)n=n.next;return n?n.value:t},En.prototype.peek=function(){return this._head&&this._head.value},En.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Cn(e,t)},En.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;Be(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Cn(t,n)},En.prototype.pop=function(){return this.slice(1)},En.prototype.unshift=function(){return this.push.apply(this,arguments)},En.prototype.unshiftAll=function(e){return this.pushAll(e)},En.prototype.shift=function(){return this.pop.apply(this,arguments)},En.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):xn()},En.prototype.slice=function(e,t){if(x(e,t,this.size))return this;var n=N(e,this.size),r=T(t,this.size);if(r!==this.size)return Ae.prototype.slice.call(this,e,t);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):Cn(o,i)},En.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Cn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},En.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},En.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new L(function(){if(r){var t=r.value;return r=r.next,U(e,n++,t)}return{value:void 0,done:!0}})},En.isStack=Sn;var wn,kn="@@__IMMUTABLE_STACK__@@",In=En.prototype;function Cn(e,t,n,r){var o=Object.create(In);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function xn(){return wn||(wn=Cn(0))}function Nn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}In[kn]=!0,In.withMutations=Ve.withMutations,In.asMutable=Ve.asMutable,In.asImmutable=Ve.asImmutable,In.wasAltered=Ve.wasAltered,n.Iterator=L,Nn(n,{toArray:function(){Be(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new Rt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new jt(this,!0)},toMap:function(){return Le(this.toKeyedSeq())},toObject:function(){Be(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Nt(this.toKeyedSeq())},toOrderedSet:function(){return yn(s(this)?this.valueSeq():this)},toSet:function(){return ln(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ft(this)},toSeq:function(){return l(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return En(s(this)?this.valueSeq():this)},toList:function(){return dt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Wt(this,function(e,t){var n=s(e),o=[e].concat(t).map(function(e){return a(e)?n&&(e=r(e)):e=n?ae(e):se(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||n&&s(i)||l(e)&&l(i))return i}var u=new ee(o);return n?u=u.toKeyedSeq():l(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=o.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),u}(this,t))},includes:function(e){return this.some(function(t){return he(t,e)})},entries:function(){return this.__iterator(j)},every:function(e,t){Be(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return Wt(this,Pt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Be(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Be(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(M)},map:function(e,t){return Wt(this,Ut(this,e,t))},reduce:function(e,t,n){var r,o;return Be(this.size),arguments.length<2?o=!0:r=t,this.__iterate(function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Wt(this,zt(this,!0))},slice:function(e,t){return Wt(this,Vt(this,e,t,!0))},some:function(e,t){return!this.every(jn(e),t)},sort:function(e){return Wt(this,Yt(this,e))},values:function(){return this.__iterator(D)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return k(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Le().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return me(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(Dn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(jn(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(C)},flatMap:function(e,t){return Wt(this,function(e,t,n){var r=Zt(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return Wt(this,qt(this,e,!0))},fromEntrySeq:function(){return new Bt(this)},get:function(e,t){return this.find(function(t,n){return he(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,o=nn(e);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,g):g)===g)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=s(e),o=(c(e)?Nt():Le()).asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),function(e){return(e=e||[]).push(r?[a,i]:i),e})});var i=Zt(e);return o.map(function(t){return Wt(e,i(t))})}(this,e,t)},has:function(e){return this.get(e,g)!==g},hasIn:function(e){return this.getIn(e,g)!==g},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(Mn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return Qt(this,e)},maxBy:function(e,t){return Qt(this,t,e)},min:function(e){return Qt(this,e?Rn(e):Ln)},minBy:function(e,t){return Qt(this,t?Rn(t):Ln,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Wt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Wt(this,Ht(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(jn(e),t)},sortBy:function(e,t){return Wt(this,Yt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Wt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Wt(this,function(e,t,n){var r=$t(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(j,o),s=!0;return new L(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,l=o[0],u=o[1];return t.call(n,u,l,i)?r===j?e:U(r,l,u,e):(s=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(jn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=c(e),n=s(e),r=t?1:0;return function(e,t){return t=Se(t,3432918353),t=Se(t<<15|t>>>-15,461845907),t=Se(t<<13|t>>>-13,5),t=Se((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=we((t=Se(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Un(ke(e),ke(t))|0}:function(e,t){r=r+Un(ke(e),ke(t))|0}:t?function(e){r=31*r+ke(e)|0}:function(e){r=r+ke(e)|0}),r)}(this))}});var Tn=n.prototype;Tn[f]=!0,Tn[B]=Tn.values,Tn.__toJS=Tn.toArray,Tn.__toStringMapper=Fn,Tn.inspect=Tn.toSource=function(){return this.toString()},Tn.chain=Tn.flatMap,Tn.contains=Tn.includes,function(){try{Object.defineProperty(Tn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Nn(r,{flip:function(){return Wt(this,Lt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return he(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return he(t,e)})},mapEntries:function(e,t){var n=this,r=0;return Wt(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Wt(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var On=r.prototype;function Mn(e,t){return t}function Dn(e,t){return[t,e]}function jn(e){return function(){return!e.apply(this,arguments)}}function Rn(e){return function(){return-e.apply(this,arguments)}}function Fn(e){return"string"==typeof e?JSON.stringify(e):e}function Bn(){return w(arguments)}function Ln(e,t){return e<t?1:e>t?-1:0}function Un(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return On[d]=!0,On[B]=Tn.entries,On.__toJS=Tn.toObject,On.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Fn(e)},Nn(o,{toKeyedSeq:function(){return new jt(this,!1)},filter:function(e,t){return Wt(this,Pt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return Wt(this,zt(this,!1))},slice:function(e,t){return Wt(this,Vt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=N(e,e<0?this.count():this.size);var r=this.slice(0,e);return Wt(this,1===n?r:r.concat(w(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return Wt(this,qt(this,e,!1))},get:function(e,t){return(e=I(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=I(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Wt(this,function(e,t){var n=$t(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(D,r),a=0;return new L(function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?U(n,a++,t):U(n,a++,o.value,o)})},n}(this,e))},interleave:function(){var e=[this].concat(w(arguments)),t=Gt(this.toSeq(),G.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Wt(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Wt(this,Ht(this,e,t,!1))},zip:function(){return Wt(this,Gt(this,Bn,[this].concat(w(arguments))))},zipWith:function(e){var t=w(arguments);return t[0]=this,Wt(this,Gt(this,e,t))}}),o.prototype[p]=!0,o.prototype[h]=!0,Nn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Tn.includes,Nn(K,r.prototype),Nn(G,o.prototype),Nn(W,i.prototype),Nn(_e,r.prototype),Nn(Ae,o.prototype),Nn(Ee,i.prototype),{Iterable:n,Seq:Q,Collection:be,Map:Le,OrderedMap:Nt,List:dt,Stack:En,Set:ln,OrderedSet:yn,Record:rn,Range:ge,Repeat:ye,is:he,fromJS:fe}}()},"./node_modules/draftjs-utils/lib/draftjs-utils.js":function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getStartKey(),o=t.getEndKey(),i=n.getBlockMap();return i.toSeq().skipUntil(function(e,t){return t===r}).takeUntil(function(e,t){return t===o}).concat([[o,i.get(o)]])}function o(e){return r(e).toList()}function i(e){if(e)return o(e).get(0)}function a(e){var t=s.RichUtils.tryToRemoveBlockStyle(e);return t?s.EditorState.push(e,t,"change-block-type"):e}Object.defineProperty(t,"__esModule",{value:!0}),t.blockRenderMap=void 0,t.getSelectedBlocksMap=r,t.getSelectedBlocksList=o,t.getSelectedBlock=i,t.getBlockBeforeSelectedBlock=function(e){if(e){var t=i(e),n=e.getCurrentContent(),r=n.getBlockMap().toSeq().toList(),o=0;if(r.forEach(function(e,n){e.get("key")===t.get("key")&&(o=n-1)}),o>-1)return r.get(o)}},t.getAllBlocks=function(e){return e?e.getCurrentContent().getBlockMap().toList():new l.List},t.getSelectedBlocksType=function(e){var t=o(e);if(!t.some(function(e){return e.type!==t.get(0).type}))return t.get(0).type},t.removeSelectedBlocksStyle=a,t.getSelectionText=function(e){var t="",n=e.getSelection(),r=n.getAnchorOffset(),i=n.getFocusOffset(),a=o(e);if(a.size>0){if(n.getIsBackward()){var s=r;r=i,i=s}for(var l=0;l<a.size;l+=1){var u=0===l?r:0,c=l===a.size-1?i:a.get(l).getText().length;t+=a.get(l).getText().slice(u,c)}}return t},t.addLineBreakRemovingSelection=function(e){var t=e.getCurrentContent(),n=e.getSelection(),r=s.Modifier.removeRange(t,n,"forward"),o=r.getSelectionAfter(),i=r.getBlockForKey(o.getStartKey());return r=s.Modifier.insertText(r,o,"\n",i.getInlineStyleAt(o.getStartOffset()),null),s.EditorState.push(e,r,"insert-fragment")},t.insertNewUnstyledBlock=function(e){var t=s.Modifier.splitBlock(e.getCurrentContent(),e.getSelection());return a(s.EditorState.push(e,t,"split-block"))},t.clearEditorContent=function(e){var t=e.getCurrentContent().getBlockMap().toList(),n=e.getSelection().merge({anchorKey:t.first().get("key"),anchorOffset:0,focusKey:t.last().get("key"),focusOffset:t.last().getLength()}),r=s.Modifier.removeRange(e.getCurrentContent(),n,"forward");return s.EditorState.push(e,r,"remove-range")},t.setBlockData=function(e,t){var n=s.Modifier.setBlockData(e.getCurrentContent(),e.getSelection(),t);return s.EditorState.push(e,n,"change-block-data")},t.getSelectedBlocksMetadata=function(e){var t=new l.Map({}),n=o(e);if(n&&n.size>0)for(var r=0;r<n.size;r+=1){var i=function(e){var r=n.get(e).getData();if(!r||0===r.size)return t=t.clear(),"break";if(0===e)t=r;else if(t.forEach(function(e,n){r.get(n)&&r.get(n)===e||(t=t.delete(n))}),0===t.size)return t=t.clear(),"break"}(r);if("break"===i)break}return t};var s=n(0),l=n(6),u=(0,l.Map)({code:{element:"pre"}});t.blockRenderMap=s.DefaultDraftBlockRenderMap.merge(u)},function(e,t,n){"use strict";function r(e,t,n){var r=e.getSelection(),o=e.getCurrentContent(),a=o.getBlockMap(),s=(0,i.getSelectedBlocksMap)(e).map(function(e){var r=e.getDepth()+t;return r=Math.max(0,Math.min(r,n)),e.set("depth",r)});return a=a.merge(s),o.merge({blockMap:a,selectionBefore:r,selectionAfter:r})}Object.defineProperty(t,"__esModule",{value:!0}),t.isListBlock=function(e){if(e){var t=e.getType();return"unordered-list-item"===t||"ordered-list-item"===t}return!1},t.changeDepth=function(e,t,n){var i=e.getSelection(),a=void 0;a=i.getIsBackward()?i.getFocusKey():i.getAnchorKey();var s=e.getCurrentContent(),l=s.getBlockForKey(a),u=l.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return e;var c=s.getBlockBefore(a);if(!c)return e;if(c.getType()!==u)return e;var f=l.getDepth();if(1===t&&f===n)return e;var d=Math.min(c.getDepth()+1,n),p=r(e,t,d);return o.EditorState.push(e,p,"adjust-depth")};var o=n(0),i=n(1)},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";var r=n(5),o=n(1),i=n(7),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=n(2);e.exports={getSelectedBlocksMap:o.getSelectedBlocksMap,getSelectedBlocksList:o.getSelectedBlocksList,getSelectedBlock:o.getSelectedBlock,getBlockBeforeSelectedBlock:o.getBlockBeforeSelectedBlock,getAllBlocks:o.getAllBlocks,getSelectedBlocksType:o.getSelectedBlocksType,removeSelectedBlocksStyle:o.removeSelectedBlocksStyle,getSelectionText:o.getSelectionText,addLineBreakRemovingSelection:o.addLineBreakRemovingSelection,insertNewUnstyledBlock:o.insertNewUnstyledBlock,clearEditorContent:o.clearEditorContent,setBlockData:o.setBlockData,getSelectedBlocksMetadata:o.getSelectedBlocksMetadata,blockRenderMap:o.blockRenderMap,getEntityRange:r.getEntityRange,getCustomStyleMap:r.getCustomStyleMap,toggleCustomInlineStyle:r.toggleCustomInlineStyle,getSelectionEntity:r.getSelectionEntity,extractInlineStyle:r.extractInlineStyle,removeAllInlineStyles:r.removeAllInlineStyles,getSelectionInlineStyle:r.getSelectionInlineStyle,getSelectionCustomInlineStyle:r.getSelectionCustomInlineStyle,handleNewLine:a.default,isListBlock:s.isListBlock,changeDepth:s.changeDepth}},function(e,t,n){"use strict";function r(e,t,n){var r=e.getInlineStyleAt(n).toList(),o=r.filter(function(e){return e.startsWith(t.toLowerCase())});if(o&&o.size>0)return o.get(0)}Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomStyleMap=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getSelectionInlineStyle=function(e){var t=e.getSelection();if(t.isCollapsed()){var n={},r=e.getCurrentInlineStyle().toList().toJS();if(r)return["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach(function(e){n[e]=r.indexOf(e)>=0}),n}var o=t.getStartOffset(),a=t.getEndOffset(),l=(0,s.getSelectedBlocksList)(e);if(l.size>0){var u=function(){for(var e={BOLD:!0,ITALIC:!0,UNDERLINE:!0,STRIKETHROUGH:!0,CODE:!0,SUPERSCRIPT:!0,SUBSCRIPT:!0},t=0;t<l.size;t+=1){var n=0===t?o:0,r=t===l.size-1?a:l.get(t).getText().length;n===r&&0===n?(n=1,r=2):n===r&&(n-=1);for(var i=n;i<r;i+=1)!function(n){var r=l.get(t).getInlineStyleAt(n);["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach(function(t){e[t]=e[t]&&r.get(t)===t})}(i)}return{v:e}}();if("object"===(void 0===u?"undefined":i(u)))return u.v}return{}},t.getSelectionEntity=function(e){var t=void 0,n=e.getSelection(),r=n.getStartOffset(),o=n.getEndOffset();r===o&&0===r?o=1:r===o&&(r-=1);for(var i=(0,s.getSelectedBlock)(e),a=r;a<o;a+=1){var l=i.getEntityAt(a);if(!l){t=void 0;break}if(a===r)t=l;else if(t!==l){t=void 0;break}}return t},t.getEntityRange=function(e,t){var n=(0,s.getSelectedBlock)(e),r=void 0;return n.findEntityRanges(function(e){return e.get("entity")===t},function(e,t){r={start:e,end:t,text:n.get("text").slice(e,t)}}),r},t.toggleCustomInlineStyle=function(e,t,n){var r=e.getSelection(),o=Object.keys(l[t]).reduce(function(e,t){return a.Modifier.removeInlineStyle(e,r,t)},e.getCurrentContent()),i=a.EditorState.push(e,o,"changeinline-style"),s=e.getCurrentInlineStyle();if(r.isCollapsed()&&(i=s.reduce(function(e,t){return a.RichUtils.toggleInlineStyle(e,t)},i)),"SUPERSCRIPT"===t||"SUBSCRIPT"==t)s.has(n)||(i=a.RichUtils.toggleInlineStyle(i,n));else{var c="bgcolor"===t?"backgroundColor":t;s.has(c+"-"+n)||(i=a.RichUtils.toggleInlineStyle(i,t.toLowerCase()+"-"+n),u(t,c,n))}return i},t.extractInlineStyle=function(e){e&&e.getCurrentContent().getBlockMap().map(function(e){return e.get("characterList")}).toList().flatten().forEach(function(e){e&&0===e.indexOf("color-")?u("color","color",e.substr(6)):e&&0===e.indexOf("bgcolor-")?u("bgcolor","backgroundColor",e.substr(8)):e&&0===e.indexOf("fontsize-")?u("fontSize","fontSize",+e.substr(9)):e&&0===e.indexOf("fontfamily-")&&u("fontFamily","fontFamily",e.substr(11))})},t.getSelectionCustomInlineStyle=function(e,t){if(e&&t&&t.length>0){var n=function(){var n=e.getSelection(),o={};if(n.isCollapsed())return t.forEach(function(t){o[t]=function(e,t){var n=e.getCurrentInlineStyle().toList().filter(function(e){return e.startsWith(t.toLowerCase())});if(n&&n.size>0)return n.get(0)}(e,t)}),{v:o};var i=n.getStartOffset(),a=n.getEndOffset(),l=(0,s.getSelectedBlocksList)(e);if(l.size>0){for(var u=0;u<l.size;u+=1)!function(e){var n=0===e?i:0,s=e===l.size-1?a:l.get(e).getText().length;n===s&&0===n?(n=1,s=2):n===s&&(n-=1);for(var u=n;u<s;u+=1)!function(i){i===n?t.forEach(function(t){o[t]=r(l.get(e),t,i)}):t.forEach(function(t){o[t]&&o[t]!==r(l.get(e),t,i)&&(o[t]=void 0)})}(u)}(u);return{v:o}}}();if("object"===(void 0===n?"undefined":i(n)))return n.v}return{}},t.removeAllInlineStyles=function(e){var t=e.getCurrentInlineStyle(),n=e.getCurrentContent();return t.forEach(function(t){n=a.Modifier.removeInlineStyle(n,e.getSelection(),t)}),a.EditorState.push(e,n,"change-inline-style")};var a=n(0),s=n(1),l={color:{},bgcolor:{},fontSize:{},fontFamily:{},CODE:{fontFamily:"monospace",wordWrap:"break-word",background:"#f1f1f1",borderRadius:3,padding:"1px 3px"},SUPERSCRIPT:{fontSize:11,position:"relative",top:-8,display:"inline-flex"},SUBSCRIPT:{fontSize:11,position:"relative",bottom:-8,display:"inline-flex"}},u=function(e,t,n){l[e][e.toLowerCase()+"-"+n]=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},""+t,n)};t.getCustomStyleMap=function(){return o({},l.color,l.bgcolor,l.fontSize,l.fontFamily,{CODE:l.CODE,SUPERSCRIPT:l.SUPERSCRIPT,SUBSCRIPT:l.SUBSCRIPT})}},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(e){return 13===e.which&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}(t)?e.getSelection().isCollapsed()?r.RichUtils.insertSoftNewline(e):(0,o.addLineBreakRemovingSelection)(e):function(e){var t=e.getSelection();if(t.isCollapsed()){var n=e.getCurrentContent(),r=t.getStartKey(),a=n.getBlockForKey(r);if(!(0,i.isListBlock)(a)&&"unstyled"!==a.getType()&&a.getLength()===t.getStartOffset())return(0,o.insertNewUnstyledBlock)(e);if((0,i.isListBlock)(a)&&0===a.getLength()){var s=a.getDepth();if(0===s)return(0,o.removeSelectedBlocksStyle)(e);if(s>0)return(0,i.changeDepth)(e,-1,s)}}}(e)};var r=n(0),o=n(1),i=n(2)}])}(n("./node_modules/draft-js/lib/Draft.js"),n("./node_modules/immutable/dist/immutable.js"))},"./node_modules/immutable/dist/immutable.js":function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:Q(e)}function r(e){return s(e)?e:K(e)}function o(e){return l(e)?e:G(e)}function i(e){return a(e)&&!u(e)?e:W(e)}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[d])}function l(e){return!(!e||!e[p])}function u(e){return s(e)||l(e)}function c(e){return!(!e||!e[h])}t(r,n),t(o,n),t(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=l,n.isAssociative=u,n.isOrdered=c,n.Keyed=r,n.Indexed=o,n.Set=i;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",h="@@__IMMUTABLE_ORDERED__@@",m=5,y=1<<m,v=y-1,g={},b={value:!1},_={value:!1};function A(e){return e.value=!1,e}function E(e){e&&(e.value=!0)}function S(){}function w(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function k(e){return void 0===e.size&&(e.size=e.__iterate(C)),e.size}function I(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?k(e)+t:t}function C(){return!0}function x(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function N(e,t){return O(e,t,0)}function T(e,t){return O(e,t,t)}function O(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var M=0,D=1,j=2,R="function"==typeof Symbol&&Symbol.iterator,F="@@iterator",B=R||F;function L(e){this.next=e}function U(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function z(){return{value:void 0,done:!0}}function P(e){return!!q(e)}function V(e){return e&&"function"==typeof e.next}function H(e){var t=q(e);return t&&t.call(e)}function q(e){var t=e&&(R&&e[R]||e[F]);if("function"==typeof t)return t}function Y(e){return e&&"number"==typeof e.length}function Q(e){return null===e||void 0===e?ie():a(e)?e.toSeq():function(e){var t=le(e)||"object"==typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function K(e){return null===e||void 0===e?ie().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():ae(e)}function G(e){return null===e||void 0===e?ie():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():se(e)}function W(e){return(null===e||void 0===e?ie():a(e)?s(e)?e.entrySeq():e:se(e)).toSetSeq()}L.prototype.toString=function(){return"[Iterator]"},L.KEYS=M,L.VALUES=D,L.ENTRIES=j,L.prototype.inspect=L.prototype.toSource=function(){return this.toString()},L.prototype[B]=function(){return this},t(Q,n),Q.of=function(){return Q(arguments)},Q.prototype.toSeq=function(){return this},Q.prototype.toString=function(){return this.__toString("Seq {","}")},Q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Q.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},Q.prototype.__iterator=function(e,t){return ce(this,e,t,!0)},t(K,Q),K.prototype.toKeyedSeq=function(){return this},t(G,Q),G.of=function(){return G(arguments)},G.prototype.toIndexedSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq [","]")},G.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},G.prototype.__iterator=function(e,t){return ce(this,e,t,!1)},t(W,Q),W.of=function(){return W(arguments)},W.prototype.toSetSeq=function(){return this},Q.isSeq=oe,Q.Keyed=K,Q.Set=W,Q.Indexed=G;var J,X,Z,$="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function re(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[$])}function ie(){return J||(J=new ee([]))}function ae(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():V(e)?new re(e).fromEntrySeq():P(e)?new ne(e).fromEntrySeq():"object"==typeof e?new te(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function se(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){return Y(e)?new ee(e):V(e)?new re(e):P(e)?new ne(e):void 0}function ue(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function ce(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new L(function(){var e=o[n?i-a:a];return a++>i?{value:void 0,done:!0}:U(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function fe(e,t){return t?function e(t,n,r,o){return Array.isArray(n)?t.call(o,r,G(n).map(function(r,o){return e(t,r,o,n)})):pe(n)?t.call(o,r,K(n).map(function(r,o){return e(t,r,o,n)})):n}(t,e,"",{"":e}):de(e)}function de(e){return Array.isArray(e)?G(e).map(de).toList():pe(e)?K(e).map(de).toMap():e}function pe(e){return e&&(e.constructor===Object||void 0===e.constructor)}function he(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function me(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||l(e)!==l(t)||c(e)!==c(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!u(e);if(c(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&he(o[1],e)&&(n||he(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var f=!0,d=t.__iterate(function(t,r){if(n?!e.has(t):o?!he(t,e.get(r,g)):!he(e.get(r,g),t))return f=!1,!1});return f&&e.size===d}function ye(e,t){if(!(this instanceof ye))return new ye(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(X)return X;X=this}}function ve(e,t){if(!e)throw new Error(t)}function ge(e,t,n){if(!(this instanceof ge))return new ge(e,t,n);if(ve(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function be(){throw TypeError("Abstract")}function _e(){}function Ae(){}function Ee(){}Q.prototype[$]=!0,t(ee,G),ee.prototype.get=function(e,t){return this.has(e)?this._array[I(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},ee.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new L(function(){return o>r?{value:void 0,done:!0}:U(e,o,n[t?r-o++:o++])})},t(te,K),te.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(!1===e(n[a],a,this))return i+1}return i},te.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new L(function(){var a=r[t?o-i:i];return i++>o?{value:void 0,done:!0}:U(e,a,n[a])})},te.prototype[h]=!0,t(ne,G),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=H(n),o=0;if(V(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,o++,this););return o},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=H(n);if(!V(r))return new L(z);var o=0;return new L(function(){var t=r.next();return t.done?t:U(e,o++,t.value)})},t(re,G),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===e(a,i++,this))break}return i},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new L(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return U(e,o,r[o++])})},t(ye,G),ye.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ye.prototype.get=function(e,t){return this.has(e)?this._value:t},ye.prototype.includes=function(e){return he(this._value,e)},ye.prototype.slice=function(e,t){var n=this.size;return x(e,t,n)?this:new ye(this._value,T(t,n)-N(e,n))},ye.prototype.reverse=function(){return this},ye.prototype.indexOf=function(e){return he(this._value,e)?0:-1},ye.prototype.lastIndexOf=function(e){return he(this._value,e)?this.size:-1},ye.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ye.prototype.__iterator=function(e,t){var n=this,r=0;return new L(function(){return r<n.size?U(e,r++,n._value):{value:void 0,done:!0}})},ye.prototype.equals=function(e){return e instanceof ye?he(this._value,e._value):me(e)},t(ge,G),ge.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},ge.prototype.get=function(e,t){return this.has(e)?this._start+I(this,e)*this._step:t},ge.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ge.prototype.slice=function(e,t){return x(e,t,this.size)?this:(e=N(e,this.size),(t=T(t,this.size))<=e?new ge(0,0):new ge(this.get(e,this._end),this.get(t,this._end),this._step))},ge.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},ge.prototype.lastIndexOf=function(e){return this.indexOf(e)},ge.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},ge.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new L(function(){var a=o;return o+=t?-r:r,i>n?{value:void 0,done:!0}:U(e,i++,a)})},ge.prototype.equals=function(e){return e instanceof ge?this._start===e._start&&this._end===e._end&&this._step===e._step:me(this,e)},t(be,n),t(_e,be),t(Ae,be),t(Ee,be),be.Keyed=_e,be.Indexed=Ae,be.Set=Ee;var Se="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function we(e){return e>>>1&1073741824|3221225471&e}function ke(e){if(!1===e||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return we(n)}if("string"===t)return e.length>De?function(e){var t=Fe[e];return void 0===t&&(t=Ie(e),Re===je&&(Re=0,Fe={}),Re++,Fe[e]=t),t}(e):Ie(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Te&&void 0!==(t=Ce.get(e)))return t;if(void 0!==(t=e[Me]))return t;if(!Ne){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Me]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Oe,1073741824&Oe&&(Oe=0),Te)Ce.set(e,t);else{if(void 0!==xe&&!1===xe(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Ne)Object.defineProperty(e,Me,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Me]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Me]=t}}return t}(e);if("function"==typeof e.toString)return Ie(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Ie(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return we(t)}var Ce,xe=Object.isExtensible,Ne=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Te="function"==typeof WeakMap;Te&&(Ce=new WeakMap);var Oe=0,Me="__immutablehash__";"function"==typeof Symbol&&(Me=Symbol(Me));var De=16,je=255,Re=0,Fe={};function Be(e){ve(e!==1/0,"Cannot perform this action with an infinite size.")}function Le(e){return null===e||void 0===e?Ze():Ue(e)&&!c(e)?e:Ze().withMutations(function(t){var n=r(e);Be(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Ue(e){return!(!e||!e[Pe])}t(Le,_e),Le.of=function(){var t=e.call(arguments,0);return Ze().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},Le.prototype.toString=function(){return this.__toString("Map {","}")},Le.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Le.prototype.set=function(e,t){return $e(this,e,t)},Le.prototype.setIn=function(e,t){return this.updateIn(e,g,function(){return t})},Le.prototype.remove=function(e){return $e(this,e,g)},Le.prototype.deleteIn=function(e){return this.updateIn(e,function(){return g})},Le.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Le.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,o){var i=t===g,a=n.next();if(a.done){var s=i?r:t,l=o(s);return l===s?t:l}ve(i||t&&t.set,"invalid keyPath");var u=a.value,c=i?g:t.get(u,g),f=e(c,n,r,o);return f===c?t:f===g?t.remove(u):(i?Ze():t).set(u,f)}(this,nn(e),t,n);return r===g?void 0:r},Le.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ze()},Le.prototype.merge=function(){return rt(this,void 0,arguments)},Le.prototype.mergeWith=function(t){var n=e.call(arguments,1);return rt(this,t,n)},Le.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ze(),function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]})},Le.prototype.mergeDeep=function(){return rt(this,ot,arguments)},Le.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return rt(this,it(t),n)},Le.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ze(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]})},Le.prototype.sort=function(e){return Nt(Yt(this,e))},Le.prototype.sortBy=function(e,t){return Nt(Yt(this,t,e))},Le.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Le.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new S)},Le.prototype.asImmutable=function(){return this.__ensureOwner()},Le.prototype.wasAltered=function(){return this.__altered},Le.prototype.__iterator=function(e,t){return new Ge(this,e,t)},Le.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},Le.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Xe(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Le.isMap=Ue;var ze,Pe="@@__IMMUTABLE_MAP__@@",Ve=Le.prototype;function He(e,t){this.ownerID=e,this.entries=t}function qe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Ye(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ke(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Ge(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Je(e._root)}function We(e,t){return U(e,t[0],t[1])}function Je(e,t){return{node:e,index:0,__prev:t}}function Xe(e,t,n,r){var o=Object.create(Ve);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Ze(){return ze||(ze=Xe(0))}function $e(e,t,n){var r,o;if(e._root){var i=A(b),a=A(_);if(r=et(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===g?-1:1:0)}else{if(n===g)return e;o=1,r=new He(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Xe(o,r):Ze()}function et(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===g?e:(E(s),E(a),new Ke(t,r,[o,i]))}function tt(e){return e.constructor===Ke||e.constructor===Qe}function nt(e,t,n,r,o){if(e.keyHash===r)return new Qe(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&v,s=(0===n?r:r>>>n)&v,l=a===s?[nt(e,t,n+m,r,o)]:(i=new Ke(t,r,o),a<s?[e,i]:[i,e]);return new qe(t,1<<a|1<<s,l)}function rt(e,t,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],l=r(s);a(s)||(l=l.map(function(e){return fe(e)})),o.push(l)}return at(e,t,o)}function ot(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):he(e,t)?e:t}function it(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return he(t,o)?t:o}}function at(e,t,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,g,function(e){return e===g?n:t(e,n,r)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)}):e.constructor(n[0])}function st(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function lt(e,t,n,r){var o=r?e:w(e);return o[t]=n,o}Ve[Pe]=!0,Ve.delete=Ve.remove,Ve.removeIn=Ve.deleteIn,He.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(he(n,o[i][0]))return o[i][1];return r},He.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===g,l=this.entries,u=0,c=l.length;u<c&&!he(r,l[u][0]);u++);var f=u<c;if(f?l[u][1]===o:s)return this;if(E(a),(s||!f)&&E(i),!s||1!==l.length){if(!f&&!s&&l.length>=ut)return function(e,t,n,r){e||(e=new S);for(var o=new Ke(e,ke(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,l,r,o);var d=e&&e===this.ownerID,p=d?l:w(l);return f?s?u===c-1?p.pop():p[u]=p.pop():p[u]=[r,o]:p.push([r,o]),d?(this.entries=p,this):new He(e,p)}},qe.prototype.get=function(e,t,n,r){void 0===t&&(t=ke(n));var o=1<<((0===e?t:t>>>e)&v),i=this.bitmap;return 0==(i&o)?r:this.nodes[st(i&o-1)].get(e+m,t,n,r)},qe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ke(r));var s=(0===t?n:n>>>t)&v,l=1<<s,u=this.bitmap,c=0!=(u&l);if(!c&&o===g)return this;var f=st(u&l-1),d=this.nodes,p=c?d[f]:void 0,h=et(p,e,t+m,n,r,o,i,a);if(h===p)return this;if(!c&&h&&d.length>=ct)return function(e,t,n,r,o){for(var i=0,a=new Array(y),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new Ye(e,i+1,a)}(e,d,u,s,h);if(c&&!h&&2===d.length&&tt(d[1^f]))return d[1^f];if(c&&h&&1===d.length&&tt(h))return h;var b=e&&e===this.ownerID,_=c?h?u:u^l:u|l,A=c?h?lt(d,f,h,b):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}(d,f,b):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}(d,f,h,b);return b?(this.bitmap=_,this.nodes=A,this):new qe(e,_,A)},Ye.prototype.get=function(e,t,n,r){void 0===t&&(t=ke(n));var o=(0===e?t:t>>>e)&v,i=this.nodes[o];return i?i.get(e+m,t,n,r):r},Ye.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ke(r));var s=(0===t?n:n>>>t)&v,l=o===g,u=this.nodes,c=u[s];if(l&&!c)return this;var f=et(c,e,t+m,n,r,o,i,a);if(f===c)return this;var d=this.count;if(c){if(!f&&--d<ft)return function(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];void 0!==c&&s!==r&&(o|=l,a[i++]=c)}return new qe(e,o,a)}(e,u,d,s)}else d++;var p=e&&e===this.ownerID,h=lt(u,s,f,p);return p?(this.count=d,this.nodes=h,this):new Ye(e,d,h)},Qe.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(he(n,o[i][0]))return o[i][1];return r},Qe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ke(r));var s=o===g;if(n!==this.keyHash)return s?this:(E(a),E(i),nt(this,e,t,n,[r,o]));for(var l=this.entries,u=0,c=l.length;u<c&&!he(r,l[u][0]);u++);var f=u<c;if(f?l[u][1]===o:s)return this;if(E(a),(s||!f)&&E(i),s&&2===c)return new Ke(e,this.keyHash,l[1^u]);var d=e&&e===this.ownerID,p=d?l:w(l);return f?s?u===c-1?p.pop():p[u]=p.pop():p[u]=[r,o]:p.push([r,o]),d?(this.entries=p,this):new Qe(e,this.keyHash,p)},Ke.prototype.get=function(e,t,n,r){return he(n,this.entry[0])?this.entry[1]:r},Ke.prototype.update=function(e,t,n,r,o,i,a){var s=o===g,l=he(r,this.entry[0]);return(l?o===this.entry[1]:s)?this:(E(a),s?void E(i):l?e&&e===this.ownerID?(this.entry[1]=o,this):new Ke(e,this.keyHash,[r,o]):(E(i),nt(this,e,t,ke(r),[r,o])))},He.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},qe.prototype.iterate=Ye.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Ke.prototype.iterate=function(e,t){return e(this.entry)},t(Ge,L),Ge.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return We(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return We(e,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return We(e,i.entry);t=this._stack=Je(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ut=y/4,ct=y/2,ft=y/4;function dt(e){var t=Et();if(null===e||void 0===e)return t;if(pt(e))return e;var n=o(e),r=n.size;return 0===r?t:(Be(r),r>0&&r<y?At(0,r,m,null,new yt(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function pt(e){return!(!e||!e[ht])}t(dt,Ae),dt.of=function(){return this(arguments)},dt.prototype.toString=function(){return this.__toString("List [","]")},dt.prototype.get=function(e,t){if((e=I(this,e))>=0&&e<this.size){var n=kt(this,e+=this._origin);return n&&n.array[e&v]}return t},dt.prototype.set=function(e,t){return function(e,t,n){if((t=I(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?It(e,t).set(0,n):It(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i=A(_);return t>=xt(e._capacity)?r=St(r,e.__ownerID,0,t,n,i):o=St(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):At(e._origin,e._capacity,e._level,o,r):e}(this,e,t)},dt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},dt.prototype.insert=function(e,t){return this.splice(e,0,t)},dt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Et()},dt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){It(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},dt.prototype.pop=function(){return It(this,0,-1)},dt.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){It(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},dt.prototype.shift=function(){return It(this,1)},dt.prototype.merge=function(){return Ct(this,void 0,arguments)},dt.prototype.mergeWith=function(t){var n=e.call(arguments,1);return Ct(this,t,n)},dt.prototype.mergeDeep=function(){return Ct(this,ot,arguments)},dt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ct(this,it(t),n)},dt.prototype.setSize=function(e){return It(this,0,e)},dt.prototype.slice=function(e,t){var n=this.size;return x(e,t,n)?this:It(this,N(e,n),T(t,n))},dt.prototype.__iterator=function(e,t){var n=0,r=_t(this,t);return new L(function(){var t=r();return t===bt?{value:void 0,done:!0}:U(e,n++,t)})},dt.prototype.__iterate=function(e,t){for(var n,r=0,o=_t(this,t);(n=o())!==bt&&!1!==e(n,r++,this););return r},dt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?At(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},dt.isList=pt;var ht="@@__IMMUTABLE_LIST__@@",mt=dt.prototype;function yt(e,t){this.array=e,this.ownerID=t}mt[ht]=!0,mt.delete=mt.remove,mt.setIn=Ve.setIn,mt.deleteIn=mt.removeIn=Ve.removeIn,mt.update=Ve.update,mt.updateIn=Ve.updateIn,mt.mergeIn=Ve.mergeIn,mt.mergeDeepIn=Ve.mergeDeepIn,mt.withMutations=Ve.withMutations,mt.asMutable=Ve.asMutable,mt.asImmutable=Ve.asImmutable,mt.wasAltered=Ve.wasAltered,yt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&v;if(r>=this.array.length)return new yt([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-m,n))===a&&i)return this}if(i&&!o)return this;var s=wt(this,e);if(!i)for(var l=0;l<r;l++)s.array[l]=void 0;return o&&(s.array[r]=o),s},yt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&v;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-m,n))===i&&o===this.array.length-1)return this}var a=wt(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var vt,gt,bt={};function _t(e,t){var n=e._origin,r=e._capacity,o=xt(r),i=e._tail;return a(e._root,e._level,0);function a(e,s,l){return 0===s?function(e,a){var s=a===o?i&&i.array:e&&e.array,l=a>n?0:n-a,u=r-a;return u>y&&(u=y),function(){if(l===u)return bt;var e=t?--u:l++;return s&&s[e]}}(e,l):function(e,o,i){var s,l=e&&e.array,u=i>n?0:n-i>>o,c=1+(r-i>>o);return c>y&&(c=y),function(){for(;;){if(s){var e=s();if(e!==bt)return e;s=null}if(u===c)return bt;var n=t?--c:u++;s=a(l&&l[n],o-m,i+(n<<o))}}}(e,s,l)}}function At(e,t,n,r,o,i,a){var s=Object.create(mt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Et(){return vt||(vt=At(0,0,m))}function St(e,t,n,r,o,i){var a,s=r>>>n&v,l=e&&s<e.array.length;if(!l&&void 0===o)return e;if(n>0){var u=e&&e.array[s],c=St(u,t,n-m,r,o,i);return c===u?e:((a=wt(e,t)).array[s]=c,a)}return l&&e.array[s]===o?e:(E(i),a=wt(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function wt(e,t){return t&&e&&t===e.ownerID?e:new yt(e?e.array.slice():[],t)}function kt(e,t){if(t>=xt(e._capacity))return e._tail;if(t<1<<e._level+m){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&v],r-=m;return n}}function It(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new S,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var l=e._level,u=e._root,c=0;a+c<0;)u=new yt(u&&u.array.length?[void 0,u]:[],r),c+=1<<(l+=m);c&&(a+=c,o+=c,s+=c,i+=c);for(var f=xt(i),d=xt(s);d>=1<<l+m;)u=new yt(u&&u.array.length?[u]:[],r),l+=m;var p=e._tail,h=d<f?kt(e,s-1):d>f?new yt([],r):p;if(p&&d>f&&a<i&&p.array.length){for(var y=u=wt(u,r),g=l;g>m;g-=m){var b=f>>>g&v;y=y.array[b]=wt(y.array[b],r)}y.array[f>>>m&v]=p}if(s<i&&(h=h&&h.removeAfter(r,0,s)),a>=d)a-=d,s-=d,l=m,u=null,h=h&&h.removeBefore(r,0,a);else if(a>o||d<f){for(c=0;u;){var _=a>>>l&v;if(_!==d>>>l&v)break;_&&(c+=(1<<l)*_),l-=m,u=u.array[_]}u&&a>o&&(u=u.removeBefore(r,l,a-c)),u&&d<f&&(u=u.removeAfter(r,l,d-c)),c&&(a-=c,s-=c)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=l,e._root=u,e._tail=h,e.__hash=void 0,e.__altered=!0,e):At(a,s,l,u,h)}function Ct(e,t,n){for(var r=[],i=0,s=0;s<n.length;s++){var l=n[s],u=o(l);u.size>i&&(i=u.size),a(l)||(u=u.map(function(e){return fe(e)})),r.push(u)}return i>e.size&&(e=e.setSize(i)),at(e,t,r)}function xt(e){return e<y?0:e-1>>>m<<m}function Nt(e){return null===e||void 0===e?Mt():Tt(e)?e:Mt().withMutations(function(t){var n=r(e);Be(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Tt(e){return Ue(e)&&c(e)}function Ot(e,t,n,r){var o=Object.create(Nt.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Mt(){return gt||(gt=Ot(Ze(),Et()))}function Dt(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),l=void 0!==s;if(n===g){if(!l)return e;a.size>=y&&a.size>=2*i.size?(o=a.filter(function(e,t){return void 0!==e&&s!==t}),r=o.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Ot(r,o)}function jt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Rt(e){this._iter=e,this.size=e.size}function Ft(e){this._iter=e,this.size=e.size}function Bt(e){this._iter=e,this.size=e.size}function Lt(e){var t=$t(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=en,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===j){var r=e.__iterator(t,n);return new L(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===D?M:D,n)},t}function Ut(e,t,n){var r=$t(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,g);return i===g?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(j,o);return new L(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return U(r,s,t.call(n,a[1],s,e),o)})},r}function zt(e,t){var n=$t(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Lt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=en,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Pt(e,t,n,r){var o=$t(e);return r&&(o.has=function(r){var o=e.get(r,g);return o!==g&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,g);return i!==g&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate(function(e,i,l){if(t.call(n,e,i,l))return s++,o(e,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(j,i),s=0;return new L(function(){for(;;){var i=a.next();if(i.done)return i;var l=i.value,u=l[0],c=l[1];if(t.call(n,c,u,e))return U(o,r?u:s++,c,i)}})},o}function Vt(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=o:n|=0),x(t,n,o))return e;var i=N(t,o),a=T(n,o);if(i!=i||a!=a)return Vt(e.toSeq().cacheResult(),t,n,r);var s,l=a-i;l==l&&(s=l<0?0:l);var u=$t(e);return u.size=0===s?s:e.size&&s||void 0,!r&&oe(e)&&s>=0&&(u.get=function(t,n){return(t=I(this,t))>=0&&t<s?e.get(t+i,n):n}),u.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,l=!0,u=0;return e.__iterate(function(e,n){if(!l||!(l=a++<i))return u++,!1!==t(e,r?n:u-1,o)&&u!==s}),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,l=0;return new L(function(){for(;a++<i;)o.next();if(++l>s)return{value:void 0,done:!0};var e=o.next();return r||t===D?e:U(t,l-1,t===M?void 0:e.value[1],e)})},u}function Ht(e,t,n,r){var o=$t(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,l=0;return e.__iterate(function(e,i,u){if(!s||!(s=t.call(n,e,i,u)))return l++,o(e,r?i:l-1,a)}),l},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(j,i),l=!0,u=0;return new L(function(){var e,i,c;do{if((e=s.next()).done)return r||o===D?e:U(o,u++,o===M?void 0:e.value[1],e);var f=e.value;i=f[0],c=f[1],l&&(l=t.call(n,c,i,a))}while(l);return o===j?e:U(o,i,c,e)})},o}function qt(e,t,n){var r=$t(e);return r.__iterateUncached=function(r,o){var i=0,s=!1;return function e(l,u){var c=this;l.__iterate(function(o,l){return(!t||u<t)&&a(o)?e(o,u+1):!1===r(o,n?l:i++,c)&&(s=!0),!s},o)}(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),s=[],l=0;return new L(function(){for(;i;){var e=i.next();if(!1===e.done){var u=e.value;if(r===j&&(u=u[1]),t&&!(s.length<t)||!a(u))return n?e:U(r,l++,u,e);s.push(i),i=u.__iterator(r,o)}else i=s.pop()}return{value:void 0,done:!0}})},r}function Yt(e,t,n){t||(t=tn);var r=s(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?K(i):l(e)?G(i):W(i)}function Qt(e,t,n){if(t||(t=tn),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return Kt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return Kt(t,e,n)?n:e})}function Kt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!=n)||r>0}function Gt(e,t,r){var o=$t(e);return o.size=new ee(r).map(function(e){return e.size}).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(D,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map(function(e){return e=n(e),H(o?e.reverse():e)}),a=0,s=!1;return new L(function(){var n;return s||(n=i.map(function(e){return e.next()}),s=n.some(function(e){return e.done})),s?{value:void 0,done:!0}:U(e,a++,t.apply(null,n.map(function(e){return e.value})))})},o}function Wt(e,t){return oe(e)?t:e.constructor(t)}function Jt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Xt(e){return Be(e.size),k(e)}function Zt(e){return s(e)?r:l(e)?o:i}function $t(e){return Object.create((s(e)?K:l(e)?G:W).prototype)}function en(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Q.prototype.cacheResult.call(this)}function tn(e,t){return e>t?1:e<t?-1:0}function nn(e){var t=H(e);if(!t){if(!Y(e))throw new TypeError("Expected iterable or array-like: "+e);t=H(n(e))}return t}function rn(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ve(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(e){}}(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Le(i)},o=r.prototype=Object.create(on);return o.constructor=r,r}t(Nt,Le),Nt.of=function(){return this(arguments)},Nt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Nt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Nt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Mt()},Nt.prototype.set=function(e,t){return Dt(this,e,t)},Nt.prototype.remove=function(e){return Dt(this,e,g)},Nt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Nt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Nt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Nt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Ot(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Nt.isOrderedMap=Tt,Nt.prototype[h]=!0,Nt.prototype.delete=Nt.prototype.remove,t(jt,K),jt.prototype.get=function(e,t){return this._iter.get(e,t)},jt.prototype.has=function(e){return this._iter.has(e)},jt.prototype.valueSeq=function(){return this._iter.valueSeq()},jt.prototype.reverse=function(){var e=this,t=zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},jt.prototype.map=function(e,t){var n=this,r=Ut(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},jt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Xt(this):0,function(o){return e(o,t?--n:n++,r)}),t)},jt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(D,t),r=t?Xt(this):0;return new L(function(){var o=n.next();return o.done?o:U(e,t?--r:r++,o.value,o)})},jt.prototype[h]=!0,t(Rt,G),Rt.prototype.includes=function(e){return this._iter.includes(e)},Rt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},Rt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(D,t),r=0;return new L(function(){var t=n.next();return t.done?t:U(e,r++,t.value,t)})},t(Ft,W),Ft.prototype.has=function(e){return this._iter.includes(e)},Ft.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},Ft.prototype.__iterator=function(e,t){var n=this._iter.__iterator(D,t);return new L(function(){var t=n.next();return t.done?t:U(e,t.value,t.value,t)})},t(Bt,K),Bt.prototype.entrySeq=function(){return this._iter.toSeq()},Bt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Jt(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},Bt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(D,t);return new L(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Jt(r);var o=a(r);return U(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},Rt.prototype.cacheResult=jt.prototype.cacheResult=Ft.prototype.cacheResult=Bt.prototype.cacheResult=en,t(rn,_e),rn.prototype.toString=function(){return this.__toString(sn(this)+" {","}")},rn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},rn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=an(this,Ze()))},rn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+sn(this));if(this._map&&!this._map.has(e)){var n=this._defaultValues[e];if(t===n)return this}var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:an(this,r)},rn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:an(this,t)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},rn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?an(this,t,e):(this.__ownerID=e,this._map=t,this)};var on=rn.prototype;function an(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function sn(e){return e._name||e.constructor.name||"Record"}function ln(e){return null===e||void 0===e?mn():un(e)&&!c(e)?e:mn().withMutations(function(t){var n=i(e);Be(n.size),n.forEach(function(e){return t.add(e)})})}function un(e){return!(!e||!e[fn])}on.delete=on.remove,on.deleteIn=on.removeIn=Ve.removeIn,on.merge=Ve.merge,on.mergeWith=Ve.mergeWith,on.mergeIn=Ve.mergeIn,on.mergeDeep=Ve.mergeDeep,on.mergeDeepWith=Ve.mergeDeepWith,on.mergeDeepIn=Ve.mergeDeepIn,on.setIn=Ve.setIn,on.update=Ve.update,on.updateIn=Ve.updateIn,on.withMutations=Ve.withMutations,on.asMutable=Ve.asMutable,on.asImmutable=Ve.asImmutable,t(ln,Ee),ln.of=function(){return this(arguments)},ln.fromKeys=function(e){return this(r(e).keySeq())},ln.prototype.toString=function(){return this.__toString("Set {","}")},ln.prototype.has=function(e){return this._map.has(e)},ln.prototype.add=function(e){return pn(this,this._map.set(e,!0))},ln.prototype.remove=function(e){return pn(this,this._map.remove(e))},ln.prototype.clear=function(){return pn(this,this._map.clear())},ln.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},ln.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return i(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},ln.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return i(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},ln.prototype.merge=function(){return this.union.apply(this,arguments)},ln.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},ln.prototype.sort=function(e){return yn(Yt(this,e))},ln.prototype.sortBy=function(e,t){return yn(Yt(this,t,e))},ln.prototype.wasAltered=function(){return this._map.wasAltered()},ln.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},ln.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},ln.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},ln.isSet=un;var cn,fn="@@__IMMUTABLE_SET__@@",dn=ln.prototype;function pn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function hn(e,t){var n=Object.create(dn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function mn(){return cn||(cn=hn(Ze()))}function yn(e){return null===e||void 0===e?An():vn(e)?e:An().withMutations(function(t){var n=i(e);Be(n.size),n.forEach(function(e){return t.add(e)})})}function vn(e){return un(e)&&c(e)}dn[fn]=!0,dn.delete=dn.remove,dn.mergeDeep=dn.merge,dn.mergeDeepWith=dn.mergeWith,dn.withMutations=Ve.withMutations,dn.asMutable=Ve.asMutable,dn.asImmutable=Ve.asImmutable,dn.__empty=mn,dn.__make=hn,t(yn,ln),yn.of=function(){return this(arguments)},yn.fromKeys=function(e){return this(r(e).keySeq())},yn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},yn.isOrderedSet=vn;var gn,bn=yn.prototype;function _n(e,t){var n=Object.create(bn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function An(){return gn||(gn=_n(Mt()))}function En(e){return null===e||void 0===e?xn():Sn(e)?e:xn().unshiftAll(e)}function Sn(e){return!(!e||!e[kn])}bn[h]=!0,bn.__empty=An,bn.__make=_n,t(En,Ae),En.of=function(){return this(arguments)},En.prototype.toString=function(){return this.__toString("Stack [","]")},En.prototype.get=function(e,t){var n=this._head;for(e=I(this,e);n&&e--;)n=n.next;return n?n.value:t},En.prototype.peek=function(){return this._head&&this._head.value},En.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Cn(e,t)},En.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;Be(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Cn(t,n)},En.prototype.pop=function(){return this.slice(1)},En.prototype.unshift=function(){return this.push.apply(this,arguments)},En.prototype.unshiftAll=function(e){return this.pushAll(e)},En.prototype.shift=function(){return this.pop.apply(this,arguments)},En.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):xn()},En.prototype.slice=function(e,t){if(x(e,t,this.size))return this;var n=N(e,this.size),r=T(t,this.size);if(r!==this.size)return Ae.prototype.slice.call(this,e,t);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):Cn(o,i)},En.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Cn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},En.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},En.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new L(function(){if(r){var t=r.value;return r=r.next,U(e,n++,t)}return{value:void 0,done:!0}})},En.isStack=Sn;var wn,kn="@@__IMMUTABLE_STACK__@@",In=En.prototype;function Cn(e,t,n,r){var o=Object.create(In);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function xn(){return wn||(wn=Cn(0))}function Nn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}In[kn]=!0,In.withMutations=Ve.withMutations,In.asMutable=Ve.asMutable,In.asImmutable=Ve.asImmutable,In.wasAltered=Ve.wasAltered,n.Iterator=L,Nn(n,{toArray:function(){Be(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new Rt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new jt(this,!0)},toMap:function(){return Le(this.toKeyedSeq())},toObject:function(){Be(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Nt(this.toKeyedSeq())},toOrderedSet:function(){return yn(s(this)?this.valueSeq():this)},toSet:function(){return ln(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ft(this)},toSeq:function(){return l(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return En(s(this)?this.valueSeq():this)},toList:function(){return dt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Wt(this,function(e,t){var n=s(e),o=[e].concat(t).map(function(e){return a(e)?n&&(e=r(e)):e=n?ae(e):se(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||n&&s(i)||l(e)&&l(i))return i}var u=new ee(o);return n?u=u.toKeyedSeq():l(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=o.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),u}(this,t))},includes:function(e){return this.some(function(t){return he(t,e)})},entries:function(){return this.__iterator(j)},every:function(e,t){Be(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return Wt(this,Pt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Be(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Be(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(M)},map:function(e,t){return Wt(this,Ut(this,e,t))},reduce:function(e,t,n){var r,o;return Be(this.size),arguments.length<2?o=!0:r=t,this.__iterate(function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Wt(this,zt(this,!0))},slice:function(e,t){return Wt(this,Vt(this,e,t,!0))},some:function(e,t){return!this.every(jn(e),t)},sort:function(e){return Wt(this,Yt(this,e))},values:function(){return this.__iterator(D)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return k(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Le().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return me(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(Dn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(jn(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,o,i){if(e.call(t,n,o,i))return r=[o,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(C)},flatMap:function(e,t){return Wt(this,function(e,t,n){var r=Zt(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return Wt(this,qt(this,e,!0))},fromEntrySeq:function(){return new Bt(this)},get:function(e,t){return this.find(function(t,n){return he(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,o=nn(e);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,g):g)===g)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=s(e),o=(c(e)?Nt():Le()).asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),function(e){return(e=e||[]).push(r?[a,i]:i),e})});var i=Zt(e);return o.map(function(t){return Wt(e,i(t))})}(this,e,t)},has:function(e){return this.get(e,g)!==g},hasIn:function(e){return this.getIn(e,g)!==g},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return he(t,e)})},keySeq:function(){return this.toSeq().map(Mn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Qt(this,e)},maxBy:function(e,t){return Qt(this,t,e)},min:function(e){return Qt(this,e?Rn(e):Ln)},minBy:function(e,t){return Qt(this,t?Rn(t):Ln,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Wt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Wt(this,Ht(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(jn(e),t)},sortBy:function(e,t){return Wt(this,Yt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Wt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Wt(this,function(e,t,n){var r=$t(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(j,o),s=!0;return new L(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,l=o[0],u=o[1];return t.call(n,u,l,i)?r===j?e:U(r,l,u,e):(s=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(jn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=c(e),n=s(e),r=t?1:0;return function(e,t){return t=Se(t,3432918353),t=Se(t<<15|t>>>-15,461845907),t=Se(t<<13|t>>>-13,5),t=Se((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=we((t=Se(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Un(ke(e),ke(t))|0}:function(e,t){r=r+Un(ke(e),ke(t))|0}:t?function(e){r=31*r+ke(e)|0}:function(e){r=r+ke(e)|0}),r)}(this))}});var Tn=n.prototype;Tn[f]=!0,Tn[B]=Tn.values,Tn.__toJS=Tn.toArray,Tn.__toStringMapper=Fn,Tn.inspect=Tn.toSource=function(){return this.toString()},Tn.chain=Tn.flatMap,Tn.contains=Tn.includes,Nn(r,{flip:function(){return Wt(this,Lt(this))},mapEntries:function(e,t){var n=this,r=0;return Wt(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Wt(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var On=r.prototype;function Mn(e,t){return t}function Dn(e,t){return[t,e]}function jn(e){return function(){return!e.apply(this,arguments)}}function Rn(e){return function(){return-e.apply(this,arguments)}}function Fn(e){return"string"==typeof e?JSON.stringify(e):String(e)}function Bn(){return w(arguments)}function Ln(e,t){return e<t?1:e>t?-1:0}function Un(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return On[d]=!0,On[B]=Tn.entries,On.__toJS=Tn.toObject,On.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Fn(e)},Nn(o,{toKeyedSeq:function(){return new jt(this,!1)},filter:function(e,t){return Wt(this,Pt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Wt(this,zt(this,!1))},slice:function(e,t){return Wt(this,Vt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=N(e,e<0?this.count():this.size);var r=this.slice(0,e);return Wt(this,1===n?r:r.concat(w(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Wt(this,qt(this,e,!1))},get:function(e,t){return(e=I(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=I(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Wt(this,function(e,t){var n=$t(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(D,r),a=0;return new L(function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?U(n,a++,t):U(n,a++,o.value,o)})},n}(this,e))},interleave:function(){var e=[this].concat(w(arguments)),t=Gt(this.toSeq(),G.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Wt(this,n)},keySeq:function(){return ge(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Wt(this,Ht(this,e,t,!1))},zip:function(){return Wt(this,Gt(this,Bn,[this].concat(w(arguments))))},zipWith:function(e){var t=w(arguments);return t[0]=this,Wt(this,Gt(this,e,t))}}),o.prototype[p]=!0,o.prototype[h]=!0,Nn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Tn.includes,i.prototype.contains=i.prototype.includes,Nn(K,r.prototype),Nn(G,o.prototype),Nn(W,i.prototype),Nn(_e,r.prototype),Nn(Ae,o.prototype),Nn(Ee,i.prototype),{Iterable:n,Seq:Q,Collection:be,Map:Le,OrderedMap:Nt,List:dt,Stack:En,Set:ln,OrderedSet:yn,Record:rn,Range:ge,Repeat:ye,is:he,fromJS:fe}}()},"./node_modules/lc-time-format/index.js":function(e,t,n){"use strict";e.exports=function(e,t){var n;return n="string"==typeof e?new Date(e):e,t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("Y",n.getFullYear().toString())).replace("y",n.getFullYear().toString().slice(-2))).replace("m",n.getMonth()+1+"")).replace("M",(n.getMonth()>8?n.getMonth()+1:"0"+(n.getMonth()+1))+"")).replace("D",(n.getDate()>9?n.getDate():"0"+n.getDate())+"")).replace("d",n.getDate().toString())).replace("H",(n.getHours()>9?n.getHours():"0"+n.getHours())+"")).replace("h",n.getHours().toString())).replace("N",(n.getMinutes()>9?n.getMinutes():"0"+n.getMinutes())+"")).replace("n",n.getMinutes().toString())).replace("S",(n.getSeconds()>9?n.getSeconds():"0"+n.getSeconds())+"")).replace("s",n.getSeconds().toString())}},"./node_modules/react-dom/cjs/react-dom-server.browser.production.min.js":function(e,t,n){"use strict";
/** @license React v16.5.2
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n("./node_modules/object-assign/index.js"),o=n("./node_modules/react/index.js");function i(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,i,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var a="function"==typeof Symbol&&Symbol.for,s=a?Symbol.for("react.portal"):60106,l=a?Symbol.for("react.fragment"):60107,u=a?Symbol.for("react.strict_mode"):60108,c=a?Symbol.for("react.profiler"):60114,f=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,p=a?Symbol.for("react.async_mode"):60111,h=a?Symbol.for("react.forward_ref"):60112,m=a?Symbol.for("react.placeholder"):60113;function y(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"AsyncMode";case l:return"Fragment";case s:return"Portal";case c:return"Profiler";case u:return"StrictMode";case m:return"Placeholder"}if("object"==typeof e){switch(e.$$typeof){case d:return"Context.Consumer";case f:return"Context.Provider";case h:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef")}if("function"==typeof e.then&&(e=1===e._reactStatus?e._reactResult:null))return y(e)}return null}var v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g=Object.prototype.hasOwnProperty,b={},_={};function A(e){return!!g.call(_,e)||!g.call(b,e)&&(v.test(e)?_[e]=!0:(b[e]=!0,!1))}function E(e,t,n,r){if(null===t||void 0===t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function S(e,t,n,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new S(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];w[t]=new S(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new S(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new S(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new S(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new S(e,3,!0,e,null)}),["capture","download"].forEach(function(e){w[e]=new S(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){w[e]=new S(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){w[e]=new S(e,5,!1,e.toLowerCase(),null)});var k=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(k,I);w[t]=new S(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(k,I);w[t]=new S(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(k,I);w[t]=new S(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),w.tabIndex=new S("tabIndex",1,!1,"tabindex",null);var C=/["'&<>]/;function x(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=C.exec(e);if(t){var n,r="",o=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==n&&(r+=e.substring(o,n)),o=n+1,r+=t}e=o!==n?r+e.substring(o,n):r}return e}var N={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function T(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var O={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},M=r({menuitem:!0},O),D={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j=["Webkit","ms","Moz","O"];Object.keys(D).forEach(function(e){j.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),D[t]=D[e]})});var R=/([A-Z])/g,F=/^ms-/,B=o.Children.toArray,L={listing:!0,pre:!0,textarea:!0},U=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,z={},P={};var V={};var H=Object.prototype.hasOwnProperty,q={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Y(e,t){void 0===e&&i("152",y(t)||"Component")}function Q(e,t){function n(n,o){var a=function(e,t){if(e=e.contextTypes){var n,r={};for(n in e)r[n]=t[n];t=r}else t=V;return t}(o,t),s=[],l=!1,u={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===s)return null},enqueueReplaceState:function(e,t){l=!0,s=[t]},enqueueSetState:function(e,t){if(null===s)return null;s.push(t)}},c=void 0;if(o.prototype&&o.prototype.isReactComponent){if(c=new o(n.props,a,u),"function"==typeof o.getDerivedStateFromProps){var f=o.getDerivedStateFromProps.call(null,n.props,c.state);null!=f&&(c.state=r({},c.state,f))}}else if(null==(c=o(n.props,a,u))||null==c.render)return void Y(e=c,o);if(c.props=n.props,c.context=a,c.updater=u,void 0===(u=c.state)&&(c.state=u=null),"function"==typeof c.UNSAFE_componentWillMount||"function"==typeof c.componentWillMount)if("function"==typeof c.componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&c.componentWillMount(),"function"==typeof c.UNSAFE_componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&c.UNSAFE_componentWillMount(),s.length){u=s;var d=l;if(s=null,l=!1,d&&1===u.length)c.state=u[0];else{f=d?u[0]:c.state;var p=!0;for(d=d?1:0;d<u.length;d++){var h=u[d];null!=(h="function"==typeof h?h.call(c,f,n.props,a):h)&&(p?(p=!1,f=r({},f,h)):r(f,h))}c.state=f}}else s=null;if(Y(e=c.render(),o),n=void 0,"function"==typeof c.getChildContext&&"object"==typeof(a=o.childContextTypes))for(var m in n=c.getChildContext())m in a||i("108",y(o)||"Unknown",m);n&&(t=r({},t,n))}for(;o.isValidElement(e);){var a=e,s=a.type;if("function"!=typeof s)break;n(a,s)}return{child:e,context:t}}var K=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");o.isValidElement(t)?t.type!==l?t=[t]:(t=t.props.children,t=o.isValidElement(t)?[t]:B(t)):t=B(t),this.stack=[{type:null,domNamespace:N.html,children:t,childIndex:0,context:V,footer:""}],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}return e.prototype.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=n._currentValue;this.contextStack[t]=n,this.contextValueStack[t]=r,n._currentValue=e.props.value},e.prototype.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t._currentValue=n},e.prototype.read=function(e){if(this.exhausted)return null;for(var t="";t.length<e;){if(0===this.stack.length){this.exhausted=!0;break}var n=this.stack[this.stack.length-1];if(n.childIndex>=n.children.length){var r=n.footer;t+=r,""!==r&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===n.type?this.currentSelectValue=null:null!=n.type&&null!=n.type.type&&n.type.type.$$typeof===f&&this.popProvider(n.type)}else r=n.children[n.childIndex++],t+=this.render(r,n.context,n.domNamespace)}return t},e.prototype.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?x(n):this.previousWasTextNode?"\x3c!-- --\x3e"+x(n):(this.previousWasTextNode=!0,x(n));if(e=(t=Q(e,t)).child,t=t.context,null===e||!1===e)return"";if(!o.isValidElement(e)){if(null!=e&&null!=e.$$typeof){var r=e.$$typeof;r===s&&i("257"),i("258",r.toString())}return e=B(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}if("string"==typeof(r=e.type))return this.renderDOM(e,t,n);switch(r){case u:case p:case c:case l:return e=B(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}if("object"==typeof r&&null!==r)switch(r.$$typeof){case h:return e=B(r.render(e.props,e.ref)),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case f:return n={type:e,domNamespace:n,children:r=B(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case d:return r=B(e.props.children(e.type._currentValue)),this.stack.push({type:e,domNamespace:n,children:r,childIndex:0,context:t,footer:""}),""}i("130",null==r?r:typeof r,"")},e.prototype.renderDOM=function(e,t,n){var a=e.type.toLowerCase();n===N.html&&T(a),z.hasOwnProperty(a)||(U.test(a)||i("65",a),z[a]=!0);var s=e.props;if("input"===a)s=r({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===a){var l=s.value;if(null==l){l=s.defaultValue;var u=s.children;null!=u&&(null!=l&&i("92"),Array.isArray(u)&&(1>=u.length||i("93"),u=u[0]),l=""+u),null==l&&(l="")}s=r({},s,{value:void 0,children:""+l})}else if("select"===a)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=r({},s,{value:void 0});else if("option"===a){u=this.currentSelectValue;var c=function(e){if(void 0===e||null===e)return e;var t="";return o.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(s.children);if(null!=u){var f=null!=s.value?s.value+"":c;if(l=!1,Array.isArray(u)){for(var d=0;d<u.length;d++)if(""+u[d]===f){l=!0;break}}else l=""+u===f;s=r({selected:void 0,children:void 0},s,{selected:l,children:c})}}for(_ in(l=s)&&(M[a]&&(null!=l.children||null!=l.dangerouslySetInnerHTML)&&i("137",a,""),null!=l.dangerouslySetInnerHTML&&(null!=l.children&&i("60"),"object"==typeof l.dangerouslySetInnerHTML&&"__html"in l.dangerouslySetInnerHTML||i("61")),null!=l.style&&"object"!=typeof l.style&&i("62","")),l=s,u=this.makeStaticMarkup,c=1===this.stack.length,f="<"+e.type,l)if(H.call(l,_)){var p=l[_];if(null!=p){if("style"===_){d=void 0;var h="",m="";for(d in p)if(p.hasOwnProperty(d)){var y=0===d.indexOf("--"),v=p[d];if(null!=v){var g=d;if(P.hasOwnProperty(g))g=P[g];else{var b=g.replace(R,"-$1").toLowerCase().replace(F,"-ms-");g=P[g]=b}h+=m+g+":",m=d,h+=y=null==v||"boolean"==typeof v||""===v?"":y||"number"!=typeof v||0===v||D.hasOwnProperty(m)&&D[m]?(""+v).trim():v+"px",m=";"}}p=h||null}d=null;e:if(y=a,v=l,-1===y.indexOf("-"))y="string"==typeof v.is;else switch(y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":y=!1;break e;default:y=!0}y?q.hasOwnProperty(_)||(d=A(d=_)&&null!=p?d+'="'+x(p)+'"':""):(y=_,d=p,p=w.hasOwnProperty(y)?w[y]:null,(v="style"!==y)&&(v=null!==p?0===p.type:2<y.length&&("o"===y[0]||"O"===y[0])&&("n"===y[1]||"N"===y[1])),v||E(y,d,p,!1)?d="":null!==p?(y=p.attributeName,d=3===(p=p.type)||4===p&&!0===d?y+'=""':y+'="'+x(d)+'"'):d=A(y)?y+'="'+x(d)+'"':""),d&&(f+=" "+d)}}u||c&&(f+=' data-reactroot=""');var _=f;l="",O.hasOwnProperty(a)?_+="/>":(_+=">",l="</"+e.type+">");e:{if(null!=(u=s.dangerouslySetInnerHTML)){if(null!=u.__html){u=u.__html;break e}}else if("string"==typeof(u=s.children)||"number"==typeof u){u=x(u);break e}u=null}return null!=u?(s=[],L[a]&&"\n"===u.charAt(0)&&(_+="\n"),_+=u):s=B(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?T(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:a,children:s,childIndex:0,context:t,footer:l}),this.previousWasTextNode=!1,_},e}(),G={renderToString:function(e){return new K(e,!1).read(1/0)},renderToStaticMarkup:function(e){return new K(e,!0).read(1/0)},renderToNodeStream:function(){i("207")},renderToStaticNodeStream:function(){i("208")},version:"16.5.2"},W={default:G},J=W&&G||W;e.exports=J.default||J},"./node_modules/react-dom/server.browser.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react-dom/cjs/react-dom-server.browser.production.min.js")}}]);
//# sourceMappingURL=17.bundle.js.map